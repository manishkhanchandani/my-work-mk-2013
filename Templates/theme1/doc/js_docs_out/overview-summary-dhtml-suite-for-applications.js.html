<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="dhtml-suite-for-applications.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>dhtml-suite-for-applications.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		DHTML Suite for Applications.
	Copyright (C) 2006  Alf Magne Kalleland(post@dhtmlgoodies.com)<br>
	<br>
	This library is free software; you can redistribute it and/or<br>
	modify it under the terms of the GNU Lesser General Public<br>
	License as published by the Free Software Foundation; either<br>
	version 2.1 of the License, or (at your option) any later version.<br>
	<br>
	This library is distributed in the hope that it will be useful,<br>
	but WITHOUT ANY WARRANTY; without even the implied warranty of<br>
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU<br>
	Lesser General Public License for more details.<br>
	<br>
	You should have received a copy of the GNU Lesser General Public<br>
	License along with this library; if not, write to the Free Software<br>
	Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA<br>
	<br>
	<br>
	www.dhtmlgoodies.com<br> 
	Alf Magne Kalleland<br><BR/><BR/>
	
</p>

<hr>


    <table border="1" cellpadding="3" cellspacing="0" width="100%">
    <tr bgcolor="#CCCCFF" class="TableHeadingColor">
    <td colspan=2><font size="+2">
    
        <b>Class Summary</b>
    
    </font></td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.ajaxUtil.html">DHTMLSuite.ajaxUtil</a></b></td>
    <td>The purpose of this class is to load content of external files into HTML elements on your page(<a href="../../demos/demo-dynamic-content-1.html" target="_blank">demo</a>).</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.autoComplete.html">DHTMLSuite.autoComplete</a></b></td>
    <td>Purpose of class:	this script shows you a list of options based on what you type into a text input.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.calendar.html">DHTMLSuite.calendar</a></b></td>
    <td>Calendar widget (<a href="../../demos/demo-calendar-1.html" target="_blank">demo</a>).</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.calendarLanguageModel.html">DHTMLSuite.calendarLanguageModel</a></b></td>
    <td>Purpose of class:	Store language specific data for calendar.<br>
	Demo: (<a href="../../demos/demo-calendar-1.html" target="_blank">Demo</a>)
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.calendarModel.html">DHTMLSuite.calendarModel</a></b></td>
    <td>Purpose of class:	Data source for a calendar.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.chainedSelect.html">DHTMLSuite.chainedSelect</a></b></td>
    <td>Purpose of class:	Display a tooltip on screen with content from an external file(AJAX)(<a href="../../demos/demo-dyn-tooltip-1.html" target="_blank">Demo</a>)
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.clientInfo.html">DHTMLSuite.clientInfo</a></b></td>
    <td>Purpose of class: Provide browser information to the classes below.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.colorPalette.html">DHTMLSuite.colorPalette</a></b></td>
    <td>This class simply creates a color palette
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.colorSlider.html">DHTMLSuite.colorSlider</a></b></td>
    <td>This is a color slider class
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.colorUtil.html">DHTMLSuite.colorUtil</a></b></td>
    <td>This class provides some methods for working with colors.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.colorWidget.html">DHTMLSuite.colorWidget</a></b></td>
    <td>This class provides some methods for working with colors.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.common.html">DHTMLSuite.common</a></b></td>
    <td>A class containing common method used by one or more of the gui classes below, example: loadCSS.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.config.html">DHTMLSuite.config</a></b></td>
    <td>Store global variables/configurations used by the classes below.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.contextMenu.html">DHTMLSuite.contextMenu</a></b></td>
    <td>&nbsp;</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.domQuery.html">DHTMLSuite.domQuery</a></b></td>
    <td>Purpose of class:	Gives you a set of methods for querying elements on a webpage.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.dragDrop.html">DHTMLSuite.dragDrop</a></b></td>
    <td>Purpose of class:	A general drag and drop class.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.dragDropSimple.html">DHTMLSuite.dragDropSimple</a></b></td>
    <td>Purpose of class:	A very simple drag and drop script.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.dynamicContent.html">DHTMLSuite.dynamicContent</a></b></td>
    <td>The purpose of this class is to load content of external files into HTML elements on your page(<a href="../../demos/demo-dynamic-content-1.html" target="_blank">demo</a>).<br>
		 The pane splitter, window widget and the ajax tooltip script are also using this class to put external content into HTML elements.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.dynamicTooltip.html">DHTMLSuite.dynamicTooltip</a></b></td>
    <td>Purpose of class:	Display a tooltip on screen with content from an external file(AJAX) (<a href="../../demos/demo-dyn-tooltip-1.html" target="_blank">Demo</a>)
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.floatingGallery.html">DHTMLSuite.floatingGallery</a></b></td>
    <td>Purpose of class:	Creates a floating gallery widget.(<a href="../../demos/demo-image-gallery-1.html" target="_blank">Demo</a>)
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.form.html">DHTMLSuite.form</a></b></td>
    <td>Form submission
 Demo: <a href="../../demos/demo-form-validator.html" target="_blank">demo-form-validator.html</a>		

</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.formUtil.html">DHTMLSuite.formUtil</a></b></td>
    <td>Form submission
 Demo: <a href="../../demos/demo-form-validator.html" target="_blank">demo-form-validator.html</a>		

</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.formValidator.html">DHTMLSuite.formValidator</a></b></td>
    <td>Form validator
 Demo: <a href="../../demos/demo-form-validator.html" target="_blank">demo-form-validator.html</a>		

</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.imageEnlarger.html">DHTMLSuite.imageEnlarger</a></b></td>
    <td>Purpose of class:	Enlarge an image and displays it at the center of the screen.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.imageSelection.html">DHTMLSuite.imageSelection</a></b></td>
    <td>Purpose of class:	Tool to select objects(example: images) by dragging a rectangle around them.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.infoPanel.html">DHTMLSuite.infoPanel</a></b></td>
    <td>Purpose of class:	Transforms a regular div into a expandable info pane.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.JSDragDropTree.html">DHTMLSuite.JSDragDropTree</a></b></td>
    <td>Purpose of class:	Transforms an UL,LI list into a folder tree with drag and drop capabilities(See <a target="_blank" href="../../demos/demo-drag-drop-folder-tree.html">demo</A>).</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.listModel.html">DHTMLSuite.listModel</a></b></td>
    <td>Purpose of class:	listModel (<a href="../../demos/demo-text-edit.html" target="_blank">Demo</a>)
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.mediaCollection.html">DHTMLSuite.mediaCollection</a></b></td>
    <td>&nbsp;</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.mediaModel.html">DHTMLSuite.mediaModel</a></b></td>
    <td>Purpose of class:	Creates a image object - store data about an image.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.menuBar.html">DHTMLSuite.menuBar</a></b></td>
    <td>Purpose of class:	Creates a top bar menu strip.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.menuItem.html">DHTMLSuite.menuItem</a></b></td>
    <td>Purpose of class:	Creates the div(s) for a menu item.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.menuModel.html">DHTMLSuite.menuModel</a></b></td>
    <td>Purpose of class:	Organize menu items for different menu widgets.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.menuModelItem.html">DHTMLSuite.menuModelItem</a></b></td>
    <td>The purpose of this class is to store data about a menu item.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.modalMessage.html">DHTMLSuite.modalMessage</a></b></td>
    <td>Purpose of class:	Display a modal DHTML message on the page.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.paneSplitter.html">DHTMLSuite.paneSplitter</a></b></td>
    <td>Purpose of class:	Creates a pane splitter.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.paneSplitterContentModel.html">DHTMLSuite.paneSplitterContentModel</a></b></td>
    <td>Purpose of class:		Data source for the pane splitter pane
			
	Css files used by this script:	

</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.paneSplitterModel.html">DHTMLSuite.paneSplitterModel</a></b></td>
    <td>Purpose of class:	Store metadata about a pane splitter widget
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.paneSplitterPane.html">DHTMLSuite.paneSplitterPane</a></b></td>
    <td>Purpose of class:	Creates the content for a pane in the pane splitter widget( This is a private class )
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.paneSplitterPaneModel.html">DHTMLSuite.paneSplitterPaneModel</a></b></td>
    <td>Purpose of class:		Data source for the pane splitter
			
	Css files used by this script:	

</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.progressBar.html">DHTMLSuite.progressBar</a></b></td>
    <td>Purpose of class:	Creates a progress bar.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.resize.html">DHTMLSuite.resize</a></b></td>
    <td>Resize widget
		
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.slider.html">DHTMLSuite.slider</a></b></td>
    <td>Purpose of class:	Display a DHTML slider on a web page.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.tableWidget.html">DHTMLSuite.tableWidget</a></b></td>
    <td>Purpose of class:	Make HTML tables sortable<br><br>
			Apply application look to the table<br>
			Create one object for each HTML table.<br>
<br>
	Remember to have both &lt;THEAD> and &lt;TBODY> in your table.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.tableWidgetPageHandler.html">DHTMLSuite.tableWidgetPageHandler</a></b></td>
    <td>Purpose of class:	Make HTML tables sortable<br><br></td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.tabView.html">DHTMLSuite.tabView</a></b></td>
    <td>Purpose of class:	Tab view class-transfors plain HTML into tabable layers.<br> 
 (See <a target="_blank" href="../../demos/demo-tabs-1.html">demo 1</A> and <a target="_blank" href="../../demos/demo-tabs-2.html">demo 2</A>) 
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.textEdit.html">DHTMLSuite.textEdit</a></b></td>
    <td>Purpose of class:	Make standard HTML elements editable (<a href="../../demos/demo-text-edit.html" target="_blank">Demo</a>)
							
 </td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.textEditModel.html">DHTMLSuite.textEditModel</a></b></td>
    <td>Purpose of class:	Data model for the textEdit class.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.windowCollection.html">DHTMLSuite.windowCollection</a></b></td>
    <td>&nbsp;</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.windowModel.html">DHTMLSuite.windowModel</a></b></td>
    <td>Purpose of class:	Save metadata about a window.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.windowTabModel.html">DHTMLSuite.windowTabModel</a></b></td>
    <td>Purpose of class:		Store metadata about the content of a window or only a tab of a window.</td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="DHTMLSuite.windowWidget.html">DHTMLSuite.windowWidget</a></b></td>
    <td>Create a window widget.</td>
    </tr>
    
    </table>
    <hr/> 


<!-- ========== METHOD SUMMARY =========== -->

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/*[FILE_START:dhtmlSuite-common.js] */</span>
<span class="comment">/************************************************************************************************************
	<span class="attrib">@fileoverview</span>
	DHTML Suite for Applications.
	Copyright (C) 2006  Alf Magne Kalleland(post<span class="attrib">@dhtmlgoodies</span>.com)&lt;br&gt;
	&lt;br&gt;
	This library is free software; you can redistribute it and/or&lt;br&gt;
	modify it under the terms of the GNU Lesser General Public&lt;br&gt;
	License as published by the Free Software Foundation; either&lt;br&gt;
	version 2.1 of the License, or (at your option) any later version.&lt;br&gt;
	&lt;br&gt;
	This library is distributed in the hope that it will be useful,&lt;br&gt;
	but WITHOUT ANY WARRANTY; without even the implied warranty of&lt;br&gt;
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU&lt;br&gt;
	Lesser General Public License for more details.&lt;br&gt;
	&lt;br&gt;
	You should have received a copy of the GNU Lesser General Public&lt;br&gt;
	License along with this library; if not, write to the Free Software&lt;br&gt;
	Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA&lt;br&gt;
	&lt;br&gt;
	&lt;br&gt;
	www.dhtmlgoodies.com&lt;br&gt; 
	Alf Magne Kalleland&lt;br&gt;

************************************************************************************************************/</span>


<span class="comment">/**
 * 
 * <span class="attrib">@package</span> DHTMLSuite for applications
 * <span class="attrib">@copyright</span> Copyright &amp;copy; 2006, www.dhtmlgoodies.com
 * <span class="attrib">@author</span> Alf Magne Kalleland &lt;post<span class="attrib">@dhtmlgoodies</span>.com&gt;
 */</span>


<span class="comment">/****** 
Some prototypes:
**/</span>

	<span class="comment">// Creating a trim method</span>
<span class="reserved">if</span>(!String.trim)String.<span class="reserved">prototype</span>.trim = <span class="reserved">function</span>() { <span class="reserved">return</span> <span class="reserved">this</span>.replace(/^\s+|\s+$/, <span class="literal">''</span>); };
var DHTMLSuite_funcs = new Object();
<span class="reserved">if</span>(!window.DHTML_SUITE_THEME)var DHTML_SUITE_THEME = <span class="literal">'blue'</span>;
<span class="reserved">if</span>(!window.DHTML_SUITE_THEME_FOLDER)var DHTML_SUITE_THEME_FOLDER = <span class="literal">'../themes/'</span>;
<span class="reserved">if</span>(!window.DHTML_SUITE_JS_FOLDER)var DHTML_SUITE_JS_FOLDER = <span class="literal">'../js/separateFiles/'</span>;


<span class="comment">/************************************************************************************************************
*
* Global variables
*
************************************************************************************************************/</span>

	<span class="comment">// {{{ DHTMLSuite.createStandardObjects()</span>
<span class="comment">/**
 * Create objects used by all scripts
 *
 * <span class="attrib">@public</span>
 */</span>

var DHTMLSuite = new Object();

var standardObjectsCreated = false;	<span class="comment">// The classes below will check this variable, if it is false, default help objects will be created</span>
DHTMLSuite.eventEls = new Array();	<span class="comment">// Array of elements that has been assigned to an event handler.</span>

var widgetDep = new Object();
	<span class="comment">// Widget dependencies</span>
widgetDep[<span class="literal">'formValidator'</span>] = [<span class="literal">'dhtmlSuite-formUtil.js'</span>];	<span class="comment">// Form validator widget</span>
widgetDep[<span class="literal">'paneSplitter'</span>] = [<span class="literal">'dhtmlSuite-paneSplitter.js'</span>,<span class="literal">'dhtmlSuite-paneSplitterModel.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'menuBar'</span>] = [<span class="literal">'dhtmlSuite-menuBar.js'</span>,<span class="literal">'dhtmlSuite-menuItem.js'</span>,<span class="literal">'dhtmlSuite-menuModel.js'</span>];
widgetDep[<span class="literal">'windowWidget'</span>] = [<span class="literal">'dhtmlSuite-windowWidget.js'</span>,<span class="literal">'dhtmlSuite-resize.js'</span>,<span class="literal">'dhtmlSuite-dragDropSimple.js'</span>,<span class="literal">'ajax.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>];
widgetDep[<span class="literal">'colorWidget'</span>] = [<span class="literal">'dhtmlSuite-colorWidgets.js'</span>,<span class="literal">'dhtmlSuite-colorUtil.js'</span>];
widgetDep[<span class="literal">'colorSlider'</span>] = [<span class="literal">'dhtmlSuite-colorWidgets.js'</span>,<span class="literal">'dhtmlSuite-colorUtil.js'</span>,<span class="literal">'dhtmlSuite-slider.js'</span>];
widgetDep[<span class="literal">'colorPalette'</span>] = [<span class="literal">'dhtmlSuite-colorWidgets.js'</span>,<span class="literal">'dhtmlSuite-colorUtil.js'</span>];
widgetDep[<span class="literal">'calendar'</span>] = [<span class="literal">'dhtmlSuite-calendar.js'</span>,<span class="literal">'dhtmlSuite-dragDropSimple.js'</span>];
widgetDep[<span class="literal">'dragDropTree'</span>] = [<span class="literal">'dhtmlSuite-dragDropTree.js'</span>];
widgetDep[<span class="literal">'slider'</span>] = [<span class="literal">'dhtmlSuite-slider.js'</span>];
widgetDep[<span class="literal">'dragDrop'</span>] = [<span class="literal">'dhtmlSuite-dragDrop.js'</span>];
widgetDep[<span class="literal">'imageEnlarger'</span>] = [<span class="literal">'dhtmlSuite-imageEnlarger.js'</span>,<span class="literal">'dhtmlSuite-dragDropSimple.js'</span>];
widgetDep[<span class="literal">'imageSelection'</span>] = [<span class="literal">'dhtmlSuite-imageSelection.js'</span>];
widgetDep[<span class="literal">'floatingGallery'</span>] = [<span class="literal">'dhtmlSuite-floatingGallery.js'</span>,<span class="literal">'dhtmlSuite-mediaModel.js'</span>];
widgetDep[<span class="literal">'contextMenu'</span>] = [<span class="literal">'dhtmlSuite-contextMenu.js'</span>,<span class="literal">'dhtmlSuite-menuBar.js'</span>,<span class="literal">'dhtmlSuite-menuItem.js'</span>,<span class="literal">'dhtmlSuite-menuModel.js'</span>];
widgetDep[<span class="literal">'dynamicContent'</span>] = [<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'textEdit'</span>] = [<span class="literal">'dhtmlSuite-textEdit.js'</span>,<span class="literal">'dhtmlSuite-textEditModel.js'</span>,<span class="literal">'dhtmlSuite-listModel.js'</span>];
widgetDep[<span class="literal">'listModel'</span>] = [<span class="literal">'dhtmlSuite-listModel.js'</span>];
widgetDep[<span class="literal">'resize'</span>] = [<span class="literal">'dhtmlSuite-resize.js'</span>];
widgetDep[<span class="literal">'dragDropSimple'</span>] = [<span class="literal">'dhtmlSuite-dragDropSimple.js'</span>];
widgetDep[<span class="literal">'dynamicTooltip'</span>] = [<span class="literal">'dhtmlSuite-dynamicTooltip.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'modalMessage'</span>] = [<span class="literal">'dhtmlSuite-modalMessage.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'tableWidget'</span>] = [<span class="literal">'dhtmlSuite-tableWidget.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'progressBar'</span>] = [<span class="literal">'dhtmlSuite-progressBar.js'</span>];
widgetDep[<span class="literal">'tabView'</span>] = [<span class="literal">'dhtmlSuite-tabView.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'infoPanel'</span>] = [<span class="literal">'dhtmlSuite-infoPanel.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'form'</span>] = [<span class="literal">'dhtmlSuite-formUtil.js'</span>,<span class="literal">'dhtmlSuite-dynamicContent.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'autoComplete'</span>]=[<span class="literal">'dhtmlSuite-autoComplete.js'</span>,<span class="literal">'ajax.js'</span>];
widgetDep[<span class="literal">'chainedSelect'</span>]=[<span class="literal">'dhtmlSuite-chainedSelect.js'</span>,<span class="literal">'ajax.js'</span>];


var depCache = new Object();

DHTMLSuite.include = <span class="reserved">function</span>(widget)
{
	<span class="reserved">if</span>(!widgetDep[widget]){
		alert(<span class="literal">'Cannot find the files for widget '</span> + widget + <span class="literal">'. Please verify that the name is correct'</span>);
		<span class="reserved">return</span>;
	}
	var files = widgetDep[widget];
	<span class="reserved">for</span>(var no=0;no&lt;files.length;no++){
		<span class="reserved">if</span>(!depCache[files[no]]){
		    document.write(<span class="literal">'&lt;'</span> + <span class="literal">'script'</span>);
		    document.write(<span class="literal">' language="javascript"'</span>);
		    document.write(<span class="literal">' type="text/javascript"'</span>);
		    document.write(<span class="literal">' src="'</span> + DHTML_SUITE_JS_FOLDER + files[no] + <span class="literal">'"&gt;'</span>);
		    document.write(<span class="literal">'&lt;/'</span> + <span class="literal">'script'</span> + <span class="literal">'&gt;'</span>);
		    depCache[files[no]] = true;
		}
	}
}

DHTMLSuite.discardElement = <span class="reserved">function</span>(element) { 
	element = DHTMLSuite.commonObj.getEl(element);
    var gBin = document.getElementById(<span class="literal">'IELeakGBin'</span>); 
    <span class="reserved">if</span> (!gBin) { 
        gBin = document.createElement(<span class="literal">'DIV'</span>); 
        gBin.id = <span class="literal">'IELeakGBin'</span>; 
        gBin.style.display = <span class="literal">'none'</span>; 
        document.body.appendChild(gBin); 
    } 
    <span class="comment">// move the element to the garbage bin </span>
    gBin.appendChild(element); 
    gBin.innerHTML = <span class="literal">''</span>; 
} 


DHTMLSuite.createStandardObjects = <span class="reserved">function</span>()
{
	DHTMLSuite.clientInfoObj = new DHTMLSuite.clientInfo();	<span class="comment">// Create browser info object</span>
	DHTMLSuite.clientInfoObj.init();	
	<span class="reserved">if</span>(!DHTMLSuite.configObj){	<span class="comment">// If this object isn't allready created, create it.</span>
		DHTMLSuite.configObj = new DHTMLSuite.config();	<span class="comment">// Create configuration object.</span>
		DHTMLSuite.configObj.init();
	}
	DHTMLSuite.commonObj = new DHTMLSuite.common();	<span class="comment">// Create configuration object.</span>
	DHTMLSuite.variableStorage = new DHTMLSuite.globalVariableStorage();;	<span class="comment">// Create configuration object.</span>
	DHTMLSuite.commonObj.init();
	DHTMLSuite.domQueryObj = new DHTMLSuite.domQuery();

	
	DHTMLSuite.commonObj.addEvent(window,<span class="literal">'unload'</span>,<span class="reserved">function</span>(){ DHTMLSuite.commonObj.__clearMemoryGarbage(); });
	
	standardObjectsCreated = true;	
}

    


<span class="comment">/************************************************************************************************************
*	Configuration class used by most of the scripts
*
*	Created:			August, 19th, 2006
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Store global variables/configurations used by the classes below. Example: If you want to  
*		 change the path to the images used by the scripts, change it here. An object of this   
*		 class will always be available to the other classes. The name of this object is 
*		"DHTMLSuite.configObj".	&lt;br&gt;&lt;br&gt;
*			
*		If you want to create an object of this class manually, remember to name it "DHTMLSuite.configObj"
*		This object should then be created before any other objects. This is nescessary if you want
*		the other objects to use the values you have put into the object. &lt;br&gt;
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>
DHTMLSuite.config = <span class="reserved">function</span>()
{
	var imagePath;	<span class="comment">// Path to images used by the classes. </span>
	var cssPath;	<span class="comment">// Path to CSS files used by the DHTML suite.	</span>

	var defaultCssPath;
	var defaultImagePath;
}


DHTMLSuite.config.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ init()</span>
	<span class="comment">/**
	 * 	Initializes the config object - the config class is used to store global properties used by almost all widgets
	 *
	 * <span class="attrib">@public</span>
	 */</span>
	init : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.imagePath = DHTML_SUITE_THEME_FOLDER + DHTML_SUITE_THEME + <span class="literal">'/images/'</span>;	<span class="comment">// Path to images		</span>
		<span class="reserved">this</span>.cssPath = DHTML_SUITE_THEME_FOLDER + DHTML_SUITE_THEME + <span class="literal">'/css/'</span>;	<span class="comment">// Path to images	</span>
		
		<span class="reserved">this</span>.defaultCssPath = <span class="reserved">this</span>.cssPath;
		<span class="reserved">this</span>.defaultImagePath = <span class="reserved">this</span>.imagePath;
			
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCssPath()</span>
    <span class="comment">/**
     * This method will save a new CSS path, i.e. where the css files of the dhtml suite are located(the folder).
     *	This method is rarely used. Default value is the variable DHTML_SUITE_THEME_FOLDER + DHTML_SUITE_THEME + '/css',
     *	which means that the css path is set dynamically based on which theme you choose.
     *
     * <span class="attrib">@param</span> string newCssPath = New path to css files(folder - remember to have a slash(/) at the end)
     * <span class="attrib">@public</span>
     */</span>
    	
	setCssPath : <span class="reserved">function</span>(newCssPath)
	{
		<span class="reserved">this</span>.cssPath = newCssPath;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ resetCssPath()</span>
    <span class="comment">/**
     * <span class="attrib">@deprecated</span>
     * Resets css path back to default value which is ../css_dhtmlsuite/
     * This method is deprecated.
     *
     * <span class="attrib">@public</span>
     */</span>    	
	resetCssPath : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.cssPath = <span class="reserved">this</span>.defaultCssPath;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ resetImagePath()</span>
    <span class="comment">/**
     * <span class="attrib">@deprecated</span>
     *
     * Resets css path back to default path which is DHTML_SUITE_THEME_FOLDER + DHTML_SUITE_THEME + '/css'
     * This method is deprecated. 
     * <span class="attrib">@public</span>
     */</span>    	
	resetImagePath : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.imagePath = <span class="reserved">this</span>.defaultImagePath;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setImagePath()</span>
    <span class="comment">/**
     * This method will save a new image file path, i.e. where the image files used by the dhtml suite ar located
     *
     * <span class="attrib">@param</span> string newImagePath = New path to image files (remember to have a slash(/) at the end)
     * <span class="attrib">@public</span>
     */</span>
	setImagePath : <span class="reserved">function</span>(newImagePath)
	{
		<span class="reserved">this</span>.imagePath = newImagePath;
	}
	<span class="comment">// }}}</span>
}



DHTMLSuite.globalVariableStorage = <span class="reserved">function</span>()
{
	var menuBar_highlightedItems;	<span class="comment">// Array of highlighted menu bar items</span>
	<span class="reserved">this</span>.menuBar_highlightedItems = new Array();
	
	var arrayDSObjects;	<span class="comment">// Array of objects of class menuItem.</span>
	var arrayOfDhtmlSuiteObjects;
	<span class="reserved">this</span>.arrayDSObjects = new Array();
	<span class="reserved">this</span>.arrayOfDhtmlSuiteObjects = <span class="reserved">this</span>.arrayDSObjects;
	var ajaxObjects;
	<span class="reserved">this</span>.ajaxObjects = new Array();
}

DHTMLSuite.globalVariableStorage.<span class="reserved">prototype</span> = {
	
}


<span class="comment">/************************************************************************************************************
*	A class with general methods used by most of the scripts
*
*	Created:			August, 19th, 2006
*	Purpose of class:	A class containing common method used by one or more of the gui classes below, 
* 						example: loadCSS. 
*						An object("DHTMLSuite.commonObj") of this  class will always be available to the other classes. 
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> A class containing common method used by one or more of the gui classes below, example: loadCSS. An object("DHTMLSuite.commonObj") of this  class will always be available to the other classes. 
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.common = <span class="reserved">function</span>()
{
	var loadedCSSFiles;	<span class="comment">// Array of loaded CSS files. Prevent same CSS file from being loaded twice.</span>
	var cssCacheStatus;	<span class="comment">// Css cache status</span>
	var eventEls;
	var isOkToSelect;	<span class="comment">// Boolean variable indicating if it's ok to make text selections</span>
	
	<span class="reserved">this</span>.okToSelect = true;
	<span class="reserved">this</span>.cssCacheStatus = true;	<span class="comment">// Caching of css files = on(Default)</span>
	<span class="reserved">this</span>.eventEls = new Array();	
}

DHTMLSuite.common.<span class="reserved">prototype</span> = {
	
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * This method initializes the DHTMLSuite_common object.
     *	This class contains a lot of useful methods used by most widgets.
     *
     * <span class="attrib">@public</span>
     */</span>    	
	init : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.loadedCSSFiles = new Array();
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ loadCSS()</span>
    <span class="comment">/**
     * This method loads a CSS file(Cascading Style Sheet) dynamically - i.e. an alternative to &lt;link&gt; tag in the document.
     *
     * <span class="attrib">@param</span> string cssFile = Name of css file. It will be loaded from the path specified in the DHTMLSuite.common object
     * <span class="attrib">@param</span> Boolean prefixConfigPath = Use config path as prefix.
     * <span class="attrib">@public</span>
     */</span>	
	loadCSS : <span class="reserved">function</span>(cssFile,prefixConfigPath)
	{
		<span class="reserved">if</span>(!prefixConfigPath &amp;&amp; prefixConfigPath!==false)prefixConfigPath=true;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.loadedCSSFiles[cssFile]){
			<span class="reserved">this</span>.loadedCSSFiles[cssFile] = true;
			var lt = document.createElement(<span class="literal">'LINK'</span>);
			<span class="reserved">if</span>(!<span class="reserved">this</span>.cssCacheStatus){
				<span class="reserved">if</span>(cssFile.indexOf(<span class="literal">'?'</span>)&gt;=0)cssFile = cssFile + <span class="literal">'&amp;'</span>; <span class="reserved">else</span> cssFile = cssFile + <span class="literal">'?'</span>;
				cssFile = cssFile + <span class="literal">'rand='</span>+ Math.random();	<span class="comment">// To prevent caching</span>
			}
			<span class="reserved">if</span>(prefixConfigPath){
				lt.href = DHTMLSuite.configObj.cssPath + cssFile;
			}<span class="reserved">else</span>{
				lt.href = cssFile;
			}
			lt.rel = <span class="literal">'stylesheet'</span>;
			lt.media = <span class="literal">'screen'</span>;
			lt.type = <span class="literal">'text/css'</span>;
			document.getElementsByTagName(<span class="literal">'HEAD'</span>)[0].appendChild(lt);				
		}
	}		
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setTextSelOk()</span>
    <span class="comment">/**
     * Is it ok to make text selections ?
     *
     * <span class="attrib">@param</span> Boolean okToSelect 
     * <span class="attrib">@private</span>
     */</span>		
	__setTextSelOk : <span class="reserved">function</span>(okToSelect){
		<span class="reserved">this</span>.okToSelect = okToSelect;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setTextSelOk()</span>
    <span class="comment">/**
     * Returns true if it's ok to make text selections, false otherwise.
     *
     * <span class="attrib">@return</span> Boolean okToSelect 
     * <span class="attrib">@private</span>
     */</span>		
	__isTextSelOk : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.okToSelect;
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ setCssCacheStatus()</span>
    <span class="comment">/**
     * Specify if css files should be cached or not. 
     *
     *	<span class="attrib">@param</span> Boolean cssCacheStatus = true = cache on, false = cache off
     *
     * <span class="attrib">@public</span>
     */</span>	
	setCssCacheStatus : <span class="reserved">function</span>(cssCacheStatus)
	{		
	  <span class="reserved">this</span>.cssCacheStatus = cssCacheStatus;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ getEl()</span>
    <span class="comment">/**
     * Return a reference to an object
     *
     * <span class="attrib">@param</span> Object elRef = Id, name or direct reference to element
     * <span class="attrib">@return</span> Object HTMLElement - direct reference to element
     * <span class="attrib">@public</span>
     */</span>		
	getEl : <span class="reserved">function</span>(elRef)
	{
		<span class="reserved">if</span>(typeof elRef==<span class="literal">'string'</span>){
			<span class="reserved">if</span>(document.getElementById(elRef))<span class="reserved">return</span> document.getElementById(elRef);
			<span class="reserved">if</span>(document.forms[elRef])<span class="reserved">return</span> document.forms[elRef];
			<span class="reserved">if</span>(document[elRef])<span class="reserved">return</span> document[elRef];
			<span class="reserved">if</span>(window[elRef])<span class="reserved">return</span> window[elRef];
		}
		<span class="reserved">return</span> elRef;	<span class="comment">// Return original ref.</span>
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ isArray()</span>
    <span class="comment">/**
     * Return true if element is an array
     *
     * <span class="attrib">@param</span> Object el = Reference to HTML element
     * <span class="attrib">@public</span>
     */</span>		
	isArray : <span class="reserved">function</span>(el)
	{
		<span class="reserved">if</span>(el.constructor.toString().indexOf(<span class="literal">"Array"</span>) != -1)<span class="reserved">return</span> true;
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getStyle()</span>
    <span class="comment">/**
     * Return specific style attribute for an element
     *
     * <span class="attrib">@param</span> Object el = Reference to HTML element
     * <span class="attrib">@param</span> String property = Css property
     * <span class="attrib">@public</span>
     */</span>		
	getStyle : <span class="reserved">function</span>(el,property)
	{		
		el = <span class="reserved">this</span>.getEl(el);
	    <span class="reserved">if</span> (document.defaultView &amp;&amp; document.defaultView.getComputedStyle) {
            var retVal = null;	            
            var comp = document.defaultView.getComputedStyle(el, <span class="literal">''</span>);
            <span class="reserved">if</span> (comp){
                retVal = comp[property];
            }	            
            <span class="reserved">return</span> el.style[property] || retVal;
	    }
		<span class="reserved">if</span> (document.documentElement.currentStyle &amp;&amp; DHTMLSuite.clientInfoObj.isMSIE){	
	        var retVal = null;
	        <span class="reserved">if</span>(el.currentStyle)value = el.currentStyle[property];
	        <span class="reserved">return</span> (el.style[property] || retVal);                    		
		}
		<span class="reserved">return</span> el.style[property];				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getLeftPos()</span>
    <span class="comment">/**
     * This method will return the left coordinate(pixel) of an HTML element
     *
     * <span class="attrib">@param</span> Object el = Reference to HTML element
     * <span class="attrib">@public</span>
     */</span>	
	getLeftPos : <span class="reserved">function</span>(el)
	{	 
		<span class="comment">/*
		if(el.getBoundingClientRect){ // IE
			var box = el.getBoundingClientRect();	
			return (box.left/1 + Math.max(document.body.scrollLeft,document.documentElement.scrollLeft));
		}
		*/</span>
		<span class="reserved">if</span>(document.getBoxObjectFor){
			<span class="reserved">if</span>(el.tagName!=<span class="literal">'INPUT'</span> &amp;&amp; el.tagName!=<span class="literal">'SELECT'</span> &amp;&amp; el.tagName!=<span class="literal">'TEXTAREA'</span>)<span class="reserved">return</span> document.getBoxObjectFor(el).x
		}		 
		var returnValue = el.offsetLeft;
		<span class="reserved">while</span>((el = el.offsetParent) != null){
			<span class="reserved">if</span>(el.tagName!=<span class="literal">'HTML'</span>){
				returnValue += el.offsetLeft;
				<span class="reserved">if</span>(document.all)returnValue+=el.clientLeft;
			}
		}
		<span class="reserved">return</span> returnValue;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getTopPos()</span>
    <span class="comment">/**
     * This method will return the top coordinate(pixel) of an HTML element/tag
     *
     * <span class="attrib">@param</span> Object el = Reference to HTML element
     * <span class="attrib">@public</span>
     */</span>	
	getTopPos : <span class="reserved">function</span>(el)
	{	
		<span class="comment">/*
		if(el.getBoundingClientRect){	// IE
			var box = el.getBoundingClientRect();	
			return (box.top/1 + Math.max(document.body.scrollTop,document.documentElement.scrollTop));
		}
		*/</span>	
		<span class="reserved">if</span>(document.getBoxObjectFor){
			<span class="reserved">if</span>(el.tagName!=<span class="literal">'INPUT'</span> &amp;&amp; el.tagName!=<span class="literal">'SELECT'</span> &amp;&amp; el.tagName!=<span class="literal">'TEXTAREA'</span>)<span class="reserved">return</span> document.getBoxObjectFor(el).y
		}
		
		var returnValue = el.offsetTop;
		<span class="reserved">while</span>((el = el.offsetParent) != null){
			<span class="reserved">if</span>(el.tagName!=<span class="literal">'HTML'</span>){
				returnValue += (el.offsetTop - el.scrollTop);
				<span class="reserved">if</span>(document.all)returnValue+=el.clientTop;
			}
		} 
		<span class="reserved">return</span> returnValue;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ getCookie()</span>
    <span class="comment">/**
     *
     * 	These cookie functions are downloaded from 
	 * 	http://www.mach5.com/support/analyzer/manual/html/General/CookiesJavaScript.htm
	 *
     *  This function returns the value of a cookie
     *
     * <span class="attrib">@param</span> String name = Name of cookie
     * <span class="attrib">@param</span> Object inputObj = Reference to HTML element
     * <span class="attrib">@public</span>
     */</span>	
	getCookie : <span class="reserved">function</span>(name) { 
	   var start = document.cookie.indexOf(name+<span class="literal">"="</span>); 
	   var len = start+name.length+1; 
	   <span class="reserved">if</span> ((!start) &amp;&amp; (name != document.cookie.substring(0,name.length))) <span class="reserved">return</span> null; 
	   <span class="reserved">if</span> (start == -1) <span class="reserved">return</span> null; 
	   var end = document.cookie.indexOf(<span class="literal">";"</span>,len); 
	   <span class="reserved">if</span> (end == -1) end = document.cookie.length; 
	   <span class="reserved">return</span> unescape(document.cookie.substring(len,end)); 
	} 	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setCookie()</span>
    <span class="comment">/**
     *
     * 	These cookie functions are downloaded from 
	 * 	http://www.mach5.com/support/analyzer/manual/html/General/CookiesJavaScript.htm
	 *
     *  This function creates a cookie. (This method has been slighhtly modified)
     *
     * <span class="attrib">@param</span> String name = Name of cookie
     * <span class="attrib">@param</span> String value = Value of cookie
     * <span class="attrib">@param</span> Int expires = Timestamp - days
     * <span class="attrib">@param</span> String path = Path for cookie (Usually left empty)
     * <span class="attrib">@param</span> String domain = Cookie domain
     * <span class="attrib">@param</span> Boolean secure = Secure cookie(SSL)
     * 
     * <span class="attrib">@public</span>
     */</span>	
	setCookie : <span class="reserved">function</span>(name,value,expires,path,domain,secure) { 
		expires = expires * 60*60*24*1000;
		var today = new Date();
		var expires_date = new Date( today.getTime() + (expires) );
	    var cookieString = name + <span class="literal">"="</span> +escape(value) + 
	       ( (expires) ? <span class="literal">";expires="</span> + expires_date.toGMTString() : <span class="literal">""</span>) + 
	       ( (path) ? <span class="literal">";path="</span> + path : <span class="literal">""</span>) + 
	       ( (domain) ? <span class="literal">";domain="</span> + domain : <span class="literal">""</span>) + 
	       ( (secure) ? <span class="literal">";secure"</span> : <span class="literal">""</span>); 
	    document.cookie = cookieString; 
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteCookie()</span>
    <span class="comment">/**
	 *
     *  This function deletes a cookie. (This method has been slighhtly modified)
     *
     * <span class="attrib">@param</span> String name = Name of cookie
     * <span class="attrib">@param</span> String path = Path for cookie (Usually left empty)
     * <span class="attrib">@param</span> String domain = Cookie domain
     * 
     * <span class="attrib">@public</span>
     */</span>	
	deleteCookie : <span class="reserved">function</span>( name, path, domain ) 
	{
		<span class="reserved">if</span> ( <span class="reserved">this</span>.getCookie( name ) ) document.cookie = name + <span class="literal">"="</span> +
		( ( path ) ? <span class="literal">";path="</span> + path : <span class="literal">""</span>) +
		( ( domain ) ? <span class="literal">";domain="</span> + domain : <span class="literal">""</span> ) +
		<span class="literal">";expires=Thu, 01-Jan-1970 00:00:01 GMT"</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ cancelEvent()</span>
    <span class="comment">/**
     *
     *  This function only returns false. It is used to cancel selections and drag
     *
     * 
     * <span class="attrib">@public</span>
     */</span>	
    	
	cancelEvent : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ addEvent()</span>
    <span class="comment">/**
     *
     *  This function adds an event listener to an element on the page.
     *
     *	<span class="attrib">@param</span> Object whichObject = Reference to HTML element(Which object to assigne the event)
     *	<span class="attrib">@param</span> String eventType = Which type of event, example "mousemove" or "mouseup" (NOT "onmousemove")
     *	<span class="attrib">@param</span> functionName = Name of function to execute. 
     * 
     * <span class="attrib">@public</span>
     */</span>	
	addEvent : <span class="reserved">function</span>( obj, type, fn,suffix ) {
		<span class="reserved">if</span>(!suffix)suffix = <span class="literal">''</span>;
		<span class="reserved">if</span> ( obj.attachEvent ) {
			<span class="reserved">if</span> ( typeof DHTMLSuite_funcs[type+fn+suffix] != <span class="literal">'function'</span>) {
				DHTMLSuite_funcs[type+fn+suffix] = <span class="reserved">function</span>() {
					fn.apply(window.event.srcElement);
				};
				obj.attachEvent(<span class="literal">'on'</span>+type, DHTMLSuite_funcs[type+fn+suffix] );
			}
			obj = null;
		} <span class="reserved">else</span> {
			obj.addEventListener( type, fn, false );
		}
		<span class="reserved">this</span>.__addEventEl(obj);
	}	

	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ removeEvent()</span>
    <span class="comment">/**
     *
     *  This function removes an event listener from an element on the page.
     *
     *	<span class="attrib">@param</span> Object whichObject = Reference to HTML element(Which object to assigne the event)
     *	<span class="attrib">@param</span> String eventType = Which type of event, example "mousemove" or "mouseup"
     *	<span class="attrib">@param</span> functionName = Name of function to execute. 
     * 
     * <span class="attrib">@public</span>
     */</span>		
	removeEvent : <span class="reserved">function</span>(obj,type,fn,suffix)
	{ 
		<span class="reserved">if</span> ( obj.detachEvent ) {
		obj.detachEvent( <span class="literal">'on'</span>+type, DHTMLSuite_funcs[type+fn+suffix] );
			DHTMLSuite_funcs[type+fn+suffix] = null;
			obj = null;
		} <span class="reserved">else</span> {
			obj.removeEventListener( type, fn, false );
		}
	} 
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearMemoryGarbage()</span>
    <span class="comment">/**
     *
     *  This function is used for Internet Explorer in order to clear memory when the page unloads.
     *
     * 
     * <span class="attrib">@private</span>
     */</span>	
    __clearMemoryGarbage : <span class="reserved">function</span>()
    {
   		<span class="comment">/* Example of event which causes memory leakage in IE 
   		DHTMLSuite.commonObj.addEvent(expandRef,"click",function(){ window.refToMyMenuBar[index].__changeMenuBarState(this); })
   		We got a circular reference.
   		*/</span>
    	<span class="reserved">if</span>(!DHTMLSuite.clientInfoObj.isMSIE)<span class="reserved">return</span>;
   	
    	<span class="reserved">for</span>(var no=0;no&lt;DHTMLSuite.eventEls.length;no++){
    		try{
    			var el = DHTMLSuite.eventEls[no];
	    		el.onclick = null;
	    		el.onmousedown = null;
	    		el.onmousemove = null;
	    		el.onmouseout = null;
	    		el.onmouseover = null;
	    		el.onmouseup = null;
	    		el.onfocus = null;
	    		el.onblur = null;
	    		el.onkeydown = null;
	    		el.onkeypress = null;
	    		el.onkeyup = null;
	    		el.onselectstart = null;
	    		el.ondragstart = null;
	    		el.oncontextmenu = null;
	    		el.onscroll = null;   
	    		el = null; 		
    		}catch(e){
    		}
    	}    	
    	
    	<span class="reserved">for</span>(var no in DHTMLSuite.variableStorage.arrayDSObjects){
    		DHTMLSuite.variableStorage.arrayDSObjects[no] = null;    			
    	}
    	
    	window.onbeforeunload = null;
    	window.onunload = null;
    	DHTMLSuite = null;
    }		
    <span class="comment">// }}}</span>
    ,
	<span class="comment">// {{{ __addEventEl()</span>
    <span class="comment">/**
     *
     *  Add element to garbage collection array. The script will loop through this array and remove event handlers onload in ie.
     *
     * 
     * <span class="attrib">@private</span>
     */</span>	    
    __addEventEl : <span class="reserved">function</span>(el)
    {
    	DHTMLSuite.eventEls[DHTMLSuite.eventEls.length] = el;    
    }
    <span class="comment">// }}}</span>
    ,
	<span class="comment">// {{{ getSrcElement()</span>
    <span class="comment">/**
     *
     *  Returns a reference to the HTML element which triggered an event.
     *	<span class="attrib">@param</span> Event e = Event object
     *
     * 
     * <span class="attrib">@public</span>
     */</span>	       
    getSrcElement : <span class="reserved">function</span>(e)
    {
    	var el;
		<span class="reserved">if</span> (e.target) el = e.target;
			<span class="reserved">else</span> <span class="reserved">if</span> (e.srcElement) el = e.srcElement;
			<span class="reserved">if</span> (el.nodeType == 3) <span class="comment">// defeat Safari bug</span>
				el = el.parentNode;
		<span class="reserved">return</span> el;	
    }	
    <span class="comment">// }}}</span>
    ,
	<span class="comment">// {{{ getKeyFromEvent()</span>
    <span class="comment">/**
     *
     *  Returns key from event object
     *	<span class="attrib">@param</span> Event e = Event object
     * 
     * <span class="attrib">@public</span>
     */</span>	     
    getKeyFromEvent : <span class="reserved">function</span>(e)
    {
		var code = <span class="reserved">this</span>.getKeyCode(e);   	
    	<span class="reserved">return</span> String.fromCharCode(code);
    }
    <span class="comment">// }}}</span>
    ,
	<span class="comment">// {{{ getKeyCode()</span>
    <span class="comment">/**
     *
     *  Returns key code from event
     *	<span class="attrib">@param</span> Event e = Event object
     * 
     * <span class="attrib">@public</span>
     */</span>	     
    getKeyCode : <span class="reserved">function</span>(e)
    {
    	<span class="reserved">if</span> (e.keyCode) code = e.keyCode; <span class="reserved">else</span> <span class="reserved">if</span> (e.which) code = e.which;  
    	<span class="reserved">return</span> code;
    }
    <span class="comment">// }}}	</span>
    ,
	<span class="comment">// {{{ isObjectClicked()</span>
    <span class="comment">/**
     *
     *  Returns true if an object is clicked, false otherwise. This method will also return true if you clicked on a sub element
     *	<span class="attrib">@param</span> Object obj = Reference to HTML element
     *	<span class="attrib">@param</span> Event e = Event object
     *
     * 
     * <span class="attrib">@public</span>
     */</span>	      
	isObjectClicked : <span class="reserved">function</span>(obj,e)
	{
		var src = <span class="reserved">this</span>.getSrcElement(e);
		var string = src.tagName + <span class="literal">'('</span> + src.className + <span class="literal">')'</span>;
		<span class="reserved">if</span>(src==obj)<span class="reserved">return</span> true;
		<span class="reserved">while</span>(src.parentNode &amp;&amp; src.tagName.toLowerCase()!=<span class="literal">'html'</span>){
			src = src.parentNode;
			string = string + <span class="literal">','</span> + src.tagName + <span class="literal">'('</span> + src.className + <span class="literal">')'</span>;
			<span class="reserved">if</span>(src==obj)<span class="reserved">return</span> true;			
		}		
		<span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getObjectByClassName()</span>
    <span class="comment">/**
     *
     *  Walks up the DOM tree and returns first found object with a given class name
     *
     *	<span class="attrib">@param</span> Event e = Event object
     *	<span class="attrib">@param</span> String className = CSS - Class name
     *
     * 
     * <span class="attrib">@public</span>
     */</span>	 	
	getObjectByClassName : <span class="reserved">function</span>(e,className)
	{
		var src = <span class="reserved">this</span>.getSrcElement(e);
		<span class="reserved">if</span>(src.className==className)<span class="reserved">return</span> src;
		<span class="reserved">while</span>(src &amp;&amp; src.tagName.toLowerCase()!=<span class="literal">'html'</span>){
			src = src.parentNode;	
			<span class="reserved">if</span>(src.className==className)<span class="reserved">return</span> src;
		}
		<span class="reserved">return</span> false;
	}
	<span class="comment">//}}}</span>
	,
	<span class="comment">// {{{ getObjectByAttribute()</span>
    <span class="comment">/**
     *
     *  Walks up the DOM tree and returns first found object with a given attribute set
     *
     *	<span class="attrib">@param</span> Event e = Event object
     *	<span class="attrib">@param</span> String attribute = Custom attribute
     *
     * 
     * <span class="attrib">@public</span>
     */</span>	 	
	getObjectByAttribute : <span class="reserved">function</span>(e,attribute)
	{
		var src = <span class="reserved">this</span>.getSrcElement(e);
		var att = src.getAttribute(attribute);
		<span class="reserved">if</span>(!att)att = src[attribute];
		<span class="reserved">if</span>(att)<span class="reserved">return</span> src;
		<span class="reserved">while</span>(src &amp;&amp; src.tagName.toLowerCase()!=<span class="literal">'html'</span>){
			src = src.parentNode;	
			var att = src.getAttribute(<span class="literal">'attribute'</span>);
			<span class="reserved">if</span>(!att)att = src[attribute];		
			<span class="reserved">if</span>(att)<span class="reserved">return</span> src;
		}
		<span class="reserved">return</span> false;
	}
	<span class="comment">//}}}</span>
	,
	<span class="comment">// {{{ getUniqueId()</span>
    <span class="comment">/**
     *
     *  Returns a unique numeric id
     *
     *
     * 
     * <span class="attrib">@public</span>
     */</span>		
	getUniqueId : <span class="reserved">function</span>()
	{
		var no = Math.random() + <span class="literal">''</span>;
		no = no.replace(<span class="literal">'.'</span>,<span class="literal">''</span>);		
		var no2 = Math.random() + <span class="literal">''</span>;
		no2 = no2.replace(<span class="literal">'.'</span>,<span class="literal">''</span>);		
		<span class="reserved">return</span> no + no2;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getAssociativeArrayFromString()</span>
    <span class="comment">/**
     *
     *  Returns an associative array from a comma delimited string
     *  <span class="attrib">@param</span> String propertyString - commaseparated string(example: "id:myid,title:My title,contentUrl:includes/tab.inc")
     *
     *	<span class="attrib">@return</span> Associative array of keys + property value(example: key: id, value : myId)
     * <span class="attrib">@public</span>
     */</span>		
	getAssociativeArrayFromString : <span class="reserved">function</span>(propertyString)
	{
		<span class="reserved">if</span>(!propertyString)<span class="reserved">return</span>;
		var retArray = new Array();
		var items = propertyString.split(/,/g);
		<span class="reserved">for</span>(var no=0;no&lt;items.length;no++){
			var tokens = items[no].split(/:/);	
			retArray[tokens[0]] = tokens[1];			
		}	
		<span class="reserved">return</span> retArray;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ correctPng()</span>
    <span class="comment">/**
     *
     *  Correct png for old IE browsers
     *  <span class="attrib">@param</span> Object el - Id or direct reference to image
     *
     * <span class="attrib">@public</span>
     */</span>	
	correctPng : <span class="reserved">function</span>(el)
	{
		el = DHTMLSuite.commonObj.getEl(el);	
		var img = el;
		var width = img.width;
		var height = img.height;
		var html = <span class="literal">'&lt;span style="display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'</span><span class="literal">' + img.src + '</span>\<span class="literal">',sizingMethod=\'</span>scale\<span class="literal">');width:'</span> + width + <span class="literal">';height:'</span> + height + <span class="literal">'"&gt;&lt;/span&gt;'</span>;
		img.outerHTML = html;	
					
	}
	,	
	<span class="comment">// {{{ __evaluateJs()</span>
    <span class="comment">/**
     * Evaluate Javascript in the inserted content
     *
     * <span class="attrib">@private</span>
     */</span>	
	__evaluateJs : <span class="reserved">function</span>(obj)
	{
		obj = <span class="reserved">this</span>.getEl(obj);
		var scriptTags = obj.getElementsByTagName(<span class="literal">'SCRIPT'</span>);
		var string = <span class="literal">''</span>;
		var jsCode = <span class="literal">''</span>;
		<span class="reserved">for</span>(var no=0;no&lt;scriptTags.length;no++){	
			<span class="reserved">if</span>(scriptTags[no].src){
		        var head = document.getElementsByTagName(<span class="literal">"head"</span>)[0];
		        var scriptObj = document.createElement(<span class="literal">"script"</span>);
		
		        scriptObj.setAttribute(<span class="literal">"type"</span>, <span class="literal">"text/javascript"</span>);
		        scriptObj.setAttribute(<span class="literal">"src"</span>, scriptTags[no].src);  	
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOpera){
					jsCode = jsCode + scriptTags[no].text + <span class="literal">'\n'</span>;
				}
				<span class="reserved">else</span>
					jsCode = jsCode + scriptTags[no].innerHTML;	
			}			
		}
		<span class="reserved">if</span>(jsCode)<span class="reserved">this</span>.__installScript(jsCode);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __installScript()</span>
    <span class="comment">/**
     *  "Installs" the content of a &lt;script&gt; tag.
     *
     * <span class="attrib">@private</span>        
     */</span>		
	__installScript : <span class="reserved">function</span> ( script )
	{		
		try{
		    <span class="reserved">if</span> (!script)
		        <span class="reserved">return</span>;		
	        <span class="reserved">if</span> (window.execScript){        	
	        	window.execScript(script)
	        }<span class="reserved">else</span> <span class="reserved">if</span>(window.jQuery &amp;&amp; jQuery.browser.safari){ <span class="comment">// safari detection in jQuery</span>
	            window.setTimeout(script,0);
	        }<span class="reserved">else</span>{        	
	            window.setTimeout( script, 0 );
	        } 
		}catch(e){
			
		}
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __evaluateCss()</span>
    <span class="comment">/**
     *  Evaluates css
     *
     * <span class="attrib">@private</span>        
     */</span>	
	__evaluateCss : <span class="reserved">function</span>(obj)
	{
		obj = <span class="reserved">this</span>.getEl(obj);
		var cssTags = obj.getElementsByTagName(<span class="literal">'STYLE'</span>);
		var head = document.getElementsByTagName(<span class="literal">'HEAD'</span>)[0];
		<span class="reserved">for</span>(var no=0;no&lt;cssTags.length;no++){
			head.appendChild(cssTags[no]);
		}	
	}	
}

<span class="comment">/************************************************************************************************************
*	Client info class
*
*	Created:			August, 18th, 2006
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class: Provide browser information to the classes below. Instead of checking for
*		 browser versions and browser types in the classes below, they should check this
*		 easily by referncing properties in the class below. An object("DHTMLSuite.clientInfoObj") of this 
*		 class will always be accessible to the other classes. * <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>


DHTMLSuite.clientInfo = <span class="reserved">function</span>()
{
	var browser;			<span class="comment">// Complete user agent information</span>
	
	var isOpera;			<span class="comment">// Is the browser "Opera"</span>
	var isMSIE;				<span class="comment">// Is the browser "Internet Explorer"</span>
	var isOldMSIE;			<span class="comment">// Is this browser and older version of Internet Explorer ( by older, we refer to version 6.0 or lower)	</span>
	var isFirefox;			<span class="comment">// Is the browser "Firefox"</span>
	var navigatorVersion;	<span class="comment">// Browser version</span>
	var isOldMSIE;
}
	
DHTMLSuite.clientInfo.<span class="reserved">prototype</span> = {
	
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *  This method initializes the clientInfo object. This is done automatically when you create a widget object.
     *
     * <span class="attrib">@public</span>
     */</span>	    	
	init : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.browser = navigator.userAgent;	
		<span class="reserved">this</span>.isOpera = (<span class="reserved">this</span>.browser.toLowerCase().indexOf(<span class="literal">'opera'</span>)&gt;=0)?true:false;
		<span class="reserved">this</span>.isFirefox = (<span class="reserved">this</span>.browser.toLowerCase().indexOf(<span class="literal">'firefox'</span>)&gt;=0)?true:false;
		<span class="reserved">this</span>.isMSIE = (<span class="reserved">this</span>.browser.toLowerCase().indexOf(<span class="literal">'msie'</span>)&gt;=0)?true:false;
		<span class="reserved">this</span>.isOldMSIE = (<span class="reserved">this</span>.browser.toLowerCase().match(/msie\s[0-6]/gi))?true:false;
		<span class="reserved">this</span>.isSafari = (<span class="reserved">this</span>.browser.toLowerCase().indexOf(<span class="literal">'safari'</span>)&gt;=0)?true:false;
		<span class="reserved">this</span>.navigatorVersion = navigator.appVersion.replace(/.*?MSIE\s(\d\.\d).*/g,<span class="literal">'$1'</span>)/1;
		<span class="reserved">this</span>.isOldMSIE = (<span class="reserved">this</span>.isMSIE&amp;&amp;<span class="reserved">this</span>.navigatorVersion&lt;7)?true:false;
	}	
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ getBrowserWidth()</span>
    <span class="comment">/**
     *
	 *
     *  This method returns the width of the browser window(i.e. inner width)
     *
     * 
     * <span class="attrib">@public</span>
     */</span>		
	getBrowserWidth : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(self.innerWidth)<span class="reserved">return</span> self.innerWidth;
		<span class="reserved">return</span> document.documentElement.offsetWidth;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getBrowserHeight()</span>
    <span class="comment">/**
     *
	 *
     *  This method returns the height of the browser window(i.e. inner height)
     *
     * 
     * <span class="attrib">@public</span>
     */</span>		
	getBrowserHeight : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(self.innerHeight)<span class="reserved">return</span> self.innerHeight;
		<span class="reserved">return</span> document.documentElement.offsetHeight;
	}
}



<span class="comment">/************************************************************************************************************
*	DOM query class 
*
*	Created:			August, 31th, 2006
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Gives you a set of methods for querying elements on a webpage. When an object
*		 of this class has been created, the method will also be available via the document object.
*		 Example: var elements = document.getElementsByClassName('myClass');
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.domQuery = <span class="reserved">function</span>()
{
	<span class="comment">// Make methods of this class a member of the document object. </span>
	document.getElementsByClassName = <span class="reserved">this</span>.getElementsByClassName;
	document.getElementsByAttribute = <span class="reserved">this</span>.getElementsByAttribute;
}



	
DHTMLSuite.domQuery.<span class="reserved">prototype</span> = {
}


<span class="comment">/*[FILE_START:dhtmlSuite-tableWidget.js] */</span>
<span class="comment">/************************************************************************************************************
*	Table widget page handler class
*
*	Created:		December, 15th, 2006
*	Purpose of class:	Displays paginating below a server sorted table
*
*	CSS used:		
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Make HTML tables sortable&lt;br&gt;&lt;br&gt;
*/</span>
DHTMLSuite.tableWidgetPageHandler=<span class="reserved">function</span>(){
	var tableRef;			
	<span class="comment">// Reference to object of class DHTMLSuite.tableWidget</span>
	var targetRef;			
	<span class="comment">// Where to insert the pagination.</span>
	
	var txtPrevious;		
	<span class="comment">// Label-"Previous"</span>
	var txtNext;			
	<span class="comment">// Label-"Next"</span>
	var txtFirst;			
	<span class="comment">// Label-"First"</span>
	var txtLast;			
	<span class="comment">// Label-"last"</span>
	
	var txtResultPrefix;		
	<span class="comment">// Prefix:result-default="Result: "</span>
	var txtResultTo;		
	<span class="comment">// Text label Result: 1 "to" 10 of 51-default value="to"</span>
	var txtResultOf;		
	<span class="comment">// Text label Result: 1 to 10 "of" 51-default value="of"</span>
	
	var totalNumberOfRows;		
	<span class="comment">// Total number of rows in dataset</span>
	var rowsPerPage;		
	<span class="comment">// Number of rows per page.</span>
	
	var layoutCSS;			
	<span class="comment">// Name of CSS file for the table widget.</span>
	var activePageNumber;		
	<span class="comment">// Active page number</span>
	var mainDivEl;		
	<span class="comment">// Reference to main div for the page handler</span>
	var resultDivElement;		
	<span class="comment">// Reference to div element which is parent for the result</span>
	var pageListDivEl;		
	<span class="comment">// Reference to div element which is parent to pages [1],[2],[3]...[Next]</span>
	
	var objectIndex;		
	<span class="comment">// Index of this widget in the arrayDSObjects array</span>
	
	var linkPagePrefix;		
	<span class="comment">// Text in front of each page link</span>
	var linkPageSuffix;		
	<span class="comment">// Text behind each page link</span>
	
	var maximumNumberOfPageLinks;	
	<span class="comment">// Maximum number of page links.</span>
	var callbackOnAfterNavigate;	
	<span class="comment">// Callback function-executed when someone navigates to a different page</span>
	<span class="reserved">this</span>.txtPrevious=<span class="literal">'Previous'</span>;	
	<span class="comment">// Default label</span>
	<span class="reserved">this</span>.txtNext=<span class="literal">'Next'</span>;		
	<span class="comment">// Default label</span>
	<span class="reserved">this</span>.txtResultPrefix=<span class="literal">'Result: '</span>;		
	<span class="comment">// Default label</span>
	<span class="reserved">this</span>.txtResultTo=<span class="literal">'to'</span>;		
	<span class="comment">// Default label</span>
	<span class="reserved">this</span>.txtResultOf=<span class="literal">'of'</span>;		
	<span class="comment">// Default label</span>
	<span class="reserved">this</span>.txtFirst=<span class="literal">'First'</span>;
	<span class="reserved">this</span>.txtLast=<span class="literal">'Last'</span>;
	
	<span class="reserved">this</span>.tableRef=false;
	<span class="reserved">this</span>.targetRef=false;
	<span class="reserved">this</span>.totalNumberOfRows=false;
	<span class="reserved">this</span>.activePageNumber=0;
	<span class="reserved">this</span>.layoutCSS=<span class="literal">'table-widget-page-handler.css'</span>;
	
	<span class="reserved">this</span>.linkPagePrefix=<span class="literal">''</span>;
	<span class="reserved">this</span>.linkPageSuffix=<span class="literal">''</span>;
	<span class="reserved">this</span>.maximumNumberOfPageLinks=false;
	<span class="reserved">this</span>.callbackOnAfterNavigate=false;
	
	
	<span class="reserved">this</span>.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex]=<span class="reserved">this</span>;
	
	
}

DHTMLSuite.tableWidgetPageHandler.<span class="reserved">prototype</span>={
	
	<span class="comment">// {{{ setTableRef()</span>
	 <span class="comment">/**
	  *	Connect to a tableWidget object.
	  *
	 *	<span class="attrib">@param</span> Object tableRef=An object of class DHTMLSuite.tableWidget. It makes it possible for the tableWidget and this object to communicate.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTableRef:<span class="reserved">function</span>(tableRef)
	{
		<span class="reserved">this</span>.tableRef=tableRef;
		<span class="reserved">this</span>.tableRef.setPageHandler(<span class="reserved">this</span>);
	}	
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTargetId()</span>
	 <span class="comment">/**
	  *	Where do you want to insert the navigation links for the table
	  *
	 *	<span class="attrib">@param</span> String idOfHTMLElement=Id of HTML Element on your page.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTargetId:<span class="reserved">function</span>(idOfHTMLElement)
	{
		<span class="reserved">if</span>(!document.getElementById(idOfHTMLElement)){
			alert(<span class="literal">'ERROR IN tableWidgetPageHandler.setTargetId:\nElement with id '</span>+idOfHTMLElement+<span class="literal">' does not exists'</span>);
			<span class="reserved">return</span>;
		}
		<span class="reserved">this</span>.targetRef=document.getElementById(idOfHTMLElement);	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtPrevious()</span>
	 <span class="comment">/**
	  *	Set text label (previous page link)
	  *
	 *	<span class="attrib">@param</span> String newText=Text previous page link
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtPrevious:<span class="reserved">function</span>(newText)
	{
		<span class="reserved">this</span>.txtPrevious=newText;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setLinkPagePrefix()</span>
	 <span class="comment">/**
	  *	Set text/characters in front of each page link, example "[" to get page number in brackets
	  *
	 *	<span class="attrib">@param</span> String linkPagePrefix=Character(s)in front of page links
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setLinkPagePrefix:<span class="reserved">function</span>(linkPagePrefix)
	{
		<span class="reserved">this</span>.linkPagePrefix=linkPagePrefix;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setLinkPageSuffix()</span>
	 <span class="comment">/**
	  *	Set text/characters in front of each page link, example "[" to get page number in brackets
	  *
	 *	<span class="attrib">@param</span> String linkPageSuffix=Character(s)in front of page links
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setLinkPageSuffix:<span class="reserved">function</span>(linkPageSuffix)
	{
		<span class="reserved">this</span>.linkPageSuffix=linkPageSuffix;
	}
	
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtNext()</span>
	 <span class="comment">/**
	  *	Set text label (next page link)
	  *
	 *	<span class="attrib">@param</span> String newText=Text next page link
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtNext:<span class="reserved">function</span>(newText)
	{
		<span class="reserved">this</span>.txtNext=newText;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtResultOf()</span>
	 <span class="comment">/**
	  *	Set text label ("of"-result)
	  *
	 *	<span class="attrib">@param</span> String txtResultOf=Result of search, the "of" label ( Result: 1 to 10 "of" 51 )
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtResultOf:<span class="reserved">function</span>(txtResultOf)
	{
		<span class="reserved">this</span>.txtResultOf=txtResultOf;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtResultTo()</span>
	 <span class="comment">/**
	  *	Set text label ("to"-result)
	  *
	 *	<span class="attrib">@param</span> String txtResultTo=Result of search, the "to" label ( Result: 1 "to" 10 of 51 )
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtResultTo:<span class="reserved">function</span>(txtResultTo)
	{
		<span class="reserved">this</span>.txtResultTo=txtResultTo;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtResultPrefix()</span>
	 <span class="comment">/**
	  *	Set text label (prefix-result)
	  *
	 *	<span class="attrib">@param</span> String txtResultPrefix=Text next page link
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtResultPrefix:<span class="reserved">function</span>(txtResultPrefix)
	{
	<span class="reserved">this</span>.txtResultPrefix=txtResultPrefix;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtFirstPage()</span>
	 <span class="comment">/**
	  *	Set text label ("Last" page)
	  *
	 *	<span class="attrib">@param</span> String txtFirst=Label of link to "First" page ( default="First" ).This option is only used when you are limiting the number of pages shown.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtFirstPage:<span class="reserved">function</span>(txtFirst)
	{
		<span class="reserved">this</span>.txtFirst=txtFirst;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTxtLastPage()</span>
	 <span class="comment">/**
	  *	Set text label ("First" page)
	  *
	 *	<span class="attrib">@param</span> String txtLast=Label of link to "Last" page ( default="Last" ).This option is only used when you are limiting the number of pages shown.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTxtLastPage:<span class="reserved">function</span>(txtLast)
	{
		<span class="reserved">this</span>.txtLast=txtLast;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setTotalNumberOfRows()</span>
	 <span class="comment">/**
	  *	Specify total number of rows in the entire dataset
	  *
	 *	<span class="attrib">@param</span> Integer totalNumberOfRows=Total number of rows in the entire dataset.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTotalNumberOfRows:<span class="reserved">function</span>(totalNumberOfRows)
	{
		<span class="reserved">this</span>.totalNumberOfRows=totalNumberOfRows;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setCallbackOnAfterNavigate()</span>
	 <span class="comment">/**
	 *Specify call back function to execute after page navigatoin
	  *
	 *<span class="attrib">@param</span> String callbackOnAfterNavigate-name of javascript function.
	  *
	 *<span class="attrib">@public</span>
	  */</span>	
	setCallbackOnAfterNavigate:<span class="reserved">function</span>(callbackOnAfterNavigate)
	{
		<span class="reserved">this</span>.callbackOnAfterNavigate=callbackOnAfterNavigate;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setLayoutCss()</span>
	 <span class="comment">/**
	 *set new CSS file
	  *
	 *<span class="attrib">@param</span> String cssFileName-name of new css file(example: drag-drop.css). Has to be set before init is called. 
	  *
	 *<span class="attrib">@public</span>
	  */</span>	
	setLayoutCss:<span class="reserved">function</span>(layoutCSS)
	{
		<span class="reserved">this</span>.layoutCSS=layoutCSS;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ setMaximumNumberOfPageLinks()</span>
	 <span class="comment">/**
	 *Set maximum number of page links displayed below the table, i.e. if you have 50 pages, you can limit number of page links to 10 by sending 10 to this method.
	  *
	 *<span class="attrib">@param</span> Integer maximumNumberOfPageLinks-(0 or false means=no limitation)
	  *
	 *<span class="attrib">@public</span>
	  */</span>	
	setMaximumNumberOfPageLinks:<span class="reserved">function</span>(maximumNumberOfPageLinks)
	{
		<span class="reserved">this</span>.maximumNumberOfPageLinks=maximumNumberOfPageLinks;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ init()</span>
	 <span class="comment">/**
	 *Initializes the script widget. Set methods should be called before your call this method.
	  *
	  *
	 *<span class="attrib">@public</span>
	  */</span>	
	init:<span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.rowsPerPage=<span class="reserved">this</span>.tableRef.getServersideSortNumberOfRows();
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__createMainDivEls();
		<span class="reserved">this</span>.setHTMLOfResultList();
		<span class="reserved">this</span>.__createPageLinks();
		<span class="reserved">this</span>.goToPage(1);
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __createMainDivEls()</span>
	 <span class="comment">/**
	 *Create main div elements for the page handler
	  *
	  *
	 *<span class="attrib">@private</span>
	  */</span>	
	__createMainDivEls:<span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.targetRef){
			alert(<span class="literal">'Error creating table widget page handler. Remember to specify targetRef'</span>);
			<span class="reserved">return</span>;
		}
		<span class="reserved">this</span>.mainDivEl=document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.mainDivEl.className=<span class="literal">'DHTMLSuite_tableWidgetPageHandler_mainDiv'</span>;
		<span class="reserved">this</span>.targetRef.appendChild(<span class="reserved">this</span>.mainDivEl);	
		
		<span class="reserved">this</span>.resultDivElement=document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.resultDivElement.className=<span class="literal">'DHTMLSuite_tableWidgetPageHandler_result'</span>;
		<span class="reserved">this</span>.mainDivEl.appendChild(<span class="reserved">this</span>.resultDivElement);
		
		<span class="reserved">this</span>.pageListDivEl=document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.pageListDivEl.className=<span class="literal">'DHTMLSuite_tableWidgetPageHandler_pageList'</span>;
		<span class="reserved">this</span>.mainDivEl.appendChild(<span class="reserved">this</span>.pageListDivEl);
	}
	
	,
	
	<span class="comment">// {{{ setHTMLOfResultList()</span>
	 <span class="comment">/**
	  *
	 *	Create result list div
	  *	
	 *
	 *
	 *<span class="attrib">@public</span>
	  */</span>  	
	setHTMLOfResultList:<span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.resultDivElement.innerHTML=<span class="literal">''</span>;	
		var html=<span class="reserved">this</span>.txtResultPrefix+(((<span class="reserved">this</span>.activePageNumber-1)* <span class="reserved">this</span>.rowsPerPage)+1)+<span class="literal">' '</span>+<span class="reserved">this</span>.txtResultTo+<span class="literal">' '</span>+Math.min(<span class="reserved">this</span>.totalNumberOfRows,(<span class="reserved">this</span>.activePageNumber*<span class="reserved">this</span>.rowsPerPage))+<span class="literal">' '</span>+<span class="reserved">this</span>.txtResultOf+<span class="literal">' '</span>+<span class="reserved">this</span>.totalNumberOfRows;
		<span class="reserved">this</span>.resultDivElement.innerHTML=html;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __createPageLinks()</span>
	 <span class="comment">/**
	  *
	 *	Create page links
	  *	
	 *<span class="attrib">@private</span>
	  */</span>  	
	__createPageLinks:<span class="reserved">function</span>()
	{
		var ind=<span class="reserved">this</span>.objectIndex;	
		<span class="reserved">this</span>.pageListDivEl.innerHTML=<span class="literal">''</span>;	
		<span class="comment">// Clearing the div element if it allready got content.</span>
		var numberOfPages=Math.ceil(<span class="reserved">this</span>.totalNumberOfRows/<span class="reserved">this</span>.rowsPerPage);
		
		<span class="comment">/* link to first page */</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.maximumNumberOfPageLinks&amp;&amp;<span class="reserved">this</span>.maximumNumberOfPageLinks&lt;numberOfPages){
			var span=document.createElement(<span class="literal">'SPAN'</span>);
			span.innerHTML=<span class="reserved">this</span>.linkPagePrefix;
			<span class="reserved">this</span>.pageListDivEl.appendChild(span);	
			span.className=<span class="literal">'DHTMLSuite_pageHandler_firstLink'</span>;
				
			var fl=document.createElement(<span class="literal">'A'</span>); 
		<span class="comment">// "first" link</span>
			fl.innerHTML=<span class="reserved">this</span>.txtFirst;
			fl.href=<span class="literal">'#'</span>;
			fl.id=<span class="literal">'pageLink_1'</span>;
			fl.onclick=<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__navigate(e); }
			span.appendChild(fl);
			DHTMLSuite.commonObj.__addEventEl(fl);		
		}			
		
		
		var span=document.createElement(<span class="literal">'SPAN'</span>);
		span.innerHTML=<span class="reserved">this</span>.linkPagePrefix;
		<span class="reserved">this</span>.pageListDivEl.appendChild(span);	
		span.className=<span class="literal">'DHTMLSuite_pageHandler_previousLink'</span>;
			
		var previousLink=document.createElement(<span class="literal">'A'</span>);	
		<span class="comment">// "Previous" link</span>
		previousLink.innerHTML=<span class="reserved">this</span>.txtPrevious;
		previousLink.href=<span class="literal">'#'</span>;
		previousLink.id=<span class="literal">'previous'</span>;
		previousLink.onclick=<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__navigate(e); }
		span.appendChild(previousLink);
		DHTMLSuite.commonObj.__addEventEl(previousLink);
		<span class="reserved">if</span>(<span class="reserved">this</span>.activePageNumber==1)previousLink.className=<span class="literal">'previousLinkDisabled'</span>; <span class="reserved">else</span> previousLink.className=<span class="literal">'previousLink'</span>;	
		
		var startNumberToShow=1;
		var endNumberToShow=numberOfPages;
		<span class="reserved">if</span>(<span class="reserved">this</span>.maximumNumberOfPageLinks&amp;&amp;<span class="reserved">this</span>.maximumNumberOfPageLinks&lt;numberOfPages){
			startNumberToShow=Math.max(1,Math.round(<span class="reserved">this</span>.activePageNumber-<span class="reserved">this</span>.maximumNumberOfPageLinks/2));
			endNumberToShow=Math.min(numberOfPages,startNumberToShow+<span class="reserved">this</span>.maximumNumberOfPageLinks-1);	
			
			<span class="reserved">if</span>(endNumberToShow-startNumberToShow &lt; <span class="reserved">this</span>.maximumNumberOfPageLinks){
			startNumberToShow=Math.max(1,endNumberToShow-<span class="reserved">this</span>.maximumNumberOfPageLinks+1);
			}			
		}	
		<span class="reserved">for</span>(var no=startNumberToShow;no&lt;=endNumberToShow;no++){		
			var span=document.createElement(<span class="literal">'SPAN'</span>);
			span.innerHTML=<span class="reserved">this</span>.linkPagePrefix;
			<span class="reserved">this</span>.pageListDivEl.appendChild(span);		
			var pageLink=document.createElement(<span class="literal">'A'</span>);
			<span class="reserved">if</span>(no==<span class="reserved">this</span>.activePageNumber)pageLink.className=<span class="literal">'DHTMLSuite_tableWidgetPageHandler_activePage'</span>; <span class="reserved">else</span> pageLink.className=<span class="literal">'DHTMLSuite_tableWidgetPageHandler_inactivePage'</span>;
			pageLink.innerHTML=no;
			pageLink.href= <span class="literal">'#'</span>;
			pageLink.id=<span class="literal">'pageLink_'</span>+no;
			pageLink.onclick=<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__navigate(e); }
			DHTMLSuite.commonObj.__addEventEl(pageLink);
			<span class="reserved">this</span>.pageListDivEl.appendChild(pageLink);	
			
			var span=document.createElement(<span class="literal">'SPAN'</span>);
			span.innerHTML=<span class="reserved">this</span>.linkPageSuffix;
			<span class="reserved">this</span>.pageListDivEl.appendChild(span);				
		}	
		var span=document.createElement(<span class="literal">'SPAN'</span>);
		span.innerHTML=<span class="reserved">this</span>.linkPagePrefix;
		<span class="reserved">this</span>.pageListDivEl.appendChild(span);	
		span.className=<span class="literal">'DHTMLSuite_pageHandler_nextLink'</span>;
				
		var nextLink=document.createElement(<span class="literal">'A'</span>);	
		<span class="comment">// "Next" link</span>
		nextLink.innerHTML=<span class="reserved">this</span>.txtNext;
		nextLink.id=<span class="literal">'next'</span>;
		nextLink.href=<span class="literal">'#'</span>;
		nextLink.onclick=<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__navigate(e); }
		DHTMLSuite.commonObj.__addEventEl(nextLink);
		span.appendChild(nextLink);
		<span class="reserved">if</span>(<span class="reserved">this</span>.activePageNumber==numberOfPages)nextLink.className=<span class="literal">'nextLinkDisabled'</span>; <span class="reserved">else</span> nextLink.className=<span class="literal">'nextLink'</span>;
		
		<span class="comment">/* link to Last page */</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.maximumNumberOfPageLinks&amp;&amp;<span class="reserved">this</span>.maximumNumberOfPageLinks&lt;numberOfPages){
			var span=document.createElement(<span class="literal">'SPAN'</span>);
			span.innerHTML=<span class="reserved">this</span>.linkPagePrefix;
			<span class="reserved">this</span>.pageListDivEl.appendChild(span);	
			span.className=<span class="literal">'DHTMLSuite_pageHandler_lastLink'</span>;		
			var ll=document.createElement(<span class="literal">'A'</span>);	
		<span class="comment">// "Last" link</span>
			ll.innerHTML=<span class="reserved">this</span>.txtLast;
			ll.href=<span class="literal">'#'</span>;
			ll.id=<span class="literal">'pageLink_'</span>+(numberOfPages);
			ll.onclick=<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__navigate(e); }
			span.appendChild(ll);
			DHTMLSuite.commonObj.__addEventEl(ll);		
		}	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __navigate()</span>
	 <span class="comment">/**
	  *
	 *	Navigate-click on "next" or "previous" link or click on a page
	  *	
	  *	<span class="attrib">@param</span> Event e	= Reference to event object. used to get a reference to the element triggering this action.
	 *
	 *
	 *<span class="attrib">@private</span>
	  */</span>  	
	__navigate:<span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e=event;
		var src=DHTMLSuite.commonObj.getSrcElement(e);
		var initActivePageNumber=<span class="reserved">this</span>.activePageNumber;
		var numberOfPages=Math.ceil(<span class="reserved">this</span>.totalNumberOfRows/<span class="reserved">this</span>.rowsPerPage);
		
		<span class="reserved">if</span>(src.id.indexOf(<span class="literal">'pageLink_'</span>)&gt;=0){
			var pageNo=src.id.replace(/[^0-9]/gi,<span class="literal">''</span>)/1;
			<span class="reserved">this</span>.activePageNumber=pageNo;
			
		}
		<span class="reserved">if</span>(src.id==<span class="literal">'next'</span>){	
		<span class="comment">// next link clicked</span>
			<span class="reserved">this</span>.activePageNumber++;
			<span class="reserved">if</span>(<span class="reserved">this</span>.activePageNumber&gt;numberOfPages)<span class="reserved">this</span>.activePageNumber=numberOfPages;	
		}
		<span class="reserved">if</span>(src.id==<span class="literal">'previous'</span>){
			<span class="reserved">this</span>.activePageNumber--;
			<span class="reserved">if</span>(<span class="reserved">this</span>.activePageNumber&lt;1)<span class="reserved">this</span>.activePageNumber=1;
		}
			
		<span class="reserved">if</span>(<span class="reserved">this</span>.activePageNumber!=initActivePageNumber){
			<span class="reserved">this</span>.tableRef.serversideSortCurrentStartIndex=((<span class="reserved">this</span>.activePageNumber-1)*<span class="reserved">this</span>.rowsPerPage);
			<span class="reserved">this</span>.tableRef.__getItemsFromServer(<span class="reserved">this</span>.callbackOnAfterNavigate);
			<span class="reserved">this</span>.setHTMLOfResultList();
			<span class="reserved">this</span>.__createPageLinks();
		}
		<span class="reserved">return</span> false;
	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __resetActivePageNumber()</span>
	 <span class="comment">/**
	  *
	 *	Reset active page number-called from the tableWidget
	 *
	 *
	 *<span class="attrib">@private</span>
	  */</span>		
	__resetActivePageNumber:<span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.activePageNumber=1;
		<span class="reserved">this</span>.setHTMLOfResultList();
		<span class="reserved">this</span>.__createPageLinks();
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ goToPage()</span>
	 <span class="comment">/**
	  *
	 *	Go to a page
	  *	<span class="attrib">@param</span> Integer pageNumber
	 *
	 *
	 *<span class="attrib">@public</span>
	  */</span> 	
	goToPage:<span class="reserved">function</span>(pageNo)
	{
		var initActivePageNumber=<span class="reserved">this</span>.activePageNumber;
		<span class="reserved">this</span>.activePageNumber=pageNo;
		<span class="reserved">if</span>(<span class="reserved">this</span>.activePageNumber!=initActivePageNumber){
			<span class="reserved">this</span>.tableRef.serversideSortCurrentStartIndex=((<span class="reserved">this</span>.activePageNumber-1)*<span class="reserved">this</span>.rowsPerPage);
			<span class="reserved">this</span>.tableRef.__getItemsFromServer(<span class="reserved">this</span>.callbackOnAfterNavigate);
			<span class="reserved">this</span>.setHTMLOfResultList();
			<span class="reserved">this</span>.__createPageLinks();
		}	
	}
}


<span class="comment">/************************************************************************************************************
*	Table widget class
*
*	Created:		August, 18th, 2006
*	Purpose of class:	Make HTML tables sortable
*			Apply application look to the table
*			Create one object for each HTML table.
*
*	CSS used:		table-widget.css
*	images used:	arrow_up.gif
* 			arrow_down.gif
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Make HTML tables sortable&lt;br&gt;&lt;br&gt;
*			Apply application look to the table&lt;br&gt;
*			Create one object for each HTML table.&lt;br&gt;
*&lt;br&gt;
*	Remember to have both &amp;lt;THEAD&gt; and &amp;lt;TBODY&gt; in your table.
* &lt;br&gt;
*	&amp;lt;DIV&gt;&lt;br&gt;
*	&amp;lt;table&gt;&lt;br&gt;
*	&amp;lt;thead&gt;&lt;br&gt;
*		&amp;lt;tr&gt;&lt;br&gt;
*		&amp;lt;td&gt;Header cell&amp;lt;/td&gt;&lt;br&gt;
*		&amp;lt;td&gt;Header cell&amp;lt;/td&gt;&lt;br&gt;
*		&amp;lt;/tr&gt;&lt;br&gt;
*	&amp;lt;/thead&gt;&lt;br&gt;
*	&amp;lt;tbody&gt;&lt;br&gt;
*		&amp;lt;tr&gt;&lt;br&gt;
*		&amp;lt;td&gt;Table data&amp;lt;/td&gt;&lt;br&gt;
*		&amp;lt;td&gt;Table data&amp;lt;/td&gt;&lt;br&gt;
*		&amp;lt;/tr&gt;&lt;br&gt;
*		&amp;lt;tr&gt;&lt;br&gt;
*		&amp;lt;td&gt;Table data&amp;lt;/td&gt;&lt;br&gt;
*		&amp;lt;td&gt;Table data&amp;lt;/td&gt;&lt;br&gt;
*		&amp;lt;/tr&gt;&lt;br&gt;
*	&amp;lt;/tbody&gt;&lt;br&gt;
*	&amp;lt;/table&gt;&lt;br&gt;
*	&amp;lt;/div&gt;&lt;br&gt;
*	&lt;br&gt;&lt;br&gt;
*	Also remember:	If you put a table inside a non-displayed element, example an inactive tab(the tabView script), remember to create
*	and initialize the table objects before you create the tab objects. In some browsers, that's nescessary in order for the table to
*	display properly. &lt;br&gt;
*	(&lt;a href="../../demos/demo-tablewidget.html" target="_blank"&gt;demo 1&lt;/a&gt;)
*
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.tableWidget=<span class="reserved">function</span>(){
	var tableWidget_okToSort;		
	<span class="comment">// Variable indicating if it's ok to sort. This variable is "false" when sorting is in progress</span>
	var activeColumn;			
	<span class="comment">// Reference to active column, i.e. column currently beeing sorted	</span>
	var idOfTable;				
	<span class="comment">// Id of table, i.e. the &lt;table&gt; tag</span>
	var tableObj;				
	<span class="comment">// Reference to &lt;table&gt; tag.</span>
	var widthOfTable;			
	<span class="comment">// Width of table	(Used in the CSS)</span>
	var heightOfTable; 			
	<span class="comment">// Height of table	(Used in the CSS)</span>
	var columnSortArray;			
	<span class="comment">// Array of how table columns should be sorted</span>
	var layoutCSS;				
	<span class="comment">// Name of CSS file for the table widget.</span>
	var noCssLayout;			
	<span class="comment">// true or false, indicating if the table should have layout or not, if not, it would be a plain sortable table.</span>
	var serversideSort;			
	<span class="comment">// true or false, true if the widget is sorted on the server.</span>
	var serversideSortAscending;
	var tableCurrentlySortedBy;
	var serversideSortFileName;		
	<span class="comment">// Name of file on server to send request to when table data should be sorted</span>
	var serversideSortNumberOfRows;		
	<span class="comment">// Number of rows to receive from the server</span>
	var serversideSortCurrentStartIndex;	
	<span class="comment">// Index of first row in the dataset, i.e. if you move to next page, this value will be incremented</span>
	var serversideSortExtraSearchCriterias;	
	<span class="comment">// Extra param to send to the server, example: &amp;firstname=Alf&amp;lastname=Kalleland</span>
	var pageHandler;			
	<span class="comment">// Object of class DHTMLSuite.tableWidgetPageHandler</span>
	var rowClickCallBackFunction;		
	<span class="comment">// Row click call back function.</span>
	var objectIndex;			
	<span class="comment">// Index of this object in the DHTMLSuite.variableStorage.arrayDSObjects array</span>
	
	<span class="reserved">this</span>.serversideSort=false;		
	<span class="comment">// Default value for serversideSort(items are sorted in the client)</span>
	<span class="reserved">this</span>.serversideSortAscending=true;	
	<span class="comment">// Current sort ( ascending or descending)</span>
	<span class="reserved">this</span>.tableCurrentlySortedBy=false;
	<span class="reserved">this</span>.serversideSortFileName=false;
	<span class="reserved">this</span>.serversideSortCurrentStartIndex=0;
	<span class="reserved">this</span>.serversideSortExtraSearchCriterias=<span class="literal">''</span>;
	<span class="reserved">this</span>.rowClickCallBackFunction=false;
	<span class="reserved">this</span>.setRowDblClickCallBackFunction=false;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
		<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}

	<span class="reserved">this</span>.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex]=<span class="reserved">this</span>;
}

DHTMLSuite.tableWidget.<span class="reserved">prototype</span>={	
	<span class="comment">/**
	* Public method used to initialize the table widget script. First use the set methods to configure the script, then
	* call the init method.
	**/</span>
	
	<span class="comment">// {{{ init()</span>
	 <span class="comment">/**
	  *
	 *	Initializes the table widget object
	 *
	 *
	 *<span class="attrib">@public</span>
	  */</span>	 	
	init:<span class="reserved">function</span>()
	{	
		<span class="reserved">this</span>.tableWidget_okToSort=true;
		<span class="reserved">this</span>.activeColumn=false;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.layoutCSS)<span class="reserved">this</span>.layoutCSS=<span class="literal">'table-widget.css'</span>;
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__initTableWidget();
	}
	
	<span class="comment">// }}}	</span>
	,
	
	<span class="comment">// {{{ setLayoutCss()</span>
	 <span class="comment">/**
	  *
	 * This function updates name of CSS file. This method should be called before init().
	  *
	 *<span class="attrib">@param</span> String newCssFile=(File name of CSS file, not path)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setLayoutCss:<span class="reserved">function</span>(newCssFile)
	{
		<span class="reserved">this</span>.layoutCSS=newCSSFile;		
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// 	</span>
	<span class="comment">// {{{ setRowClickCallBackFunction()</span>
	 <span class="comment">/**
	  *
	 * This method specifies call back function to be called when a row is clicked. A reference to that row is sent as argument to this function
	  *
	 *<span class="attrib">@param</span> String rowClickCallBackFunction=(Row click-call back function)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setRowClickCallBack:<span class="reserved">function</span>(rowClickCallBackFunction)
	{
		<span class="reserved">this</span>.rowClickCallBackFunction=rowClickCallBackFunction;		
	}
	
	<span class="comment">// }}}	</span>
	,
	
	<span class="comment">// 	</span>
	<span class="comment">// {{{ setRowDblClickCallBackFunction()</span>
	 <span class="comment">/**
	  *
	 * This method specifies call back function to be called when a row is double clicked. A reference to that row is sent as argument to this function
	  *
	 *<span class="attrib">@param</span> String setRowDblClickCallBackFunction=(Row click-call back function)
	 *
	 *<span class="attrib">@public</span> 
	  */</span>	
	setRowDblClickCallBack:<span class="reserved">function</span>(setRowDblClickCallBackFunction)
	{
		<span class="reserved">this</span>.setRowDblClickCallBackFunction=setRowDblClickCallBackFunction;		
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setServerSideSort()</span>
	 <span class="comment">/**
	  *
	 * This method is used to specify if you want to your tables to be sorted on the server or not.
	  *
	 *<span class="attrib">@param</span> Boolean serversideSort=Sort items on the server? (true=yes, false=no). 
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setServerSideSort:<span class="reserved">function</span>(serversideSort)
	{
		<span class="reserved">this</span>.serversideSort=serversideSort;		
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setServersideSearchCriterias()</span>
	 <span class="comment">/**
	  *
	 * This method is used to add extra params to the search url sent to the server.
	  *
	 *<span class="attrib">@param</span> String serversideSortExtraSearchCriterias=String added to the url, example: "&amp;firstname=John&amp;lastname=Doe". This can be used in the sql query on the server.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setServersideSearchCriterias:<span class="reserved">function</span>(serversideSortExtraSearchCriterias)
	{
		<span class="reserved">this</span>.serversideSortExtraSearchCriterias=serversideSortExtraSearchCriterias;		
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ getServersideSortNumberOfRows()</span>
	 <span class="comment">/**
	  *
	 * Return numer of rows per page.
	  *
	 *<span class="attrib">@return</span> Integer serversideSort=Number of rows
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	getServersideSortNumberOfRows:<span class="reserved">function</span>(serversideSort)
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.serversideSortNumberOfRows;	
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setServersideSortNumberOfRows()</span>
	 <span class="comment">/**
	  *
	 * Specify how many records to receive from the server ( server side sort )
	  *
	 *<span class="attrib">@param</span> Integer serversideSortNumberOfRows=Number of rows
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setServersideSortNumberOfRows:<span class="reserved">function</span>(serversideSortNumberOfRows)
	{
		<span class="reserved">this</span>.serversideSortNumberOfRows=serversideSortNumberOfRows;		
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setServersideSortFileName()</span>
	 <span class="comment">/**
	  *
	 * This method is used to specify which file to send the ajax request to when data should be sorted. (i.e. sort items on server instead of client).
	  *
	 *<span class="attrib">@param</span> String serversideSortFileName=Path to file on server. This file will receive the request, parse it and send back new table data.
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setServersideSortFileName:<span class="reserved">function</span>(serversideSortFileName)
	{
		<span class="reserved">this</span>.serversideSortFileName=serversideSortFileName;		
	}
	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">/* Start public methods */</span>

	
	<span class="comment">// {{{ setNoCssLayout()</span>
	 <span class="comment">/**
	  *
	 * No CSS layout
	  *
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	 setNoCssLayout:<span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.noCssLayout=true;	
	}	
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ sortTableByColumn()</span>
	 <span class="comment">/**
	  *
	 * This method sorts a table by a column
	  *	You can call this method after the call to init if you want to sort the table by a column when the table is beeing displayed.
	  *
	 *<span class="attrib">@param</span> Int columnIndex=Column to sort by (0=first column)
	 *<span class="attrib">@param</span> String howToSort How to sort the table ("ascending" or "descending"
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	sortTableByColumn:<span class="reserved">function</span>(columnIndex,howToSort)
	{
		<span class="reserved">if</span>(!howToSort)howToSort=<span class="literal">'ascending'</span>;
		var tableObj=document.getElementById(<span class="reserved">this</span>.idOfTable);
		var firstRow=tableObj.rows[0];
		var tds=firstRow.cells;
		<span class="reserved">if</span>(tds[columnIndex]&amp;&amp;<span class="reserved">this</span>.columnSortArray[columnIndex]){
			<span class="reserved">this</span>.__sortTable(tds[columnIndex],howToSort);
		}	
	}	
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setTableId()</span>
	 <span class="comment">/**
	  *
	 * Set id of table, i.e. the id of the &lt;table&gt; tag you want to apply the table widget to
	  *
	 *<span class="attrib">@param</span> String idOfTable=Id of table
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTableId:<span class="reserved">function</span>(idOfTable)
	{
		<span class="reserved">this</span>.idOfTable=idOfTable;	
		try{
			<span class="reserved">this</span>.tableObj=document.getElementById(idOfTable);
		}catch(e){
			
		}	
	}
	
	<span class="comment">// }}}	</span>
	,
	
	
	
	<span class="comment">// {{{ setTableWidth()</span>
	 <span class="comment">/**
	 *
	 * Set width of table
	  *
	 *<span class="attrib">@param</span> Mixed width=(string if percentage width, integer if numeric/pixel width)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTableWidth:<span class="reserved">function</span>(width)
	{
		<span class="reserved">this</span>.widthOfTable=width;		
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setTableHeight()</span>
	 <span class="comment">/**
	 *
	 * Set height of table
	  *
	 *<span class="attrib">@param</span> Mixed height=(string if percentage height, integer if numeric/pixel height)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setTableHeight:<span class="reserved">function</span>(height)
	{
		<span class="reserved">this</span>.heightOfTable=height;
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ setColumnSort()</span>
	 <span class="comment">/**
	  *
	 * How to sort the table
	  *
	 *<span class="attrib">@param</span> Array columnSortArray=How to sort the columns in the table(An array of the items 'N','S' or false)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setColumnSort:<span class="reserved">function</span>(columnSortArray)
	{
		<span class="reserved">this</span>.columnSortArray=columnSortArray;	
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	
	<span class="comment">// {{{ addNewRow()</span>
	 <span class="comment">/**
	 * Adds a new row to the table dynamically
	  *
	 *<span class="attrib">@param</span> Array cellContent=Array of strings-cell content
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	addNewRow:<span class="reserved">function</span>(cellContent)
	{
		var tObj=document.getElementById(<span class="reserved">this</span>.idOfTable);
		var tb=tObj.getElementsByTagName(<span class="literal">'TBODY'</span>)[0];
		
		var row=tb.insertRow(-1);
		<span class="reserved">for</span>(var no=0;no&lt;cellContent.length;no++){
			var cell=row.insertCell(-1);
			cell.innerHTML=cellContent[no];
		}
		<span class="reserved">this</span>.__parseDataRows(tObj);
	
	}
	
	<span class="comment">// }}}	</span>
	,
	
	
	
	<span class="comment">// {{{ addNewColumn()</span>
	 <span class="comment">/**
	 * Adds a new row to the table dynamically
	  *
	 *<span class="attrib">@param</span> Array columnContent=Array of strings-content of new cells.
	 *<span class="attrib">@param</span> String headerText=Text-column header
	 *<span class="attrib">@param</span> mixed sortMethod=How to sort the new column('N','S' or false)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	addNewColumn:<span class="reserved">function</span>(columnContent,headerText,sortMethod)
	{
		<span class="reserved">this</span>.columnSortArray[<span class="reserved">this</span>.columnSortArray.length]=sortMethod;
		var tableObj=document.getElementById(<span class="reserved">this</span>.idOfTable);	
		<span class="comment">// Reference to the &lt;table&gt;</span>
		var tbody=tableObj.getElementsByTagName(<span class="literal">'TBODY'</span>)[0];	
		<span class="comment">// Reference to the &lt;tbody&gt;	</span>
		var thead=tableObj.getElementsByTagName(<span class="literal">'THEAD'</span>)[0];	
		<span class="comment">// Reference to the &lt;tbody&gt;	</span>
		
		var bodyRows=tbody.rows;	
		<span class="comment">// Reference to all the &lt;tr&gt; inside the &lt;tbody&gt; tag</span>
		var headerRows=thead.rows;	
		<span class="comment">// Reference to all &lt;tr&gt; inside &lt;thead&gt;</span>
		
		cellIndexSubtract=1;	
		<span class="comment">// Firefox have a small cell at the right of each row which means that the new column should not be the last one, but second to last.</span>
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE)cellIndexSubtract=0;	
		<span class="comment">// Browser does not have this cell at the right</span>
		
		<span class="comment">// Add new header cell	</span>
		var headerCell=headerRows[0].insertCell(headerRows[0].cells.length-cellIndexSubtract);
		<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout)headerCell.className=<span class="literal">'DHTMLSuite_tableWidget_headerCell'</span>;
		headerCell.onselectstart=<span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
		DHTMLSuite.commonObj.__addEventEl(headerCell);
		headerCell.innerHTML=headerText;
		<span class="reserved">if</span>(sortMethod){
			<span class="reserved">this</span>.__parseHeaderCell(headerCell);		
		}<span class="reserved">else</span>{
			headerCell.style.cursor=<span class="literal">'default'</span>;	
		}	
		
		<span class="comment">// Setting width of header cells. The last cell shouldn't have any right border</span>
		headerRows[0].cells[headerRows[0].cells.length-1].style.borderRightWidth=<span class="literal">'0px'</span>;
		headerRows[0].cells[headerRows[0].cells.length-2].style.borderRightWidth=<span class="literal">'1px'</span>;	
		
		<span class="comment">// Add rows to the table	</span>
		<span class="reserved">for</span>(var no=0;no&lt;columnContent.length;no++){
			var dataCell=bodyRows[no].insertCell(bodyRows[no].cells.length-cellIndexSubtract);
			dataCell.innerHTML=columnContent[no];		
		}	
		<span class="reserved">this</span>.__parseDataRows(tableObj);			
	}
	
	<span class="comment">// }}}	</span>
	,
	
	<span class="comment">// {{{ setPageHandler()</span>
	 <span class="comment">/**
	 * Specify a reference to a page handler for this widget (in case of server side sort)
	  *
	 *<span class="attrib">@param</span> tableWidgetPageHandler ref=Page handler reference
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	setPageHandler:<span class="reserved">function</span>(ref)
	{
		<span class="reserved">this</span>.pageHandler=ref;
	}
	,
	
	<span class="comment">/* START PRIVATE METHODS */</span>
	
	
	
	<span class="comment">// {{{ __handleCallBackFromEvent()</span>
	 <span class="comment">/**
	 * Handle call back events for the table widget ( this method is used to find the element triggering a callback function)
	  *
	 *<span class="attrib">@param</span> Event e=Event object-we will use this to find the element triggering the vent
	 *<span class="attrib">@param</span> String action=What kind of callback
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__handleCallBackFromEvent:<span class="reserved">function</span>(e,action)
	{
		<span class="reserved">if</span>(document.all)e=event;
		var src=DHTMLSuite.commonObj.getSrcElement(e);	
		<span class="reserved">if</span>((action==<span class="literal">'rowClick'</span>||action==<span class="literal">'rowDblClick'</span>)&amp;&amp;src.tagName.toLowerCase()!=<span class="literal">'tr'</span>){
			<span class="reserved">while</span>(src.tagName.toLowerCase()!=<span class="literal">'tr'</span>)src=src.parentNode;
		}	
		<span class="reserved">this</span>.__createCallBackJavascriptString(action,src);
	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __createCallBackJavascriptString()</span>
	 <span class="comment">/**
	 * Handle call back events for the table widget
	  *
	 *<span class="attrib">@param</span> String action=Which call back, example "rowClick"
	 *<span class="attrib">@param</span> Object el=Reference to the element triggering the event.
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__createCallBackJavascriptString:<span class="reserved">function</span>(action,el)
	{
	var callbackString=<span class="literal">""</span>;
	switch(action){
		case <span class="literal">"rowClick"</span>:
		<span class="reserved">if</span>(!<span class="reserved">this</span>.rowClickCallBackFunction)<span class="reserved">return</span>;
		callbackString=<span class="reserved">this</span>.rowClickCallBackFunction+<span class="literal">'(el)'</span>;
		break;	
		case <span class="literal">"rowDblClick"</span>:
		<span class="reserved">if</span>(!<span class="reserved">this</span>.setRowDblClickCallBackFunction)<span class="reserved">return</span>;
		callbackString=<span class="reserved">this</span>.setRowDblClickCallBackFunction+<span class="literal">'(el)'</span>;
		break;
	}	
	<span class="reserved">this</span>.__executeCallBack(callbackString,el);	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __executeCallBack()</span>
	 <span class="comment">/**
	 * Execute a javascript call back string
	  *
	 *<span class="attrib">@param</span> String callbackString=Javascript code
	 *<span class="attrib">@param</span> Object el=Reference to the element triggering the event.
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__executeCallBack:<span class="reserved">function</span>(callbackString,el)
	{
	<span class="reserved">if</span>(!callbackString)<span class="reserved">return</span>;
	try{
		eval(callbackString);
	}catch(e){
		
	}	
	}	
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __parseHeaderCell()</span>
	 <span class="comment">/**
	 * Parses a header cell, i.e. add mouse events, and a arrow image to it.
	  *
	 *<span class="attrib">@param</span> Object cellRef=Reference to &lt;TD&gt;
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__parseHeaderCell:<span class="reserved">function</span>(cellRef)
	{
	<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout){
		cellRef.onmouseover=<span class="reserved">this</span>.__highlightTableHeader;
		cellRef.onmouseout= <span class="reserved">this</span>.__removeHighlightEffectFromTableHeader;
		cellRef.onmousedown=<span class="reserved">this</span>.__mousedownOnTableHeader;	
		cellRef.onmouseup=<span class="reserved">this</span>.__highlightTableHeader;		
	}<span class="reserved">else</span>{
		cellRef.style.cursor=<span class="literal">'pointer'</span>;	
	<span class="comment">// No CSS layout -&gt; just set cursor to pointer/hand.</span>
	}
	
	var refToThis=<span class="reserved">this</span>;	
	<span class="comment">// It doesn't work with "this" on the line below, so we create a variable refering to "this".	</span>
	cellRef.onclick=<span class="reserved">function</span>(){ refToThis.__sortTable(<span class="reserved">this</span>); };	
	DHTMLSuite.commonObj.__addEventEl(cellRef);

	var img=document.createElement(<span class="literal">'IMG'</span>);
	img.src=DHTMLSuite.configObj.imagePath+<span class="literal">'table-widget/arrow_up.gif'</span>;
	cellRef.appendChild(img);	
	img.style.visibility=<span class="literal">'hidden'</span>;
	}
	
	<span class="comment">// }}}	</span>
	,
	
	
	<span class="comment">// {{{ __parseDataRows()</span>
	 <span class="comment">/**
	 * Parses rows in a table, i.e. add events and align cells.
	  *
	 *<span class="attrib">@param</span> Object parentObj=Reference to &lt;table&gt;
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__parseDataRows:<span class="reserved">function</span>(parentObj)
	{
	var ind=<span class="reserved">this</span>.objectIndex;
	
	<span class="comment">// Loop through rows and assign mouseover and mouse out events+right align numeric cells.</span>
	<span class="reserved">for</span>(var no=1;no&lt;parentObj.rows.length;no++){
		<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout){
		parentObj.rows[no].onmouseover=<span class="reserved">this</span>.__highlightTableRow;
		parentObj.rows[no].onmouseout=<span class="reserved">this</span>.__removeHighlightEffectFromTableRow;
		}
		parentObj.rows[no].onclick=<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__handleCallBackFromEvent(e,<span class="literal">'rowClick'</span>); };
		parentObj.rows[no].ondblclick=<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__handleCallBackFromEvent(e,<span class="literal">'rowDblClick'</span>); };
		DHTMLSuite.commonObj.__addEventEl(parentObj.rows[no]);		
		<span class="reserved">for</span>(var no2=0;no2&lt;<span class="reserved">this</span>.columnSortArray.length;no2++){	<span class="comment">/* Right align numeric cells */</span>
		try{
			<span class="reserved">if</span>(<span class="reserved">this</span>.columnSortArray[no2]&amp;&amp;<span class="reserved">this</span>.columnSortArray[no2]==<span class="literal">'N'</span>)parentObj.rows[no].cells[no2].style.textAlign=<span class="literal">'right'</span>;
		}catch(e){
			alert(<span class="literal">'Error in __parseDataRows method-row: '</span>+no+<span class="literal">', column:'</span>+no2);
		}		
		}
	}	
	
	<span class="comment">// Right align header cells for numeric data</span>
	<span class="reserved">for</span>(var no2=0;no2&lt;<span class="reserved">this</span>.columnSortArray.length;no2++){	<span class="comment">/* Right align numeric cells */</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.columnSortArray[no2]&amp;&amp;<span class="reserved">this</span>.columnSortArray[no2]==<span class="literal">'N'</span>)parentObj.rows[0].cells[no2].style.textAlign=<span class="literal">'right'</span>;
	}	
	}
	
	<span class="comment">// }}}	</span>
	,
	
	<span class="comment">// {{{ __initTableWidget()</span>
	 <span class="comment">/**
	 * Initializes the table widget script. This method formats the table and add events to the header cells.
	  *
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__initTableWidget:<span class="reserved">function</span>()
	{	
	<span class="reserved">if</span>(!<span class="reserved">this</span>.columnSortArray)<span class="reserved">this</span>.columnSortArray=new Array();
	<span class="reserved">this</span>.widthOfTable=<span class="reserved">this</span>.widthOfTable+<span class="literal">''</span>;
	<span class="reserved">this</span>.heightOfTable=<span class="reserved">this</span>.heightOfTable+<span class="literal">''</span>;
	var obj=document.getElementById(<span class="reserved">this</span>.idOfTable);
	obj.parentNode.className=<span class="literal">'DHTMLSuite_widget_tableDiv'</span>;	
	<span class="reserved">if</span>(navigator.userAgent.toLowerCase().indexOf(<span class="literal">'safari'</span>)==-1&amp;&amp;!<span class="reserved">this</span>.noCssLayout){
		<span class="reserved">if</span>(!DHTMLSuite.clientInfoObj.isMSIE)
		obj.parentNode.style.overflow=<span class="literal">'hidden'</span>;
		<span class="reserved">else</span> {
		obj.parentNode.style.overflowX=<span class="literal">'hidden'</span>;
		obj.parentNode.style.overflowY=<span class="literal">'scroll'</span>;
		}
	}	
	<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout){
		<span class="reserved">if</span>(<span class="reserved">this</span>.widthOfTable.indexOf(<span class="literal">'%'</span>)&gt;=0){		
		obj.style.width=<span class="literal">'100%'</span>;
		obj.parentNode.style.width=<span class="reserved">this</span>.widthOfTable;		
		}<span class="reserved">else</span>{
		obj.style.width=<span class="reserved">this</span>.widthOfTable+<span class="literal">'px'</span>;
		obj.parentNode.style.width=<span class="reserved">this</span>.widthOfTable+<span class="literal">'px'</span>;
		}	
		<span class="reserved">if</span>(<span class="reserved">this</span>.heightOfTable.indexOf(<span class="literal">'%'</span>)&gt;=0){
		obj.parentNode.style.height=<span class="reserved">this</span>.heightOfTable;		
		}<span class="reserved">else</span>{
		obj.parentNode.style.height=<span class="reserved">this</span>.heightOfTable+<span class="literal">'px'</span>;
		}
	}
	<span class="reserved">if</span>(!DHTMLSuite.clientInfoObj.isMSIE){
		<span class="reserved">this</span>.__addEndCol(obj);
	}<span class="reserved">else</span>{
		obj.style.cssText=<span class="literal">'width:expression(this.parentNode.clientWidth)'</span>;
	}	
	
	obj.cellSpacing=0;
	obj.cellPadding=0;
	<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout)obj.className=<span class="literal">'DHTMLSuite_tableWidget'</span>;
	var tHead=obj.getElementsByTagName(<span class="literal">'THEAD'</span>)[0];
	var cells=tHead.getElementsByTagName(<span class="literal">'TD'</span>);
	
	var tBody=obj.getElementsByTagName(<span class="literal">'TBODY'</span>)[0];
	tBody.className=<span class="literal">'DHTMLSuite_scrollingContent'</span>;	
		
	<span class="reserved">for</span>(var no=0;no&lt;cells.length;no++){
		<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout)cells[no].className=<span class="literal">'DHTMLSuite_tableWidget_headerCell'</span>;
		cells[no].onselectstart=<span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
		DHTMLSuite.commonObj.__addEventEl(cells[no]);
		<span class="reserved">if</span>(no==cells.length-1&amp;&amp;!<span class="reserved">this</span>.noCssLayout){
		cells[no].style.borderRightWidth=<span class="literal">'0px'</span>;	
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.columnSortArray[no]){
		<span class="reserved">this</span>.__parseHeaderCell(cells[no]);		
		}<span class="reserved">else</span>{
		cells[no].style.cursor=<span class="literal">'default'</span>;	
		}		
	}		
	<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout){
		var tBody=obj.getElementsByTagName(<span class="literal">'TBODY'</span>)[0];
		<span class="reserved">if</span>(document.all&amp;&amp;navigator.userAgent.indexOf(<span class="literal">'Opera'</span>)&lt;0){
		tBody.className=<span class="literal">'DHTMLSuite_scrollingContent'</span>;
		tBody.style.display=<span class="literal">'block'</span>;		
		}<span class="reserved">else</span>{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.noCssLayout)tBody.className=<span class="literal">'DHTMLSuite_scrollingContent'</span>;
		tBody.style.height=(obj.parentNode.clientHeight-tHead.offsetHeight)+<span class="literal">'px'</span>;
		<span class="reserved">if</span>(navigator.userAgent.indexOf(<span class="literal">'Opera'</span>)&gt;=0){
			obj.parentNode.style.overflow=<span class="literal">'auto'</span>;
		}
		}
	}	
	<span class="reserved">this</span>.__parseDataRows(obj);
	var ind=<span class="reserved">this</span>.objectIndex;		
	}	
	
	<span class="comment">// }}}	</span>
	,
	
	
	<span class="comment">// {{{ __addEndCol()</span>
	 <span class="comment">/**
	 * Adds a small empty cell at the right of the header row. This is done in order to make the table look pretty when the scrollbar appears.
	  *
	 *<span class="attrib">@param</span> Object obj=Reference to &lt;table&gt;
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__addEndCol:<span class="reserved">function</span>(obj)
	{	
	var rows=obj.getElementsByTagName(<span class="literal">'TR'</span>);
	<span class="reserved">for</span>(var no=0;no&lt;rows.length;no++){
		var cell=rows[no].insertCell(rows[no].cells.length);
		cell.innerHTML=<span class="literal">'&lt;img src="'</span>+DHTMLSuite.configObj.imagePath+<span class="literal">'table-widget/transparent.gif" width="10" style="visibility:hidden"&gt;'</span>;
		cell.style.width=<span class="literal">'13px'</span>;
		cell.width=<span class="literal">'13'</span>;
		cell.style.overflow=<span class="literal">'hidden'</span>;
	}	
	
	}	
	
	<span class="comment">// }}}</span>
	,	
	
	<span class="comment">// {{{ __highlightTableHeader()</span>
	 <span class="comment">/**
	 * Mouse over event: Highlights header cell on mouse over, i.e. applies an orange line at the top.
	  *
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__highlightTableHeader:<span class="reserved">function</span>()
	{
	
	<span class="comment">// Here, "this" is a reference to the HTML tag triggering this event and not the table widget object</span>
	<span class="reserved">this</span>.className=<span class="literal">'DHTMLSuite_tableWigdet_headerCellOver'</span>;
	<span class="reserved">if</span>(document.all){	
	<span class="comment">// I.E fix for "jumping" headings</span>
		var divObj=<span class="reserved">this</span>.parentNode.parentNode.parentNode.parentNode;
		<span class="reserved">this</span>.parentNode.style.top=divObj.scrollTop+<span class="literal">'px'</span>;	
	}	
	}
	
	<span class="comment">// }}}	</span>
	,	
	
	<span class="comment">// {{{ __removeHighlightEffectFromTableHeader()</span>
	 <span class="comment">/**
	 * Mouse out event: Remove the orange line at the top of header cells when the mouse moves away from the cell.
	  *
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__removeHighlightEffectFromTableHeader:<span class="reserved">function</span>()
	{
	<span class="reserved">this</span>.className=<span class="literal">'DHTMLSuite_tableWidget_headerCell'</span>;	
	}	
	
	<span class="comment">// }}}</span>
	,	
	
	<span class="comment">// {{{ __mousedownOnTableHeader()</span>
	 <span class="comment">/**
	 * Mouse down event header cells. It changes the color of the header from light gray to dark gray.
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__mousedownOnTableHeader:<span class="reserved">function</span>()
	{
	<span class="reserved">this</span>.className=<span class="literal">'DHTMLSuite_tableWigdet_headerCellDown'</span>;
	<span class="reserved">if</span>(document.all){	
	<span class="comment">// I.E fix for "jumping" headings</span>
		var divObj=<span class="reserved">this</span>.parentNode.parentNode.parentNode.parentNode;
		<span class="reserved">this</span>.parentNode.style.top=divObj.scrollTop+<span class="literal">'px'</span>;
	}	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __sortNumeric()</span>
	 <span class="comment">/**
	 * Sort the table numerically
	 *	ps! If you know that your tables always contains valid numbers(i.e. digits or decimal numbers like 7 and 7.5), 
	*	then you can remove everything except return a/1-b/1; from this function. By removing these lines, the sort
	 *	process be faster.	  
	  *
	 *<span class="attrib">@param</span> String a=first number to compare
	 *<span class="attrib">@param</span> String b=second number to compare
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__sortNumeric:<span class="reserved">function</span>(a,b){
	
	<span class="comment">// changing commas(,)to periods(.)</span>
	a=a.replace(/,/,<span class="literal">'.'</span>);
	b=b.replace(/,/,<span class="literal">'.'</span>);
	
	<span class="comment">// Remove non digit characters-example changing "DHTML12.5" to "12.5"</span>
	a=a.replace(/[^\d\.\/]/g,<span class="literal">''</span>);
	b=b.replace(/[^\d\.\/]/g,<span class="literal">''</span>);
	
	<span class="comment">// Dealing with fractions(example: changing 4/5 to 0.8)</span>
	<span class="reserved">if</span>(a.indexOf(<span class="literal">'/'</span>)&gt;=0)a=eval(a);
	<span class="reserved">if</span>(b.indexOf(<span class="literal">'/'</span>)&gt;=0)b=eval(b);
	<span class="reserved">return</span> a/1-b/1;
	}	
	
	<span class="comment">// }}}</span>
	,
	
	
	<span class="comment">// {{{ __sortString()</span>
	 <span class="comment">/**
	 * Sort the table letterically
	  *
	 *<span class="attrib">@param</span> String a=first number to compare
	 *<span class="attrib">@param</span> String b=second number to compare
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__sortString:<span class="reserved">function</span>(a, b){	
	  <span class="reserved">if</span> ( a.toUpperCase()&lt; b.toUpperCase())<span class="reserved">return</span> -1;
	  <span class="reserved">if</span> ( a.toUpperCase()&gt; b.toUpperCase())<span class="reserved">return</span> 1;
	  <span class="reserved">return</span> 0;
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __parseDataContentFromServer()</span>
	 <span class="comment">/**
	 *This method parses data content from server and calls the __fillDataRow method with parsed data as argument.
	  *
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__parseDataContentFromServer:<span class="reserved">function</span>(ajaxIndex)
	{
	var content=DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].response;
	<span class="reserved">if</span>(content.indexOf(<span class="literal">'|||'</span>)==-1&amp;&amp;content.indexOf(<span class="literal">'###'</span>)==-1){
		alert(<span class="literal">'Error in data from server\n'</span>+content);
		<span class="reserved">return</span>;
	}	
	<span class="reserved">this</span>.__clearDataRows();	
	<span class="comment">// Clear existing data</span>
	var rows=content.split(<span class="literal">'|||'</span>);	
	<span class="comment">// Create an array of each row</span>
	<span class="reserved">for</span>(var no=0;no&lt;rows.length;no++){
		var items=rows[no].split(<span class="literal">'###'</span>);
		<span class="reserved">if</span>(items.length&gt;1)<span class="reserved">this</span>.__fillDataRow(items);		
	}	
	<span class="reserved">this</span>.__parseDataRows(<span class="reserved">this</span>.tableObj);
	}
	
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __clearDataRows()</span>
	 <span class="comment">/**
	 *This method clear all data from the table(except header cells).
	  *
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__clearDataRows:<span class="reserved">function</span>()
	{
	<span class="reserved">if</span>(!<span class="reserved">this</span>.tableObj)<span class="reserved">this</span>.tableObj=document.getElementById(<span class="reserved">this</span>.idOfTable);
	<span class="reserved">while</span>(<span class="reserved">this</span>.tableObj.rows.length&gt;1){
		DHTMLSuite.discardElement(<span class="reserved">this</span>.tableObj.rows[<span class="reserved">this</span>.tableObj.rows.length-1]);
	}
	}	
	
	<span class="comment">// }}</span>
	,
	
	<span class="comment">// {{{ __fillDataRow()</span>
	 <span class="comment">/**
	 *Adds a new row of data to the table.
	  *
	 *<span class="attrib">@param</span> Array data=Array of data
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__fillDataRow:<span class="reserved">function</span>(data)
	{
	<span class="reserved">if</span>(!<span class="reserved">this</span>.tableObj)<span class="reserved">this</span>.tableObj=document.getElementById(<span class="reserved">this</span>.idOfTable);
	var tbody=<span class="reserved">this</span>.tableObj.getElementsByTagName(<span class="literal">'TBODY'</span>)[0];
	var row=tbody.insertRow(-1);
	<span class="reserved">for</span>(var no=0;no&lt;data.length;no++){
		var cell=row.insertCell(no);
		cell.innerHTML=data[no];
	}	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ updateTableHeader()</span>
	 <span class="comment">/**
	 *Updates the header of the table,i.e. shows the correct arrow. This is a method you call if you're sorting the table on the server
	  *
	  *
	 *<span class="attrib">@param</span> Integer columnIndex=Index of column the table is currently sorted by
	 *<span class="attrib">@param</span> String direction=How the table is sorted(ascending or descending)
	 *
	 *<span class="attrib">@public</span>
	  */</span>	
	updateTableHeader:<span class="reserved">function</span>(columnIndex,direction)
	{
	var tableObj=document.getElementById(<span class="reserved">this</span>.idOfTable);
	var firstRow=tableObj.rows[0];
	var tds=firstRow.cells;
	var tdObj=tds[columnIndex];
	tdObj.setAttribute(<span class="literal">'direction'</span>,direction);
	tdObj.direction=direction;
	var sortBy=tdObj.getAttribute(<span class="literal">'sortBy'</span>);
	<span class="reserved">if</span>(!sortBy)sortBy=tdObj.sortBy;
	<span class="reserved">this</span>.tableCurrentlySortedBy=sortBy;
	<span class="reserved">this</span>.__updateSortArrow(tdObj,direction);	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ reloadDataFromServer()</span>
	 <span class="comment">/**
	 *Simply reload data from server. 
	  *
	 *
	 *<span class="attrib">@public</span>
	  */</span>		
	reloadDataFromServer:<span class="reserved">function</span>()
	{
	<span class="reserved">this</span>.__getItemsFromServer();
	<span class="reserved">if</span>(<span class="reserved">this</span>.pageHandler)<span class="reserved">this</span>.pageHandler.__resetActivePageNumber();		
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ resetServersideSortCurrentStartIndex()</span>
	 <span class="comment">/**
	 *Reset current server side sort start index
	 *It may be useful to call this method and then the reloadDataFromServer()
	 *method in case you want to reload data from the server starting with the first row in the record set.
	  *
	 *
	 *<span class="attrib">@public</span>
	  */</span>		
	resetServersideSortCurrentStartIndex:<span class="reserved">function</span>()
	{
	<span class="reserved">this</span>.serversideSortCurrentStartIndex=0;	
	}
	
	<span class="comment">// }}}</span>
	,	
	
	<span class="comment">// {{{ __updateSortArrow()</span>
	 <span class="comment">/**
	 *Sort table-This method is called when someone clicks on the header of one of the sortable columns
	  *
	 *<span class="attrib">@param</span> Object obj=reference to header cell
	 *<span class="attrib">@param</span> String direction=How the table is sorted(ascending or descending)
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__updateSortArrow:<span class="reserved">function</span>(obj,direction)
	{
	var images=obj.getElementsByTagName(<span class="literal">'IMG'</span>);	
	<span class="comment">// Array of the images inside the clicked header cell(i.e. arrow up and down)</span>
	<span class="reserved">if</span>(direction==<span class="literal">'descending'</span>){	
	<span class="comment">// Setting visibility of arrow image based on sort(ascending or descending)</span>
		images[0].src=images[0].src.replace(<span class="literal">'arrow_up'</span>,<span class="literal">'arrow_down'</span>);
		images[0].style.visibility=<span class="literal">'visible'</span>;
	}<span class="reserved">else</span>{
		images[0].src=images[0].src.replace(<span class="literal">'arrow_down'</span>,<span class="literal">'arrow_up'</span>);
		images[0].style.visibility=<span class="literal">'visible'</span>;
	}	
	<span class="reserved">if</span>(<span class="reserved">this</span>.activeColumn&amp;&amp;<span class="reserved">this</span>.activeColumn!=obj){
		var images=<span class="reserved">this</span>.activeColumn.getElementsByTagName(<span class="literal">'IMG'</span>);
		images[0].style.visibility=<span class="literal">'hidden'</span>;
		<span class="reserved">this</span>.activeColumn.removeAttribute(<span class="literal">'direction'</span>);		
	}	
	
	<span class="reserved">this</span>.activeColumn=obj;	
	<span class="comment">// Setting this.activeColumn to the cell trigger this method </span>

	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __getParsedCallbackString()</span>
	 <span class="comment">/**
	 *__getParsedCallbackString-return call back javascript to execute. 
	  *
	 *<span class="attrib">@param</span> String functionName=Name of call back function
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__getParsedCallbackString:<span class="reserved">function</span>(functionName)
	{
	var objIndex=<span class="reserved">this</span>.objectIndex;	
	<span class="reserved">if</span>(!functionName)
		functionName=<span class="literal">'true'</span>;
	<span class="reserved">else</span>
		functionName=functionName+<span class="literal">'(DHTMLSuite.variableStorage.arrayDSObjects['</span>+objIndex+<span class="literal">'])'</span>;	
	<span class="reserved">return</span> functionName;	
	}	
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __getItemsFromServer()</span>
	 <span class="comment">/**
	 *Send ajax request to the server in order to get new data.
	  *
	 *<span class="attrib">@param</span> String callbackFunction=Name of eventual call back function to execute when new content has been received.
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__getItemsFromServer:<span class="reserved">function</span>(callbackFunction)  
	{
	callbackFunction=<span class="reserved">this</span>.__getParsedCallbackString(callbackFunction);		
	var objIndex=<span class="reserved">this</span>.objectIndex;	
	<span class="comment">// batur :: start</span>
	var sembol = <span class="literal">'?'</span>;	
	<span class="reserved">if</span> ( <span class="reserved">this</span>.serversideSortFileName.indexOf(<span class="literal">'?'</span>) &gt; 0 )
		 sembol = <span class="literal">'&amp;'</span>;		
	<span class="comment">// batur :: end</span>
	var url=<span class="reserved">this</span>.serversideSortFileName + sembol + <span class="literal">'sortBy='</span>+<span class="reserved">this</span>.tableCurrentlySortedBy+<span class="literal">'&amp;numberOfRows='</span>+<span class="reserved">this</span>.serversideSortNumberOfRows+<span class="literal">'&amp;sortAscending='</span>+<span class="reserved">this</span>.serversideSortAscending+<span class="literal">'&amp;startIndex='</span>+<span class="reserved">this</span>.serversideSortCurrentStartIndex+<span class="reserved">this</span>.serversideSortExtraSearchCriterias;
	var index=DHTMLSuite.variableStorage.ajaxObjects.length;	
	try{
		DHTMLSuite.variableStorage.ajaxObjects[index]=new sack();
	}catch(e){	
	<span class="comment">// Unable to create ajax object-send alert message and return from sort method.</span>
		alert(<span class="literal">'Unable to create ajax object. Please make sure that the sack js file is included on your page(js/ajax.js)'</span>);	
		<span class="reserved">return</span>;
	}
	DHTMLSuite.variableStorage.ajaxObjects[index].requestFile=url;	
	<span class="comment">// Specifying which file to get</span>
	DHTMLSuite.variableStorage.ajaxObjects[index].onCompletion=<span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[objIndex].__parseDataContentFromServer(index);eval(callbackFunction)};	
	<span class="comment">// Specify function that will be executed after file has been found</span>
	DHTMLSuite.variableStorage.ajaxObjects[index].runAJAX();	
	<span class="comment">// Execute AJAX function	</span>
	}	
	
	<span class="comment">// }}}</span>
	,	
	
	<span class="comment">// {{{ __sortTable()</span>
	 <span class="comment">/**
	 *Sort table-This method is called when someone clicks on the header of one of the sortable columns
	  *
	 *<span class="attrib">@param</span> Object obj=reference to header cell triggering the sortTable method
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__sortTable:<span class="reserved">function</span>(obj,howToSort)
	{
	
	<span class="comment">// "this" is a reference to the table widget obj</span>
	
	<span class="comment">// "obj" is a reference to the header cell triggering the sortTable method.</span>
	
	
	<span class="comment">// Server side sort ?</span>
	<span class="reserved">if</span>(<span class="reserved">this</span>.serversideSort){
		<span class="reserved">if</span>(!<span class="reserved">this</span>.serversideSortFileName){	
	<span class="comment">// Server side file name defined.</span>
		alert(<span class="literal">'No server side file defined. Use the setServersideSortFileName to specify where to send the ajax request'</span>);
		<span class="reserved">return</span>;
		}
		var sortBy=obj.getAttribute(<span class="literal">'sortBy'</span>);
		<span class="reserved">if</span>(!sortBy)sortBy=obj.sortBy;
		<span class="reserved">if</span>(!sortBy){
		alert(<span class="literal">'Sort is not defined. Remember to set a sortBy attribute on the header &lt;td&gt; tags'</span>);
		<span class="reserved">return</span>;
		}
		<span class="reserved">if</span>(sortBy==<span class="reserved">this</span>.tableCurrentlySortedBy)<span class="reserved">this</span>.serversideSortAscending=!<span class="reserved">this</span>.serversideSortAscending;<span class="reserved">else</span> <span class="reserved">this</span>.serversideSortAscending=true;
		<span class="reserved">if</span>(howToSort)<span class="reserved">this</span>.serversideSortAscending=(howToSort==<span class="literal">'ascending'</span>?true:false);
		<span class="reserved">this</span>.tableCurrentlySortedBy=sortBy;
		<span class="reserved">this</span>.serversideSortCurrentStartIndex =0;
		<span class="reserved">this</span>.__getItemsFromServer();	
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.pageHandler)<span class="reserved">this</span>.pageHandler.__resetActivePageNumber();	
		<span class="reserved">this</span>.__updateSortArrow(obj,<span class="reserved">this</span>.serversideSortAscending?<span class="literal">'ascending'</span>:<span class="literal">'descending'</span>);
		
		<span class="reserved">return</span>;	
	}	
	
	<span class="reserved">if</span>(!<span class="reserved">this</span>.tableWidget_okToSort)<span class="reserved">return</span>;
	<span class="reserved">this</span>.tableWidget_okToSort=false;
	<span class="comment">/* Getting index of current column */</span>
	var indexThis=0;	
	var tmpObj=obj;
	<span class="reserved">while</span>(tmpObj.previousSibling){
		tmpObj=tmpObj.previousSibling;
		<span class="reserved">if</span>(tmpObj.tagName==<span class="literal">'TD'</span>)indexThis++;	
	}	
	<span class="reserved">if</span>(obj.getAttribute(<span class="literal">'direction'</span>)||obj.direction){	
	<span class="comment">// Determine if we should sort ascending or descending</span>
		direction=obj.getAttribute(<span class="literal">'direction'</span>);
		<span class="reserved">if</span>(navigator.userAgent.indexOf(<span class="literal">'Opera'</span>)&gt;=0)direction=obj.direction;
		<span class="reserved">if</span>(direction==<span class="literal">'ascending'</span>||howToSort==<span class="literal">'descending'</span>){
		direction=<span class="literal">'descending'</span>;
		obj.setAttribute(<span class="literal">'direction'</span>,<span class="literal">'descending'</span>);
		obj.direction=<span class="literal">'descending'</span>;	
		}<span class="reserved">else</span>{
		direction=<span class="literal">'ascending'</span>;
		obj.setAttribute(<span class="literal">'direction'</span>,<span class="literal">'ascending'</span>);	
		obj.direction=<span class="literal">'ascending'</span>;	
		}
	}<span class="reserved">else</span>{ 
	<span class="comment">// First call to the sort method	</span>
		var curDir=<span class="literal">'ascending'</span>;	
	<span class="comment">// How to sort the table</span>
		<span class="reserved">if</span>(howToSort)curDir=howToSort; 
	<span class="comment">// Initial sort method sent as argument to this method, call it by this method.</span>
		direction=curDir;
		obj.setAttribute(<span class="literal">'direction'</span>,curDir);
		obj.direction=curDir;
	}	

	<span class="reserved">this</span>.__updateSortArrow(obj,direction);		
	var tableObj=obj.parentNode.parentNode.parentNode;
	var tBody=tableObj.getElementsByTagName(<span class="literal">'TBODY'</span>)[0];	
	var widgetIndex=tableObj.id.replace(/[^\d]/g,<span class="literal">''</span>);
	var sortMethod=<span class="reserved">this</span>.columnSortArray[indexThis]; 
	<span class="comment">// N=numeric, S=String</span>
	var cellArray=new Array();
	var cellObjArray=new Array();
	<span class="reserved">for</span>(var no=1;no&lt;tableObj.rows.length;no++){
		var content= tableObj.rows[no].cells[indexThis].innerHTML+<span class="literal">''</span>;
		cellArray.push(content);
		cellObjArray.push(tableObj.rows[no].cells[indexThis]);
	}
	
	<span class="comment">// Calling sort methods</span>
	<span class="reserved">if</span>(sortMethod==<span class="literal">'N'</span>){
		cellArray=cellArray.sort(<span class="reserved">this</span>.__sortNumeric);
	}<span class="reserved">else</span>{
		cellArray=cellArray.sort(<span class="reserved">this</span>.__sortString);
	}
	<span class="reserved">if</span>(direction==<span class="literal">'descending'</span>){
		<span class="reserved">for</span>(var no=cellArray.length;no&gt;=0;no--){
		<span class="reserved">for</span>(var no2=0;no2&lt;cellObjArray.length;no2++){
			<span class="reserved">if</span>(cellObjArray[no2].innerHTML==cellArray[no]&amp;&amp;!cellObjArray[no2].getAttribute(<span class="literal">'allreadySorted'</span>)){
			cellObjArray[no2].setAttribute(<span class="literal">'allreadySorted'</span>,<span class="literal">'1'</span>);	
			tBody.appendChild(cellObjArray[no2].parentNode);		
			}		
		}		
		}
	}<span class="reserved">else</span>{
		<span class="reserved">for</span>(var no=0;no&lt;cellArray.length;no++){
		<span class="reserved">for</span>(var no2=0;no2&lt;cellObjArray.length;no2++){
			<span class="reserved">if</span>(cellObjArray[no2].innerHTML==cellArray[no]&amp;&amp;!cellObjArray[no2].getAttribute(<span class="literal">'allreadySorted'</span>)){
			cellObjArray[no2].setAttribute(<span class="literal">'allreadySorted'</span>,<span class="literal">'1'</span>);	
			tBody.appendChild(cellObjArray[no2].parentNode);		
			}		
		}		
		}		
	}	
	<span class="reserved">for</span>(var no2=0;no2&lt;cellObjArray.length;no2++){
		cellObjArray[no2].removeAttribute(<span class="literal">'allreadySorted'</span>);	
	}	
	<span class="reserved">this</span>.tableWidget_okToSort=true;	
	}	
	
	<span class="comment">// }}}</span>
	,	
	
	<span class="comment">// {{{ __highlightTableRow()</span>
	 <span class="comment">/**
	 * Highlight data row on mouse over, i.e. applying css class tableWidget_dataRollOver
	  *	To change the layout, look inside table-widget.css
	  *
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__highlightTableRow:<span class="reserved">function</span>()
	{
	<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOpera)<span class="reserved">return</span>;
	<span class="reserved">this</span>.className=<span class="literal">'DHTMLSuite_tableWidget_dataRollOver'</span>;
	<span class="reserved">if</span>(document.all){	
	<span class="comment">// I.E fix for "jumping" headings</span>
		var divObj=<span class="reserved">this</span>.parentNode.parentNode.parentNode;
		var tHead=divObj.getElementsByTagName(<span class="literal">'TR'</span>)[0];
		tHead.style.top=divObj.scrollTop+<span class="literal">'px'</span>;		
	}	
	}
	
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __removeHighlightEffectFromTableRow()</span>
	 <span class="comment">/**
	 *Reset data row layout when mouse moves away from it.
	 *
	 *<span class="attrib">@private</span>
	  */</span>	
	__removeHighlightEffectFromTableRow:<span class="reserved">function</span>()
	{
	<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOpera)<span class="reserved">return</span>;
	<span class="reserved">this</span>.className=null;
	<span class="reserved">if</span>(document.all){	
	<span class="comment">// I.E fix for "jumping" headings</span>
		var divObj=<span class="reserved">this</span>.parentNode.parentNode.parentNode;
		var tHead=divObj.getElementsByTagName(<span class="literal">'TR'</span>)[0];
		tHead.style.top=divObj.scrollTop+<span class="literal">'px'</span>;
	}		
	}	
	
	<span class="comment">// }}}	</span>
}


<span class="comment">/*[FILE_START:dhtmlSuite-dragDropSimple.js] */</span>
<span class="comment">/************************************************************************************************************
*	Drag and drop class - simple class - used by the DHTMLSuite.imageEnlarger script
*
*	Created:			January, 8th, 2007
*
*
* 	Update log:
*
************************************************************************************************************/</span>
var DHTMLSuite_dragDropSimple_curZIndex = 100000;
var DHTMLSuite_dragDropSimple_curObjIndex=false;
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	A very simple drag and drop script. It makes a single element dragable but doesn't offer other features.&lt;br&gt;
*		The constructor takes an associative array as only argument. Possible keys in this array:&lt;br&gt;
*		cloneNode - Clone the node, i.e. make the clone dragable&lt;br&gt;					
*		allowMoveX - Allow drag along the x-axis&lt;br&gt;					
*		allowMoveY - Allow drag along the y-axis&lt;br&gt;					
*		minX - Minimum x coordinate on screen&lt;br&gt;					
*		minY - Minimum y coordinate on screen&lt;br&gt;				
*		maxX - Maximum x coordinate on screen&lt;br&gt;					
*		maxY - Maximum y coordinate on screen&lt;br&gt;					
*		callbackOnBeforeDrag - Name of function to execute before drag starts - The event object will be sent to this function.&lt;br&gt;					
*		callbackOnAfterDrag - Name of function to execute after drag - The event object will be sent to this function.&lt;br&gt;					
*		callbackOnDuringDrag - Name of function to execute during drag - The event object will be sent to this function.&lt;br&gt;					
*		elementReference - &lt;br&gt;					
*		dragHandle - &lt;br&gt;					
*		&lt;br&gt;
*		&lt;br&gt;
*	Demos: (&lt;a href="../../demos/demo-window.html" target="_blank"&gt;demo 1&lt;/a&gt;, &lt;a href="../../demos/demo-window.html" target="_blank"&gt;The window widget&lt;/a&gt;),
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>
DHTMLSuite.dragDropSimple = <span class="reserved">function</span>(propertyArray)
{	
	var divElement;
	var dragTimer;	<span class="comment">// -1 no drag, 0-4 = initializing , 5 = drag in process</span>
	var cloneNode;
	<span class="reserved">this</span>.cloneNode = true;

	var callbackOnAfterDrag;
	var callbackOnBeforeDrag;
	var callbackOnDuringDrag;
	
	var mouse_x;
	var mouse_y;
	var positionSet;
	var dragHandle;	<span class="comment">// If a specific element is specified to be a drag handle.</span>
	
	var allowMoveX;
	var allowMoveY;
	var maxY;
	var minY;
	var minX;
	var maxX;
	
	var initialXPos;
	var initialYPos;
	
	<span class="reserved">this</span>.positionSet = false;
	<span class="reserved">this</span>.dragHandle = new Array();
	var initOffsetX;
	var initOffsetY;
	
	<span class="reserved">this</span>.allowMoveX = true;
	<span class="reserved">this</span>.allowMoveY = true;
	<span class="reserved">this</span>.maxY = false;
	<span class="reserved">this</span>.maxX = false;
	<span class="reserved">this</span>.minX = false;
	<span class="reserved">this</span>.minY = false;
	
	<span class="reserved">this</span>.callbackOnAfterDrag = false;
	<span class="reserved">this</span>.callbackOnBeforeDrag = false;
	
	<span class="reserved">this</span>.dragStatus = -1;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	
	var objectIndex;
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
	<span class="reserved">this</span>.__setInitProps(propertyArray);
	<span class="reserved">this</span>.__init();	
}

DHTMLSuite.dragDropSimple.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ __init()</span>
    <span class="comment">/**
     * Initializes the script
     * 
     * <span class="attrib">@private</span>
     */</span>		
    __setInitProps : <span class="reserved">function</span>(props)
    {
		<span class="reserved">if</span>(props.cloneNode===false || props.cloneNode)<span class="reserved">this</span>.cloneNode=props.cloneNode;
		<span class="reserved">if</span>(props.allowMoveX===false || props.allowMoveX)<span class="reserved">this</span>.allowMoveX=props.allowMoveX;
		<span class="reserved">if</span>(props.allowMoveY===false || props.allowMoveY)<span class="reserved">this</span>.allowMoveY=props.allowMoveY;
		<span class="reserved">if</span>(props.minY || props.minY===0)<span class="reserved">this</span>.minY=props.minY;
		<span class="reserved">if</span>(props.maxY || props.maxY===0)<span class="reserved">this</span>.maxY=props.maxY;
		<span class="reserved">if</span>(props.minX || props.minX===0)<span class="reserved">this</span>.minX=props.minX;
		<span class="reserved">if</span>(props.maxX || props.maxX===0)<span class="reserved">this</span>.maxX=props.maxX;
	
		<span class="reserved">if</span>(!props.initOffsetX)props.initOffsetX = 0;
		<span class="reserved">if</span>(!props.initOffsetY)props.initOffsetY = 0;    	
	 	<span class="reserved">this</span>.initOffsetX = props.initOffsetX;
		<span class="reserved">this</span>.initOffsetY = props.initOffsetY;   	
    	<span class="reserved">if</span>(props.callbackOnBeforeDrag)<span class="reserved">this</span>.callbackOnBeforeDrag = props.callbackOnBeforeDrag; 	
    	<span class="reserved">if</span>(props.callbackOnAfterDrag)<span class="reserved">this</span>.callbackOnAfterDrag = props.callbackOnAfterDrag; 	
    	<span class="reserved">if</span>(props.callbackOnDuringDrag)<span class="reserved">this</span>.callbackOnDuringDrag = props.callbackOnDuringDrag; 	
    	props.elementReference = DHTMLSuite.commonObj.getEl(props.elementReference);
		<span class="reserved">this</span>.divElement = props.elementReference;	
		<span class="reserved">this</span>.initialXPos = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElement);
		<span class="reserved">this</span>.initialYPos = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElement);    
		<span class="reserved">if</span>(props.dragHandle)<span class="reserved">this</span>.dragHandle[<span class="reserved">this</span>.dragHandle.length] = DHTMLSuite.commonObj.getEl(props.dragHandle)	
    }    
    <span class="comment">// }}}</span>
    ,	
	<span class="comment">// {{{ __init()</span>
    <span class="comment">/**
     * Initializes the script
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__init : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;			
		<span class="reserved">this</span>.divElement.objectIndex = ind;
		<span class="reserved">this</span>.divElement.setAttribute(<span class="literal">'objectIndex'</span>,ind);		
		<span class="reserved">this</span>.divElement.style.padding = <span class="literal">'0px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.allowMoveX){
			<span class="reserved">this</span>.divElement.style.left = (DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElement) + <span class="reserved">this</span>.initOffsetX) + <span class="literal">'px'</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.allowMoveY){
			<span class="reserved">this</span>.divElement.style.top = (DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElement) + <span class="reserved">this</span>.initOffsetY) + <span class="literal">'px'</span>;
		}
		<span class="reserved">this</span>.divElement.style.position = <span class="literal">'absolute'</span>;
		<span class="reserved">this</span>.divElement.style.margin = <span class="literal">'0px'</span>;
			
		<span class="reserved">if</span>(<span class="reserved">this</span>.divElement.style.zIndex &amp;&amp; <span class="reserved">this</span>.divElement.style.zIndex/1&gt;DHTMLSuite_dragDropSimple_curZIndex)DHTMLSuite_dragDropSimple_curZIndex=<span class="reserved">this</span>.divElement.style.zIndex/1;		
		DHTMLSuite_dragDropSimple_curZIndex = DHTMLSuite_dragDropSimple_curZIndex/1 + 1;
		<span class="reserved">this</span>.divElement.style.zIndex = DHTMLSuite_dragDropSimple_curZIndex;	
				
		<span class="reserved">if</span>(<span class="reserved">this</span>.cloneNode){
			var copy = <span class="reserved">this</span>.divElement.cloneNode(true);		
			<span class="reserved">this</span>.divElement.parentNode.insertBefore(copy,<span class="reserved">this</span>.divElement);
			copy.style.visibility = <span class="literal">'hidden'</span>;
			document.body.appendChild(<span class="reserved">this</span>.divElement);
		}		
		DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.divElement,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initDragProcess(e); },ind);
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveDragableElement(e); },ind);
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mouseup'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__stopDragProcess(e); },ind);				
		<span class="reserved">if</span>(!document.documentElement.onselectstart)document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackOnAfterDrag()</span>
    <span class="comment">/**
     * Specify name of function to execute after drag is completed.
     *	
     *	<span class="attrib">@param</span> String functionName - Name of function to execute
     * 
     * <span class="attrib">@private</span>
     */</span>		
	setCallbackOnAfterDrag : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnAfterDrag = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackOnBeforeDrag()</span>
    <span class="comment">/**
     * Specify name of function to execute before drag is executed.
     *	
     *	<span class="attrib">@param</span> String functionName - Name of function to execute
     * 
     * <span class="attrib">@private</span>
     */</span>		
	setCallbackOnBeforeDrag : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnBeforeDrag = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addDragHandle()</span>
    <span class="comment">/**
     * Specify a drag handle
     *	
     *	<span class="attrib">@param</span> Object HTML Element - element inside the dragable element specified to act as a drag handle.
     * 
     * <span class="attrib">@private</span>
     */</span>		
	addDragHandle : <span class="reserved">function</span>(dragHandle)
	{
		<span class="reserved">this</span>.dragHandle[<span class="reserved">this</span>.dragHandle.length] = dragHandle;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initDragProcess()</span>
    <span class="comment">/**
     * Initializes drag process
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__initDragProcess : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;		
		var ind = <span class="reserved">this</span>.objectIndex;
		DHTMLSuite_dragDropSimple_curObjIndex = ind;				
		var thisObject = DHTMLSuite.variableStorage.arrayDSObjects[ind];
		<span class="reserved">if</span>(!DHTMLSuite.commonObj.isObjectClicked(thisObject.divElement,e))<span class="reserved">return</span>;	
		<span class="reserved">if</span>(thisObject.divElement.style.zIndex &amp;&amp; thisObject.divElement.style.zIndex/1&gt;DHTMLSuite_dragDropSimple_curZIndex)DHTMLSuite_dragDropSimple_curZIndex=thisObject.divElement.style.zIndex/1;		
		DHTMLSuite_dragDropSimple_curZIndex = DHTMLSuite_dragDropSimple_curZIndex/1 +1;
		thisObject.divElement.style.zIndex = DHTMLSuite_dragDropSimple_curZIndex;					
		<span class="reserved">if</span>(thisObject.callbackOnBeforeDrag){
			thisObject.__handleCallback(<span class="literal">'beforeDrag'</span>,e);	
		}		
		<span class="reserved">if</span>(thisObject.dragHandle.length&gt;0){	<span class="comment">// Drag handle specified?		</span>
			var objectFound;
			<span class="reserved">for</span>(var no=0;no&lt;thisObject.dragHandle.length;no++){
				<span class="reserved">if</span>(!objectFound)objectFound = DHTMLSuite.commonObj.isObjectClicked(thisObject.dragHandle[no],e);
			}	
			<span class="reserved">if</span>(!objectFound)<span class="reserved">return</span>;
		}
		DHTMLSuite.commonObj.__setTextSelOk(false);		
		thisObject.mouse_x = e.clientX;
		thisObject.mouse_y = e.clientY;		
		thisObject.el_x = thisObject.divElement.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		thisObject.el_y = thisObject.divElement.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		thisObject.dragTimer = 0;
		thisObject.__waitBeforeDragProcessStarts();
		<span class="reserved">return</span> false;				
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __waitBeforeDragProcessStarts()</span>
    <span class="comment">/**
     * Small delay from mouse is pressed down till drag starts.
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__waitBeforeDragProcessStarts : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragTimer&gt;=0 &amp;&amp; <span class="reserved">this</span>.dragTimer&lt;5){
			<span class="reserved">this</span>.dragTimer++;			
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__waitBeforeDragProcessStarts()'</span>,5);
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveDragableElement()</span>
    <span class="comment">/**
     * Move dragable element if drag is in process
     *
     *	<span class="attrib">@param</span> Event e - Event object - since this method is triggered by an event
     *
     * <span class="attrib">@private</span>
     */</span>		
	__moveDragableElement : <span class="reserved">function</span>(e)
	{	
		<span class="reserved">if</span>(document.all)e = event;
		var ind = <span class="reserved">this</span>.objectIndex;
		var thisObj = DHTMLSuite.variableStorage.arrayDSObjects[ind];	
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; e.button!=1)<span class="reserved">return</span> thisObj.__stopDragProcess();		
		<span class="reserved">if</span>(thisObj.dragTimer==5){				
			<span class="reserved">if</span>(thisObj.allowMoveX){
				var leftPos = (e.clientX - <span class="reserved">this</span>.mouse_x + <span class="reserved">this</span>.el_x);	
				<span class="reserved">if</span>(<span class="reserved">this</span>.maxX!==false){
					<span class="reserved">if</span>(leftPos + document.documentElement.scrollLeft&gt;<span class="reserved">this</span>.initialXPos+<span class="reserved">this</span>.maxX){
						leftPos = <span class="reserved">this</span>.initialXPos+<span class="reserved">this</span>.maxX;
					}	
				}
				<span class="reserved">if</span>(<span class="reserved">this</span>.minX!==false)
				{
					<span class="reserved">if</span>(leftPos + document.documentElement.scrollLeft&lt;<span class="reserved">this</span>.initialXPos+<span class="reserved">this</span>.minX){
						leftPos = <span class="reserved">this</span>.initialXPos+<span class="reserved">this</span>.minX;	
					}					
				}						
				thisObj.divElement.style.left =leftPos + <span class="literal">'px'</span>;
			}	
			<span class="reserved">if</span>(thisObj.allowMoveY){
				var topPos = (e.clientY - thisObj.mouse_y + thisObj.el_y);
				<span class="reserved">if</span>(<span class="reserved">this</span>.maxY!==false){
					<span class="reserved">if</span>(topPos&gt;<span class="reserved">this</span>.initialYPos+<span class="reserved">this</span>.maxY){
						topPos = <span class="reserved">this</span>.initialYPos+<span class="reserved">this</span>.maxY;	
					}
				}	
				<span class="reserved">if</span>(<span class="reserved">this</span>.minY!==false)
				{
					<span class="reserved">if</span>(topPos &lt;<span class="reserved">this</span>.initialYPos+<span class="reserved">this</span>.minY){
						topPos = <span class="reserved">this</span>.initialYPos+<span class="reserved">this</span>.minY;	
					}					
				}					
				thisObj.divElement.style.top = topPos + <span class="literal">'px'</span>;	
			}
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnDuringDrag)<span class="reserved">this</span>.__handleCallback(<span class="literal">'duringDrag'</span>,e);
		}	
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __stopDragProcess()</span>
    <span class="comment">/**
     * Stop the drag process
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__stopDragProcess : <span class="reserved">function</span>(e)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		DHTMLSuite.commonObj.__setTextSelOk(true);
		var thisObj = DHTMLSuite.variableStorage.arrayDSObjects[ind];	
		<span class="reserved">if</span>(thisObj.dragTimer==5){
			thisObj.__handleCallback(<span class="literal">'afterDrag'</span>,e);
		}	
		thisObj.dragTimer = -1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     * Execute callback function
     *	<span class="attrib">@param</span> String action - callback action
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__handleCallback : <span class="reserved">function</span>(action,e)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">"afterDrag"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnAfterDrag;
				break;	
			case <span class="literal">"beforeDrag"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnBeforeDrag;
				break;
			case <span class="literal">"duringDrag"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnDuringDrag;
				break;
		}
		<span class="reserved">if</span>(callbackString){
			callbackString = callbackString + <span class="literal">'(e)'</span>;
			try{
				eval(callbackString);
			}catch(e){
				alert(<span class="literal">'Could not execute callback function('</span> + callbackString + <span class="literal">') after drag'</span>);
			}
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setNewCurrentZIndex()</span>
    <span class="comment">/**
     * Updates current z index. 
     *	<span class="attrib">@param</span> Integer zIndex - This method is called by the window script when z index has been read from cookie
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__setNewCurrentZIndex : <span class="reserved">function</span>(zIndex)
	{
		<span class="reserved">if</span>(zIndex &gt; DHTMLSuite_dragDropSimple_curZIndex){
			DHTMLSuite_dragDropSimple_curZIndex = zIndex/1+1;
		}	
	}
		
}

<span class="comment">/*[FILE_START:dhtmlSuite-dragDrop.js] */</span>
<span class="comment">/************************************************************************************************************
*	Drag and drop class
*
*	Created:			August, 18th, 2006
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	A general drag and drop class. By creating objects of this class, you can make elements
*		 on your web page dragable and also assign actions to element when an item is dropped on it.
*		 A page should only have one object of this class.&lt;br&gt;
*		&lt;br&gt;
*		IMPORTANT when you use this class: Don't assign layout to the dragable element ids
*		Assign it to classes or the tag instead. example: If you make &lt;div id="dragableBox1" class="aBox"&gt;
*		dragable, don't assign css to #dragableBox1. Assign it to div or .aBox instead.&lt;br&gt;
*		(&lt;a href="../../demos/demo-drag-drop-1.html" target="_blank"&gt;demo 1&lt;/a&gt;, &lt;a href="../../demos/demo-drag-drop-2.html" target="_blank"&gt;demo 2&lt;/a&gt;),
*		&lt;a href="../../demos/demo-drag-drop-3.html" target="_blank"&gt;demo 3&lt;/a&gt;, &lt;a href="../../demos/demo-drag-drop-4.html" target="_blank"&gt;demo 4&lt;/a&gt;
*		and &lt;a href="../../demos/demo-drag-drop-4.html" target="_blank"&gt;demo 5&lt;/a&gt;)
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>


DHTMLSuite.dragDrop = <span class="reserved">function</span>()
{
	var mouse_x;					<span class="comment">// mouse x position when drag is started</span>
	var mouse_y;					<span class="comment">// mouse y position when drag is started.</span>
	
	var el_x;						<span class="comment">// x position of dragable element</span>
	var el_y;						<span class="comment">// y position of dragable element</span>
	
	var dragDropTimer;				<span class="comment">// Timer - short delay from mouse down to drag init.</span>
	var numericIdToBeDragged;		<span class="comment">// numeric reference to element currently being dragged.</span>
	var dragObjCloneArray;			<span class="comment">// Array of cloned dragable elements. every</span>
	var dragDropSourcesArray;		<span class="comment">// Array of source elements, i.e. dragable elements.</span>
	var dragDropTargetArray;		<span class="comment">// Array of target elements, i.e. elements where items could be dropped.</span>
	var currentZIndex;				<span class="comment">// Current z index. incremented on each drag so that currently dragged element is always on top.</span>
	var okToStartDrag;				<span class="comment">// Variable which is true or false. It would be false for 1/100 seconds after a drag has been started.</span>
									<span class="comment">// This is useful when you have nested dragable elements. It prevents the drag process from staring on</span>
									<span class="comment">// parent element when you click on dragable sub element.</span>
	var moveBackBySliding;			<span class="comment">// Variable indicating if objects should slide into place moved back to their location without any slide animation.</span>
	var dragX_allowed;				<span class="comment">// Possible to drag this element along the x-axis?</span>
	var dragY_allowed;				<span class="comment">// Possible to drag this element along the y-axis?</span>
	
	var currentEl_allowX;
	var currentEl_allowY;
	var drag_minX;
	var drag_maxX;
	var drag_minY;
	var drag_maxY;
	var dragInProgress;				<span class="comment">// Variable which is true when drag is in progress, false otherwise</span>
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	<span class="reserved">this</span>.dragX_allowed = true;
	<span class="reserved">this</span>.dragY_allowed = true;
	<span class="reserved">this</span>.currentZIndex = 21000;
	<span class="reserved">this</span>.dragDropTimer = -1;
	<span class="reserved">this</span>.dragObjCloneArray = new Array();
	<span class="reserved">this</span>.numericIdToBeDragged = false;	

	<span class="reserved">this</span>.okToStartDrag = true;
	<span class="reserved">this</span>.moveBackBySliding = true;	  
	<span class="reserved">this</span>.dragInProgress = false;
	
	var objectIndex;
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
		
}

DHTMLSuite.dragDrop.<span class="reserved">prototype</span> = {
	
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * Initialize the script
     * This method should be called after you have added sources and destinations.
     * 
     * <span class="attrib">@public</span>
     */</span>	
	init : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__initDragDropScript();
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ addSource()</span>
    <span class="comment">/**
     * Add dragable element
     *
     * <span class="attrib">@param</span> String sourceId = Id of source
     * <span class="attrib">@param</span> boolean slideBackAfterDrop = Slide the item back to it's original location after drop.
     * <span class="attrib">@param</span> boolean xAxis = Allowed to slide along the x-axis(default = true, i.e. if omitted).
     * <span class="attrib">@param</span> boolean yAxis = Allowed to slide along the y-axis(default = true, i.e. if omitted).
     * <span class="attrib">@param</span> String dragOnlyWithinElId = You will only allow this element to be dragged within the boundaries of the element with this id.
     * 
     * <span class="attrib">@public</span>
     */</span>	
	addSource : <span class="reserved">function</span>(sourceId,slideBackAfterDrop,xAxis,yAxis,dragOnlyWithinElId)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dragDropSourcesArray)<span class="reserved">this</span>.dragDropSourcesArray = new Array();
		<span class="reserved">if</span>(!document.getElementById(sourceId)){
			alert(<span class="literal">'The source element with id '</span> + sourceId + <span class="literal">' does not exists. Check your HTML code'</span>);
			<span class="reserved">return</span>;
		}
		<span class="reserved">if</span>(xAxis!==false)xAxis = true;
		<span class="reserved">if</span>(yAxis!==false)yAxis = true;
		var obj = document.getElementById(sourceId);
		<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.dragDropSourcesArray.length]  = [obj,slideBackAfterDrop,xAxis,yAxis,dragOnlyWithinElId];		
		obj.setAttribute(<span class="literal">'dragableElement'</span>,<span class="reserved">this</span>.dragDropSourcesArray.length-1);
		obj.dragableElement = <span class="reserved">this</span>.dragDropSourcesArray.length-1;
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ addTarget()</span>
    <span class="comment">/**
     * Add drop target
     *
     * <span class="attrib">@param</span> String targetId = Id of drop target
     * <span class="attrib">@param</span> String functionToCallOnDrop = name of function to call on drop. 
	 *		Input to this the function specified in functionToCallOnDrop function would be 
	 *		id of dragged element 
	 *		id of the element the item was dropped on.
	 *		mouse x coordinate when item was dropped
	 *		mouse y coordinate when item was dropped     
     * 
     * <span class="attrib">@public</span>
     */</span>	
	addTarget : <span class="reserved">function</span>(targetId,functionToCallOnDrop)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dragDropTargetArray)<span class="reserved">this</span>.dragDropTargetArray = new Array();
		<span class="reserved">if</span>(!document.getElementById(targetId))alert(<span class="literal">'The target element with id '</span> + targetId + <span class="literal">' does not exists.  Check your HTML code'</span>);
		var obj = document.getElementById(targetId);
		<span class="reserved">this</span>.dragDropTargetArray[<span class="reserved">this</span>.dragDropTargetArray.length]  = [obj,functionToCallOnDrop];		
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ setSlide()</span>
    <span class="comment">/**
     * Activate or deactivate sliding animations.
     *
     * <span class="attrib">@param</span> boolean isSlidingAnimationEnabled = Move element back to orig. location in a sliding animation
     * 
     * <span class="attrib">@public</span>
     */</span>	
	setSlide : <span class="reserved">function</span>(isSlidingAnimationEnabled)
	{
		<span class="reserved">this</span>.moveBackBySliding = isSlidingAnimationEnabled;		
	}
	<span class="comment">// }}}	</span>
	,		
	<span class="comment">/* Start private methods */</span>
	
	<span class="comment">// {{{ __initDragDropScript()</span>
    <span class="comment">/**
     * Initialize drag drop script - this method is called by the init() method.
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__initDragDropScript : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var refToThis = <span class="reserved">this</span>;
		var startIndex = Math.random() + <span class="literal">''</span>;
		startIndex = startIndex.replace(<span class="literal">'.'</span>,<span class="literal">''</span>)/1;
		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.dragDropSourcesArray.length;no++){			
			var el = <span class="reserved">this</span>.dragDropSourcesArray[no][0].cloneNode(true);	
			var el2 = <span class="reserved">this</span>.dragDropSourcesArray[no][0];
					
			eval(<span class="literal">"el.onmousedown =function(e,index){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__initializeDragProcess(e,"</span> + no + <span class="literal">"); }"</span>);	
			DHTMLSuite.commonObj.__addEventEl(el);
			var tmpIndex = startIndex + no;
			<span class="comment">// el.id = 'DHTMLSuite_dragableElement' + tmpIndex;</span>
			el.id = el2.id;	<span class="comment">/* Override the value above */</span>
			el.style.position=<span class="literal">'absolute'</span>;
			el.style.visibility=<span class="literal">'hidden'</span>;
			el.style.display=<span class="literal">'none'</span>;			
			<span class="comment">// 2006/12/02 - Changed the line below because of positioning problems.			</span>
			document.body.appendChild(el);			
			<span class="comment">//this.dragDropSourcesArray[no][0].parentNode.insertBefore(el,this.dragDropSourcesArray[no][0]);</span>
			
			el.style.top = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.dragDropSourcesArray[no][0]) + <span class="literal">'px'</span>;
			el.style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.dragDropSourcesArray[no][0]) + <span class="literal">'px'</span>;
					
			eval(<span class="literal">"el2.onmousedown =function(e,index){ return DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__initializeDragProcess(e,"</span> + no + <span class="literal">"); }"</span>);	
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.dragDropSourcesArray[no][0]);						
			<span class="reserved">this</span>.dragObjCloneArray[no] = el; 
			
			
		}
		
		eval(<span class="literal">"DHTMLSuite.commonObj.addEvent(document.documentElement,\"</span>mousemove\<span class="literal">",function(e){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__moveDragableElement(e); } )"</span>);
		eval(<span class="literal">"DHTMLSuite.commonObj.addEvent(document.documentElement,\"</span>mouseup\<span class="literal">",function(e){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__stopDragProcess(e); } );"</span>);
		
		<span class="reserved">if</span>(!document.documentElement.onselectstart)document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };
		document.documentElement.ondragstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };		

		
		DHTMLSuite.commonObj.__addEventEl(document.documentElement);
		
	}	
	<span class="comment">// }}}	</span>
	,		
	<span class="comment">// {{{ __initializeDragProcess()</span>
    <span class="comment">/**
     * Initialize drag process
     *
     * <span class="attrib">@param</span> Event e = Event object, used to get x and y coordinate of mouse pointer
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__initializeDragProcess : <span class="reserved">function</span>(e,index)
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.okToStartDrag)<span class="reserved">return</span> false; 
	
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].okToStartDrag = true;'</span>,100);
		<span class="reserved">if</span>(document.all)e = event;

		<span class="reserved">this</span>.numericIdToBeDragged = index;
		<span class="reserved">this</span>.numericIdToBeDragged = <span class="reserved">this</span>.numericIdToBeDragged + <span class="literal">''</span>;

		<span class="reserved">this</span>.dragDropTimer=0;
		DHTMLSuite.commonObj.__setTextSelOk(false);
		<span class="reserved">this</span>.mouse_x = e.clientX;
		<span class="reserved">this</span>.mouse_y = e.clientY;
		
		<span class="reserved">this</span>.currentZIndex = <span class="reserved">this</span>.currentZIndex + 1;		
		<span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged].style.zIndex = <span class="reserved">this</span>.currentZIndex;		
	
		<span class="reserved">this</span>.currentEl_allowX = <span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][2];
		<span class="reserved">this</span>.currentEl_allowY = <span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][3];

		var parentEl = <span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][4];
		<span class="reserved">this</span>.drag_minX = false;
		<span class="reserved">this</span>.drag_minY = false;
		<span class="reserved">this</span>.drag_maxX = false;
		<span class="reserved">this</span>.drag_maxY = false;
		<span class="reserved">if</span>(parentEl){
			var obj = document.getElementById(parentEl);
			<span class="reserved">if</span>(obj){
				<span class="reserved">this</span>.drag_minX = DHTMLSuite.commonObj.getLeftPos(obj);
				<span class="reserved">this</span>.drag_minY = DHTMLSuite.commonObj.getTopPos(obj);
				<span class="reserved">this</span>.drag_maxX = <span class="reserved">this</span>.drag_minX + obj.clientWidth;
				<span class="reserved">this</span>.drag_maxY = <span class="reserved">this</span>.drag_minY + obj.clientHeight;				
			}		
		}			
		
		<span class="comment">// Reposition dragable element</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][1]){
			<span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged].style.top = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0]) + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged].style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0]) + <span class="literal">'px'</span>;
		}
		<span class="reserved">this</span>.el_x = <span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged].style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		<span class="reserved">this</span>.el_y = <span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged].style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
				
		<span class="reserved">this</span>.__waitBeforeDragProcessStarts();
				
		<span class="reserved">return</span> false;
	}	
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __waitBeforeDragProcessStarts()</span>
    <span class="comment">/**
     * A small delay from mouse down to drag starts 
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__waitBeforeDragProcessStarts : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTimer&gt;=0 &amp;&amp; <span class="reserved">this</span>.dragDropTimer&lt;5){
			<span class="reserved">this</span>.dragDropTimer = <span class="reserved">this</span>.dragDropTimer + 1;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__waitBeforeDragProcessStarts()'</span>,2);
			<span class="reserved">return</span>;			
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTimer&gt;=5){
			<span class="reserved">if</span>(<span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged].style.display==<span class="literal">'none'</span>){
				<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0].style.visibility = <span class="literal">'hidden'</span>;
				var ref = <span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged];
				ref.style.display = <span class="literal">'block'</span>;
				ref.style.visibility = <span class="literal">'visible'</span>;
				ref.style.top = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0]) + <span class="literal">'px'</span>;
				ref.style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0]) + <span class="literal">'px'</span>;
			}
		}		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __moveDragableElement()</span>
    <span class="comment">/**
     * Move dragable element according to mouse position when drag is in process.
     *
     * <span class="attrib">@param</span> Event e = Event object, used to get x and y coordinate of mouse pointer
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__moveDragableElement : <span class="reserved">function</span>(e)
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">if</span>(document.all)e = event;		
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTimer&lt;5)<span class="reserved">return</span> false;	
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragInProgress)<span class="reserved">return</span> false;
		<span class="reserved">this</span>.dragInProgress = true;
		var dragObj = <span class="reserved">this</span>.dragObjCloneArray[<span class="reserved">this</span>.numericIdToBeDragged];
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentEl_allowX){			
			
			var leftPos = (e.clientX - <span class="reserved">this</span>.mouse_x + <span class="reserved">this</span>.el_x);
			<span class="reserved">if</span>(<span class="reserved">this</span>.drag_maxX){
				var tmpMaxX = <span class="reserved">this</span>.drag_maxX - dragObj.offsetWidth;
				<span class="reserved">if</span>(leftPos &gt; tmpMaxX)leftPos = tmpMaxX
				<span class="reserved">if</span>(leftPos &lt; <span class="reserved">this</span>.drag_minX)leftPos = <span class="reserved">this</span>.drag_minX;				
			}
			dragObj.style.left = leftPos + <span class="literal">'px'</span>; 
		
		}	
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentEl_allowY){
			var topPos = (e.clientY - <span class="reserved">this</span>.mouse_y + <span class="reserved">this</span>.el_y);
			<span class="reserved">if</span>(<span class="reserved">this</span>.drag_maxY){	
				var tmpMaxY = <span class="reserved">this</span>.drag_maxY - dragObj.offsetHeight;		
				<span class="reserved">if</span>(topPos &gt; tmpMaxY)topPos = tmpMaxY;
				<span class="reserved">if</span>(topPos &lt; <span class="reserved">this</span>.drag_minY)topPos = <span class="reserved">this</span>.drag_minY;					
			}			
			dragObj.style.top = topPos + <span class="literal">'px'</span>; 
		}
		<span class="reserved">this</span>.dragInProgress = false;
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __stopDragProcess()</span>
    <span class="comment">/**
     * Drag process stopped.
     *
     * <span class="attrib">@param</span> Event e = Event object, used to get x and y coordinate of mouse pointer
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__stopDragProcess : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTimer&lt;5)<span class="reserved">return</span> false;
		<span class="reserved">if</span>(document.all)e = event;
			
		<span class="comment">// Dropped on which element</span>
		var dropDestination = DHTMLSuite.commonObj.getSrcElement(e);	
		
		var leftPosMouse = e.clientX + Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);
		var topPosMouse = e.clientY + Math.max(document.body.scrollTop,document.documentElement.scrollTop);
		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dragDropTargetArray)<span class="reserved">this</span>.dragDropTargetArray = new Array();
		<span class="comment">// Loop through drop targets and check if the coordinate of the mouse is over it. If it is, call specified drop function.</span>
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.dragDropTargetArray.length;no++){
			var leftPosEl = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.dragDropTargetArray[no][0]);
			var topPosEl = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.dragDropTargetArray[no][0]);
			var widthEl = <span class="reserved">this</span>.dragDropTargetArray[no][0].offsetWidth;
			var heightEl = <span class="reserved">this</span>.dragDropTargetArray[no][0].offsetHeight;
			
			<span class="reserved">if</span>(leftPosMouse &gt; leftPosEl &amp;&amp; leftPosMouse &lt; (leftPosEl + widthEl) &amp;&amp; topPosMouse &gt; topPosEl &amp;&amp; topPosMouse &lt; (topPosEl + heightEl)){
				<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTargetArray[no][1]){
					try{
						eval(<span class="reserved">this</span>.dragDropTargetArray[no][1] + <span class="literal">'("'</span> + <span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0].id + <span class="literal">'","'</span> + <span class="reserved">this</span>.dragDropTargetArray[no][0].id + <span class="literal">'",'</span> + e.clientX + <span class="literal">','</span> + e.clientY + <span class="literal">')'</span>);
					}catch(e){
						alert(<span class="literal">'Unable to execute \n'</span> + <span class="reserved">this</span>.dragDropTargetArray[no][1] + <span class="literal">'("'</span> + <span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][0].id + <span class="literal">'","'</span> + <span class="reserved">this</span>.dragDropTargetArray[no][0].id + <span class="literal">'",'</span> + e.clientX + <span class="literal">','</span> + e.clientY + <span class="literal">')'</span>);
					}
				}				
				break;
			}			
		}		
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropSourcesArray[<span class="reserved">this</span>.numericIdToBeDragged][1]){
			<span class="reserved">this</span>.__slideElementBackIntoItsOriginalPosition(<span class="reserved">this</span>.numericIdToBeDragged);
		}		
		<span class="comment">// Variable cleanup after drop</span>
		<span class="reserved">this</span>.dragDropTimer = -1;		
		DHTMLSuite.commonObj.__setTextSelOk(true);
		<span class="reserved">this</span>.numericIdToBeDragged = false;									
	}	
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __slideElementBackIntoItsOriginalPosition()</span>
    <span class="comment">/**
     * Slide an item back to it's original position
     *
     * <span class="attrib">@param</span> Integer numId = numeric index of currently dragged element	
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__slideElementBackIntoItsOriginalPosition : <span class="reserved">function</span>(numId)
	{
		<span class="comment">// Coordinates current element position</span>
		var currentX = <span class="reserved">this</span>.dragObjCloneArray[numId].style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		var currentY = <span class="reserved">this</span>.dragObjCloneArray[numId].style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		
		var ref = <span class="reserved">this</span>.dragDropSourcesArray[numId][0];
		<span class="comment">// Coordinates - where it should slide to</span>
		var targetX = DHTMLSuite.commonObj.getLeftPos(ref);
		var targetY = DHTMLSuite.commonObj.getTopPos(ref);;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.moveBackBySliding){
			<span class="comment">// Call the step by step slide method</span>
			<span class="reserved">this</span>.__processSlideByPixels(numId,currentX,currentY,targetX,targetY);
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.dragObjCloneArray[numId].style.display=<span class="literal">'none'</span>;
			ref.style.visibility = <span class="literal">'visible'</span>;			
		}			
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __processSlideByPixels()</span>
    <span class="comment">/**
     * Move the element step by step in this method
     *
     * <span class="attrib">@param</span> Int numId = numeric index of currently dragged element
     * <span class="attrib">@param</span> Int currentX = Elements current X position
     * <span class="attrib">@param</span> Int currentY = Elements current Y position
     * <span class="attrib">@param</span> Int targetX = Destination X position, i.e. where the element should slide to
     * <span class="attrib">@param</span> Int targetY = Destination Y position, i.e. where the element should slide to
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__processSlideByPixels : <span class="reserved">function</span>(numId,currentX,currentY,targetX,targetY)
	{				
		<span class="comment">// Find slide x value</span>
		var slideX = Math.round(Math.abs(Math.max(currentX,targetX) - Math.min(currentX,targetX)) / 10);		
		<span class="comment">// Find slide y value</span>
		var slideY = Math.round(Math.abs(Math.max(currentY,targetY) - Math.min(currentY,targetY)) / 10);
		
		<span class="reserved">if</span>(slideY&lt;3 &amp;&amp; Math.abs(slideX)&lt;10)slideY = 3;	<span class="comment">// 3 is minimum slide value</span>
		<span class="reserved">if</span>(slideX&lt;3 &amp;&amp; Math.abs(slideY)&lt;10)slideX = 3;	<span class="comment">// 3 is minimum slide value</span>
		
		
		<span class="reserved">if</span>(currentX &gt; targetX) slideX*=-1;	<span class="comment">// If current x is larger than target x, make slide value negative&lt;br&gt;</span>
		<span class="reserved">if</span>(currentY &gt; targetY) slideY*=-1;	<span class="comment">// If current y is larger than target x, make slide value negative</span>
		
		<span class="comment">// Update currentX and currentY</span>
		currentX = currentX + slideX;	
		currentY = currentY + slideY;

		<span class="comment">// If currentX or currentY is close to targetX or targetY, make currentX equal to targetX(or currentY equal to targetY)</span>
		<span class="reserved">if</span>(Math.max(currentX,targetX) - Math.min(currentX,targetX) &lt; 4)currentX = targetX;
		<span class="reserved">if</span>(Math.max(currentY,targetY) - Math.min(currentY,targetY) &lt; 4)currentY = targetY;

		<span class="comment">// Update CSS position(left and top)</span>
		<span class="reserved">this</span>.dragObjCloneArray[numId].style.left = currentX + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.dragObjCloneArray[numId].style.top = currentY + <span class="literal">'px'</span>;	
		
		<span class="comment">// currentX different than targetX or currentY different than targetY, call this function in again in 5 milliseconds</span>
		<span class="reserved">if</span>(currentX!=targetX || currentY != targetY){
			window.thisRef = <span class="reserved">this</span>;	<span class="comment">// Reference to this dragdrop object</span>
			setTimeout(<span class="literal">'window.thisRef.__processSlideByPixels("'</span> + numId + <span class="literal">'",'</span> + currentX + <span class="literal">','</span> + currentY + <span class="literal">','</span> + targetX + <span class="literal">','</span> + targetY + <span class="literal">')'</span>,5);
		}<span class="reserved">else</span>{	<span class="comment">// Slide completed. Make absolute positioned element invisible and original element visible</span>
			<span class="reserved">this</span>.dragObjCloneArray[numId].style.display=<span class="literal">'none'</span>;
			<span class="reserved">this</span>.dragDropSourcesArray[numId][0].style.visibility = <span class="literal">'visible'</span>;
		}		
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-tabView.js] */</span>	
<span class="comment">/************************************************************************************************************
*	Tab view class
*
*	Created:			August, 21st, 2006
*
* 	Update log:
*
************************************************************************************************************/</span>

	
<span class="reserved">if</span>(!window.DHTMLSuite)var DHTMLSuite=new Object();<span class="comment">/************************************************************************************************************ 
*	Tab view class 
* 
*	Created:		August, 21st, 2006 
* 
*	 Update log: 
* 
************************************************************************************************************/</span> 

	 
var refToTabViewObjects=new Array();	 
<span class="comment">// Reference to objects of this class. </span>
				
<span class="comment">// We need this because the script doesn't allways know which object to use </span>

<span class="comment">/** 
* <span class="attrib">@constructor</span> 
* <span class="attrib">@class</span> Purpose of class:	Tab view class-transfors plain HTML into tabable layers.&lt;br&gt; 
* (See &lt;a target="_blank" href="../../demos/demo-tabs-1.html"&gt;demo 1&lt;/A&gt; and &lt;a target="_blank" href="../../demos/demo-tabs-2.html"&gt;demo 2&lt;/A&gt;) 
* <span class="attrib">@version</span> 1.0 
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com) 
**/</span> 

DHTMLSuite.tabView=<span class="reserved">function</span>(){ 
	var textPadding;		 
	<span class="comment">// Tab spacing </span>
	var strictDocType ;		
	<span class="comment">// Using a strict document type, i.e. &lt;!DOCTYPE&gt; </span>

	var DHTMLSuite_tabObj;	 
	<span class="comment">// Reference to div surrounding the tab set </span>
	var activeTabIndex;		 
	<span class="comment">// Currently displayed tab(index-0=first tab) </span>
	var initActiveTabIndex;		 
	<span class="comment">// Initially displayed tab(index-0=first tab) </span>
	var ajaxObjects;		 
	<span class="comment">// Reference to ajax objects </span>
	var tabView_countTabs; 
	var tabViewHeight; 
	var tabSetParentId;		 
	<span class="comment">// Id of div surrounding the tab set. </span>
	var tabTitles;			 
	<span class="comment">// Tab titles </span>
	var width;			 
	<span class="comment">// width of tab view </span>
	var height;			 
	<span class="comment">// height of tab view </span>
	var layoutCSS; 
	var outsideObjectRefIndex;	 
	<span class="comment">// Which index of refToTabViewObjects refers to this object. </span>
	var maxNumberOfTabs; 
	var dynamicContentObj;	 
	var closeButtons; 
	var refActiveTabContent; 
	 
	var callbackOnTabSwitch; 
	 
	<span class="reserved">this</span>.initActiveTabIndex=0; 
	<span class="reserved">this</span>.callbackOnTabSwitch=<span class="literal">''</span>; 
	<span class="reserved">this</span>.refActiveTabContent=<span class="literal">''</span>; 
	 
	<span class="comment">// Default variable values </span>
	<span class="reserved">this</span>.textPadding=3; 
	<span class="reserved">this</span>.strictDocType=true;	
	<span class="reserved">this</span>.ajaxObjects=new Array(); 
	<span class="reserved">this</span>.tabTitles=new Array(); 
	<span class="reserved">this</span>.layoutCSS=<span class="literal">'tab-view.css'</span>; 
	<span class="reserved">this</span>.maxNumberOfTabs=6; 
	<span class="reserved">this</span>.dynamicContentObj=false; 
	<span class="reserved">this</span>.closeButtons=new Array(); 
	<span class="reserved">this</span>.width=<span class="literal">'100%'</span>; 
	<span class="reserved">this</span>.height=<span class="literal">'500'</span>; 
	 
	try{ 
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	 
		<span class="comment">// This line starts all the init methods </span>
	}catch(e){ 
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>); 
	} 
} 

DHTMLSuite.tabView.<span class="reserved">prototype</span>={ 
	 
	<span class="comment">// {{{ init() </span>
	 <span class="comment">/** 
	 *Initialize the script 
	 * 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	init:<span class="reserved">function</span>() 
	{	 
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS); 
		<span class="reserved">this</span>.outsideObjectRefIndex=refToTabViewObjects.length; 
		refToTabViewObjects[<span class="reserved">this</span>.outsideObjectRefIndex]=<span class="reserved">this</span>; 
		try{ 
			<span class="reserved">this</span>.dynamicContentObj=new DHTMLSuite.dynamicContent(); 
		}catch(e){ 
			alert(<span class="literal">'You need to include DHTMLSuite-dynamicContent.js'</span>); 
		} 
		<span class="reserved">this</span>.__initializeAndParseTabs(false,false); 
	 
	} 
	 
	<span class="comment">// }}} </span>
	, 
	 
	<span class="comment">// {{{ setCallbackOnTabSwitch() </span>
	 <span class="comment">/** 
	 *Set callback on tab switch 
	 * 
	 *<span class="attrib">@param</span> String callbackOnTabSwitch=Name of function to execute when the user switches to a different tab. 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>		 
	setCallbackOnTabSwitch:<span class="reserved">function</span>(callbackOnTabSwitch) 
	{ 
		<span class="reserved">this</span>.callbackOnTabSwitch=callbackOnTabSwitch; 
	} 
	 
	<span class="comment">// }}} </span>
	, 
	 
	<span class="comment">// {{{ getMaximumNumberOfTabs() </span>
	 <span class="comment">/** 
	 *Return maximum number of tabs 
	 * 
	 *<span class="attrib">@return</span> Int maximumNumberOfTabs=Maximum number of tabs 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	getMaximumNumberOfTabs:<span class="reserved">function</span>() 
	{ 
		<span class="reserved">return</span> <span class="reserved">this</span>.maxNumberOfTabs; 
	} 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ setMaximumTabs() </span>
	 <span class="comment">/** 
	 *Set maximum number of tabs 
	 * 
	 *<span class="attrib">@param</span> Int maximumNumberOfTabs=Maximum number of tabs 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setMaximumTabs:<span class="reserved">function</span>(maximumNumberOfTabs) 
	{ 
		<span class="reserved">this</span>.maxNumberOfTabs=maximumNumberOfTabs; 
	}		
	 
	<span class="comment">// }}}	 </span>
	 , 
	 
	<span class="comment">// {{{ setParentId() </span>
	 <span class="comment">/** 
	 *Set padding on tabs 
	 * 
	 *<span class="attrib">@param</span> String idOfParentHTMLElement=id of parent div 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setParentId:<span class="reserved">function</span>(idOfParentHTMLElement) 
	{ 
		<span class="reserved">this</span>.tabSetParentId=idOfParentHTMLElement; 
		<span class="reserved">this</span>.DHTMLSuite_tabObj=document.getElementById(idOfParentHTMLElement); 
	}		
	 
	<span class="comment">// }}}	 </span>
	 , 
	 
	<span class="comment">// {{{ setWidth() </span>
	 <span class="comment">/** 
	 *Set width of tab view 
	 * 
	 *<span class="attrib">@param</span> String Width of tab view 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setWidth:<span class="reserved">function</span>(newWidth) 
	{ 
		<span class="reserved">this</span>.width=newWidth; 
	}	 
	 
	<span class="comment">// }}}	 </span>
	 , 
	 
	<span class="comment">// {{{ setHeight() </span>
	 <span class="comment">/** 
	 *Set height of tab view on tabs 
	 * 
	 *<span class="attrib">@param</span> String Height of tab view 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setHeight:<span class="reserved">function</span>(newHeight) 
	{ 
		<span class="reserved">this</span>.height=newHeight; 
	}	 
	 
	<span class="comment">// }}}	 </span>
	 ,	 
	 
	<span class="comment">// {{{ setIndexActiveTab() </span>
	 <span class="comment">/** 
	 *Set index of initially active tab 
	 * 
	 *<span class="attrib">@param</span> Int indexOfNewActiveTab=Index of active tab(0=first tab) 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setIndexActiveTab:<span class="reserved">function</span>(indexOfNewActiveTab) 
	{ 
		<span class="reserved">this</span>.initActiveTabIndex=indexOfNewActiveTab; 
	}	 
	 
	 
	<span class="comment">// }}}	 </span>
	 ,	 
	 
	<span class="comment">// {{{ setTabTitles() </span>
	 <span class="comment">/** 
	 *Set title of tabs 
	 * 
	 *<span class="attrib">@param</span> Array titleOfTabs=Title of tabs 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setTabTitles:<span class="reserved">function</span>(titleOfTabs) 
	{ 
		<span class="reserved">this</span>.tabTitles=titleOfTabs; 
	}	 
	 
	 
	<span class="comment">// }}}	 </span>
	 ,	 
	 
	<span class="comment">// {{{ setCloseButtons() </span>
	 <span class="comment">/** 
	 *Specify which tabs that should have close buttons 
	 * 
	 *<span class="attrib">@param</span> Array closeButtons=Array of true or false 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	setCloseButtons:<span class="reserved">function</span>(closeButtons) 
	{ 
		<span class="reserved">this</span>.closeButtons=closeButtons; 
	}	 
	 
	<span class="comment">// }}} </span>
	 , 
	 
	<span class="comment">// {{{ getReferenceToDivElement() </span>
	 <span class="comment">/** 
	 * 
	 *Returns a reference to the div element of a tab. 
	 * 
	 *<span class="attrib">@param</span> String tabTitle=Title of tab 
	 *<span class="attrib">@return</span> Object Element to HTML div element for this tab. 
	 * 
	 *<span class="attrib">@public</span> 
	*/</span>		 
	 getReferenceToDivElementByTitle:<span class="reserved">function</span>(tabTitle) 
	 { 
		 var index=<span class="reserved">this</span>.getTabIndexByTitle(tabLabel);	 
		 <span class="comment">// Get index of tab </span>
		 <span class="reserved">if</span>(index!=-1){ 
		 var obj=document.getElementById(<span class="literal">'tabView'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">'_'</span>+index); 
		 <span class="reserved">return</span> obj;		
		 }		 
		 <span class="reserved">return</span> false; 
	 } 
	 
	<span class="comment">// }}} </span>
	 , 
	 
	<span class="comment">// {{{ getReferenceToDivElementById() </span>
	 <span class="comment">/** 
	 * 
	 *Returns a reference to the div element of a tab. 
	* 
	 *<span class="attrib">@param</span> String idOfTab=id of tab 
	 *<span class="attrib">@return</span> Object Element to HTML div element for this tab. 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>			
	 getReferenceToDivElementById:<span class="reserved">function</span>(idOfTab) 
	 { 
		var divs=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>); 
		 
		<span class="reserved">for</span>(var no=0;no&lt;divs.length;no++){ 
			var attr=divs[no].getAttribute(<span class="literal">'originalId'</span>); 
			<span class="reserved">if</span>(!attr)attr=divs[no].originalid; 
			<span class="reserved">if</span>(attr==idOfTab)<span class="reserved">return</span> divs[no]; 
		} 
		<span class="reserved">return</span> false; 
			
	 } 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ createNewTab() </span>
	 <span class="comment">/** 
	 * 
	 *Creates new tab dynamically 
	* 
	 *<span class="attrib">@param</span> String parentId=Id of tabset 
	 *<span class="attrib">@param</span> String tabTitle=Title of new tab 
	 *<span class="attrib">@param</span> String tabContent=Content of new tab(Optional) 
	 *<span class="attrib">@param</span> String tabContentUrl=Url to content of new tab(Optional)- Ajax is used to get this content 
	* 
	 *<span class="attrib">@return</span> Boolean Success-true if the tab was created, false otherwise, i.e. tab with same label already exists. 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	createNewTab:<span class="reserved">function</span>(parentId,tabTitle,tabContent,tabContentUrl,closeButton) 
	 { 
		var index=<span class="reserved">this</span>.getTabIndexByTitle(tabTitle);	 
		<span class="comment">// Get index of tab </span>
			<span class="reserved">if</span>(index!=-1){	 
		<span class="comment">// Tab exists if index&lt;&gt;-1 </span>
				<span class="reserved">this</span>.displayATab(tabTitle,index); 
				<span class="reserved">return</span> false; 
			} 
			<span class="reserved">if</span>(<span class="reserved">this</span>.tabView_countTabs&gt;=<span class="reserved">this</span>.maxNumberOfTabs)<span class="reserved">return</span>;	 
		<span class="comment">// Maximum number of tabs reached-return </span>
			var div=document.createElement(<span class="literal">'DIV'</span>);	 
		<span class="comment">// Create new tab content div. </span>
			div.className=<span class="literal">'DHTMLSuite_aTab'</span>;	 
		<span class="comment">// Assign new tab to CSS class DHTMLSuite_aTab </span>
			<span class="reserved">this</span>.DHTMLSuite_tabObj.appendChild(div);			 
		<span class="comment">// Appending new tab content div to main tab view div </span>
			var tabId=<span class="reserved">this</span>.__initializeAndParseTabs(true,tabTitle,closeButton);	 
		<span class="comment">// Call the init method in order to create tab header and tab images </span>
			<span class="reserved">if</span>(tabContent)div.innerHTML=tabContent;	 
		<span class="comment">// Static tab content specified, put it into the new div </span>
			<span class="reserved">if</span>(tabContentUrl){	 
		<span class="comment">// Get content from external file </span>
				<span class="reserved">this</span>.dynamicContentObj.loadContent(<span class="literal">'tabView'</span>+parentId +<span class="literal">'_'</span>+tabId,tabContentUrl); 
			} 
		<span class="comment">// update tabTitles -- batur </span>
		<span class="reserved">this</span>.tabTitles[tabId] = tabTitle; 
			
		<span class="reserved">return</span> true; 
	} 

	 
	<span class="comment">// }}}		 </span>
	 ,	 
	
	<span class="comment">// {{{ deleteTab() </span>
	 <span class="comment">/** 
	* 
	 *Delete a tab 
	* 
	 *<span class="attrib">@param</span> String tabLabel=Label of tab to delete(Optional) 
	 *<span class="attrib">@param</span> Int tabIndex=Index of tab to delete(Optional) 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	deleteTab:<span class="reserved">function</span>(tabLabel,tabIndex) 
	{	 
		<span class="reserved">if</span>(tabLabel){	 
		<span class="comment">// Delete tab by tab title </span>
			var index=<span class="reserved">this</span>.getTabIndexByTitle(tabLabel);	 
		<span class="comment">// Get index of tab </span>
			<span class="reserved">if</span>(index!=-1){	 
		<span class="comment">// Tab exists if index&lt;&gt;-1 </span>
			<span class="reserved">this</span>.deleteTab(false,index); 
			} 
			 
		}<span class="reserved">else</span> <span class="reserved">if</span>(tabIndex&gt;=0){	 
		<span class="comment">// Delete tab by tab index. </span>
			<span class="reserved">if</span>(document.getElementById(<span class="literal">'tabTab'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">'_'</span>+tabIndex)){ 
			var obj=document.getElementById(<span class="literal">'tabTab'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">'_'</span>+tabIndex); 
			var id=obj.parentNode.parentNode.id; 
			DHTMLSuite.discardElement(obj); 
			var obj2=document.getElementById(<span class="literal">'tabView'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">'_'</span>+tabIndex); 
			DHTMLSuite.discardElement(obj2); 
			<span class="reserved">this</span>.__resetTabIds(<span class="reserved">this</span>.tabSetParentId); 
			<span class="reserved">this</span>.initActiveTabIndex=-1; 
			var newIndex=0; 
			<span class="reserved">if</span>(refToTabViewObjects[<span class="reserved">this</span>.outsideObjectRefIndex].activeTabIndex==tabIndex)refToTabViewObjects[<span class="reserved">this</span>.outsideObjectRefIndex].activeTabIndex=-1; 
			<span class="reserved">this</span>.__showTab(<span class="reserved">this</span>.tabSetParentId,newIndex,<span class="reserved">this</span>.outsideObjectRefIndex); 
			}		 
		}	 
	} 
	 
	<span class="comment">// }}}	 </span>
	,		
	<span class="comment">// {{{ addContentToTab() </span>
	 <span class="comment">/** 
	 *Add content to a tab dynamically. 
	 * 
	 *<span class="attrib">@param</span> String tabLabel=Label of tab to delete(Optional) 
	 *<span class="attrib">@param</span> String filePath=Path to file you want to show inside the tab. 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	addContentToTab:<span class="reserved">function</span>(tabLabel,filePath) 
	{	 
		var index=<span class="reserved">this</span>.getTabIndexByTitle(tabLabel);	 
		<span class="comment">// Get index of tab </span>
		<span class="reserved">if</span>(index!=-1){	 
		<span class="comment">// Tab found </span>
			<span class="reserved">this</span>.dynamicContentObj.loadContent(<span class="literal">'tabView'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">'_'</span>+index,filePath);	 
		} 
	} 
	 
	<span class="comment">// }}}	 </span>
	, 
	
	<span class="comment">// {{{ displayATab() </span>
	 <span class="comment">/** 
	 *Display a tab manually 
	 * 
	 *<span class="attrib">@param</span> String tabTitle=Label of tab to show(Optional) 
	 *<span class="attrib">@param</span> Int tabIndex=Index of tab to show(Optional) 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 

	displayATab:<span class="reserved">function</span>(tabLabel,tabIndex) 
	{	 
		<span class="reserved">if</span>(tabLabel){	 
		<span class="comment">// Delete tab by tab title </span>
			var index=<span class="reserved">this</span>.getTabIndexByTitle(tabLabel);	 
		<span class="comment">// Get index of tab </span>
			<span class="reserved">if</span>(index!=-1){	 
		<span class="comment">// Tab exists if index&lt;&gt;-1 </span>
			<span class="reserved">this</span>.initActiveTabIndex=index; 
			}<span class="reserved">else</span> <span class="reserved">return</span> false; 
			 
		}<span class="reserved">else</span>{ 
			<span class="reserved">this</span>.initActiveTabIndex=tabIndex; 
		} 
	
		<span class="reserved">this</span>.__showTab(<span class="reserved">this</span>.tabSetParentId,<span class="reserved">this</span>.initActiveTabIndex,<span class="reserved">this</span>.outsideObjectRefIndex) 
	}	 
	 
	<span class="comment">// }}}	 </span>
	,		
	
	<span class="comment">// {{{ getTabIndex() </span>
	 <span class="comment">/** 
	 *Return index of active tab 
	 * 
	 *<span class="attrib">@type</span> Integer tabIndex=Index of active tab(0=first tab) 
	* 
	 *<span class="attrib">@public</span> 
	*/</span>	 
	getTabIndex:<span class="reserved">function</span>() 
	{ 
		var divs=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>); 
		var tabIndex=0; 
		<span class="reserved">for</span>(var no=0;no&lt;divs.length;no++){ 
			<span class="reserved">if</span>(divs[no].id.indexOf(<span class="literal">'tabTab'</span>)&gt;=0){ 
			<span class="reserved">if</span>(divs[no].className!=<span class="literal">'tabInactive'</span>)<span class="reserved">return</span> tabIndex; 
			tabIndex++;	 
			} 
		}	 
		 
		<span class="comment">//tabInactive	 </span>
		<span class="reserved">return</span> tabIndex;	 
	}	 
	 
	<span class="comment">// }}} </span>
	,	 
	 
	 
	<span class="comment">// {{{ __setPadding() </span>
	 <span class="comment">/** 
	 *Set padding on tabs 
	 * 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__setPadding:<span class="reserved">function</span>(obj,padding){ 
		var span=obj.getElementsByTagName(<span class="literal">'SPAN'</span>)[0]; 
		span.style.paddingLeft=padding+<span class="literal">'px'</span>;	 
		span.style.paddingRight=padding+<span class="literal">'px'</span>;	 
	}	 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ __showTab() </span>
	 <span class="comment">/** 
	 *Set padding 
	 * 
	 *<span class="attrib">@param</span> String parentId=id of parent div 
	 *<span class="attrib">@param</span> Int tabIndex=Index of tab to show 
	 *<span class="attrib">@param</span> Int objectIndex=Index of refToTabViewObjects, reference to the object of this class. 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__showTab:<span class="reserved">function</span>(parentId,tabIndex,objectIndex) 
	{ 
		var parentId_div=parentId+<span class="literal">"_"</span>; 
		<span class="reserved">if</span>(!document.getElementById(<span class="literal">'tabView'</span>+parentId_div+tabIndex)){		 
			<span class="reserved">return</span>; 
		} 
		 
		<span class="reserved">if</span>(refToTabViewObjects[objectIndex].activeTabIndex&gt;=0){ 
			<span class="reserved">if</span>(refToTabViewObjects[objectIndex].activeTabIndex==tabIndex){ 
			<span class="reserved">return</span>; 
			}	 
			var obj=document.getElementById(<span class="literal">'tabTab'</span>+parentId_div+refToTabViewObjects[objectIndex].activeTabIndex);	 
			<span class="reserved">if</span>(!obj){ 
			refToTabViewObjects[objectIndex].activeTabIndex=0; 
			var obj=document.getElementById(<span class="literal">'tabTab'</span>+parentId_div+refToTabViewObjects[objectIndex].activeTabIndex);	 
			} 
			obj.className=<span class="literal">'tabInactive'</span>; 
			obj.style.backgroundImage=<span class="literal">'url(\'</span><span class="literal">'+DHTMLSuite.configObj.imagePath+'</span>tab-view/tab_left_inactive.gif<span class="literal">'+'</span>\<span class="literal">')'</span>; 
			var imgs=obj.getElementsByTagName(<span class="literal">'IMG'</span>); 
			var img=imgs[imgs.length-1]; 
			img.src=DHTMLSuite.configObj.imagePath+<span class="literal">'tab-view/tab_right_inactive.gif'</span>; 
			document.getElementById(<span class="literal">'tabView'</span>+parentId_div+refToTabViewObjects[objectIndex].activeTabIndex).style.display=<span class="literal">'none'</span>; 
		} 
		 
		var thisObj=document.getElementById(<span class="literal">'tabTab'</span>+ parentId_div +tabIndex);	 
			 
		thisObj.className=<span class="literal">'tabActive'</span>; 
		thisObj.style.backgroundImage=<span class="literal">'url(\'</span><span class="literal">'+DHTMLSuite.configObj.imagePath+'</span>tab-view/tab_left_active.gif<span class="literal">'+'</span>\<span class="literal">')'</span>; 
		var imgs=thisObj.getElementsByTagName(<span class="literal">'IMG'</span>); 
		var img=imgs[imgs.length-1];	 
		img.src=DHTMLSuite.configObj.imagePath+<span class="literal">'tab-view/tab_right_active.gif'</span>; 
		 
		document.getElementById(<span class="literal">'tabView'</span>+parentId_div+tabIndex).style.display=<span class="literal">'block'</span>; 
		<span class="reserved">this</span>.refActiveTabContent=document.getElementById(<span class="literal">'tabView'</span>+parentId_div+tabIndex); 
		refToTabViewObjects[objectIndex].activeTabIndex=tabIndex; 
		 
		refToTabViewObjects[objectIndex].__handleCallback(<span class="literal">'tabSwitch'</span>); 
	
		var parentObj=thisObj.parentNode; 
		var aTab=parentObj.getElementsByTagName(<span class="literal">'DIV'</span>)[0]; 
		countObjects=0; 
		var startPos=2; 
		var previousObjectActive=false; 
		<span class="reserved">while</span>(aTab){ 
			<span class="reserved">if</span>(aTab.tagName==<span class="literal">'DIV'</span>){ 
			<span class="reserved">if</span>(previousObjectActive){ 
				previousObjectActive=false; 
				startPos-=2; 
			} 
			<span class="reserved">if</span>(aTab==thisObj){ 
				startPos-=2; 
				previousObjectActive=true; 
				refToTabViewObjects[objectIndex].__setPadding(aTab,refToTabViewObjects[objectIndex].textPadding+1); 
			}<span class="reserved">else</span>{ 
				refToTabViewObjects[objectIndex].__setPadding(aTab,refToTabViewObjects[objectIndex].textPadding); 
			} 
			 
			aTab.style.left=startPos+<span class="literal">'px'</span>; 
			countObjects++; 
			startPos+=2; 
			}		 
			aTab=aTab.nextSibling; 
		} 
		 
		<span class="reserved">return</span>; 
	} 
	 
	<span class="comment">// }}} </span>
	, 
	 
	<span class="comment">// {{{ __handleCallback() </span>
	 <span class="comment">/** 
	 *Set padding 
	 * 
	 *<span class="attrib">@param</span> String action=Which call back action 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__handleCallback:<span class="reserved">function</span>(action) 
	{	 
		var callbackString=<span class="literal">''</span>; 
		switch(action) 
		{ 
			case <span class="literal">"tabSwitch"</span>: 
			callbackString=<span class="reserved">this</span>.callbackOnTabSwitch;		 
			break;		 
		}	 
		 
		<span class="reserved">if</span>(callbackString){ 
			callbackString=callbackString+<span class="literal">'(this.refActiveTabContent)'</span>; 
			eval(callbackString); 
		}	 
	} 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ tabClick() </span>
	 <span class="comment">/** 
	 *Set padding 
	 * 
	 *<span class="attrib">@param</span> String parentId=id of parent div 
	 *<span class="attrib">@param</span> Int tabIndex=Index of tab to show 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__tabClick:<span class="reserved">function</span>(inputObj,index) 
	{ 
		var idArray=inputObj.id.split(<span class="literal">'_'</span>);	 
		var parentId=inputObj.getAttribute(<span class="literal">'parentRefId'</span>); 
		<span class="reserved">if</span>(!parentId)parentId=inputObj.parentRefId; 
		<span class="reserved">this</span>.__showTab(parentId,idArray[idArray.length-1].replace(/[^0-9]/gi,<span class="literal">''</span>),index); 
	 
	}	 
	 
	<span class="comment">// }}} </span>
	, 
	 
	<span class="comment">// {{{ rolloverTab() </span>
	 <span class="comment">/** 
	 *Set padding 
	 * 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__rolloverTab:<span class="reserved">function</span>() 
	{ 
		<span class="reserved">if</span>(<span class="reserved">this</span>.className.indexOf(<span class="literal">'tabInactive'</span>)&gt;=0){ 
			<span class="reserved">this</span>.className=<span class="literal">'inactiveTabOver'</span>; 
			<span class="reserved">this</span>.style.backgroundImage=<span class="literal">'url(\'</span><span class="literal">'+DHTMLSuite.configObj.imagePath+'</span>tab-view/tab_left_over.gif<span class="literal">'+'</span>\<span class="literal">')'</span>; 
			var imgs=<span class="reserved">this</span>.getElementsByTagName(<span class="literal">'IMG'</span>); 
			var img=imgs[imgs.length-1]; 
			 
			img.src=DHTMLSuite.configObj.imagePath+<span class="literal">'tab-view/tab_right_over.gif'</span>; 
		} 
	 
	}	 
	 
	<span class="comment">// }}} </span>
	,	 
	 
	<span class="comment">// {{{ rolloutTab() </span>
	 <span class="comment">/** 
	 * 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>		 
	__rolloutTab:<span class="reserved">function</span>() 
	{ 
		<span class="reserved">if</span>(<span class="reserved">this</span>.className== <span class="literal">'inactiveTabOver'</span>){ 
			<span class="reserved">this</span>.className=<span class="literal">'tabInactive'</span>; 
			<span class="reserved">this</span>.style.backgroundImage=<span class="literal">'url(\'</span><span class="literal">'+DHTMLSuite.configObj.imagePath+'</span>tab-view/tab_left_inactive.gif<span class="literal">'+'</span>\<span class="literal">')'</span>; 
			var imgs=<span class="reserved">this</span>.getElementsByTagName(<span class="literal">'IMG'</span>); 
			var img=imgs[imgs.length-1]; 
			img.src=DHTMLSuite.configObj.imagePath+<span class="literal">'tab-view/tab_right_inactive.gif'</span>; 
		}	 
	} 
	 
	<span class="comment">// }}} </span>
	, 
	 
	<span class="comment">// {{{ __initializeAndParseTabs() </span>
	 <span class="comment">/** 
	 * 
	 *<span class="attrib">@param</span> Int additionalTab=Additional tabs to the existing 
	 *<span class="attrib">@param</span> String nameOfAdditionalTab=Title of additional tab. 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__initializeAndParseTabs:<span class="reserved">function</span>(additionalTab,nameOfAdditionalTab,additionalCloseButton) 
	{ 
		<span class="reserved">this</span>.DHTMLSuite_tabObj.className=<span class="literal">' DHTMLSuite_tabWidget'</span>; 
		 
		window.refToThisTabSet=<span class="reserved">this</span>; 
		<span class="reserved">if</span>(!additionalTab||additionalTab==<span class="literal">'undefined'</span>){		 
			<span class="reserved">this</span>.DHTMLSuite_tabObj=document.getElementById(<span class="reserved">this</span>.tabSetParentId); 
			<span class="reserved">this</span>.width=<span class="reserved">this</span>.width+<span class="literal">''</span>; 
			<span class="reserved">if</span>(<span class="reserved">this</span>.width.indexOf(<span class="literal">'%'</span>)&lt;0)<span class="reserved">this</span>.width= <span class="reserved">this</span>.width+<span class="literal">'px'</span>; 
			<span class="reserved">this</span>.DHTMLSuite_tabObj.style.width=<span class="reserved">this</span>.width; 
				 
			<span class="reserved">this</span>.height=<span class="reserved">this</span>.height+<span class="literal">''</span>; 
			<span class="reserved">if</span>(<span class="reserved">this</span>.height.length&gt;0){ 
			<span class="reserved">if</span>(<span class="reserved">this</span>.height.indexOf(<span class="literal">'%'</span>)&lt;0)<span class="reserved">this</span>.height= <span class="reserved">this</span>.height+<span class="literal">'px'</span>; 
			<span class="reserved">this</span>.DHTMLSuite_tabObj.style.height=<span class="reserved">this</span>.height; 
			} 
			 
			var tabDiv=document.createElement(<span class="literal">'DIV'</span>);	 
			var firstDiv=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>)[0];	 
			 
			<span class="reserved">this</span>.DHTMLSuite_tabObj.insertBefore(tabDiv,firstDiv);	 
			tabDiv.className=<span class="literal">'DHTMLSuite_tabContainer'</span>;		 
			<span class="reserved">this</span>.tabView_countTabs=0; 
			var tmpTabTitles=<span class="reserved">this</span>.tabTitles;	 
		<span class="comment">// tmpTab titles set to current tab titles-this variable is used in the loop below </span>
							 
		<span class="comment">// We don't want to loop through all the tab titles in the object when we add a new one manually. </span>
			 
		}<span class="reserved">else</span>{	 
		<span class="comment">// A new tab being created dynamically afterwards. </span>
			var tabDiv=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>)[0]; 
			var firstDiv=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>)[1]; 
			<span class="reserved">this</span>.initActiveTabIndex=<span class="reserved">this</span>.tabView_countTabs;	 
			var tmpTabTitles=Array(nameOfAdditionalTab);	 
		<span class="comment">// tmpTab titles set to only the new tab </span>
		}		 
		<span class="reserved">for</span>(var no=0;no&lt;tmpTabTitles.length;no++){ 
			var aTab=document.createElement(<span class="literal">'DIV'</span>); 
			aTab.id=<span class="literal">'tabTab'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">"_"</span>+ (no+<span class="reserved">this</span>.tabView_countTabs); 
			aTab.onmouseover=<span class="reserved">this</span>.__rolloverTab; 
			aTab.onmouseout=<span class="reserved">this</span>.__rolloutTab; 
			aTab.setAttribute(<span class="literal">'parentRefId'</span>,<span class="reserved">this</span>.tabSetParentId); 
			aTab.parentRefId=<span class="reserved">this</span>.tabSetParentId; 
			var numIndex=window.refToThisTabSet.outsideObjectRefIndex+<span class="literal">''</span>; 
			aTab.onclick=<span class="reserved">function</span>(){ window.refToThisTabSet.__tabClick(<span class="reserved">this</span>,numIndex); }; 
			DHTMLSuite.commonObj.__addEventEl(aTab); 
			aTab.className=<span class="literal">'tabInactive'</span>; 
			aTab.style.backgroundImage=<span class="literal">'url(\'</span><span class="literal">'+DHTMLSuite.configObj.imagePath+'</span>tab-view/tab_left_inactive.gif<span class="literal">'+'</span>\<span class="literal">')'</span>; 
			tabDiv.appendChild(aTab); 
			var span=document.createElement(<span class="literal">'SPAN'</span>); 
			span.innerHTML=tmpTabTitles[no]; 
			aTab.appendChild(span); 
	
			<span class="reserved">if</span>((!additionalTab&amp;&amp;<span class="reserved">this</span>.closeButtons[no])||(additionalTab&amp;&amp;additionalCloseButton)){		 
			var closeButton=document.createElement(<span class="literal">'IMG'</span>); 
			closeButton.src=DHTMLSuite.configObj.imagePath+<span class="literal">'tab-view/tab-view-close.gif'</span>; 
			closeButton.style.position=<span class="literal">'absolute'</span>; 
			closeButton.style.top=<span class="literal">'4px'</span>; 
			closeButton.style.right=<span class="literal">'2px'</span>; 
			closeButton.onmouseover=<span class="reserved">this</span>.__mouseOverEffectCloseButton; 
			closeButton.onmouseout=<span class="reserved">this</span>.__mouseOutEffectForCloseButton; 
			DHTMLSuite.commonObj.__addEventEl(closeButton); 
			span.innerHTML=span.innerHTML+<span class="literal">'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;'</span>;		 
			var deleteTxt=span.innerHTML+<span class="literal">''</span>; 
			closeButton.onclick=<span class="reserved">function</span>(){ refToTabViewObjects[numIndex].deleteTab( <span class="reserved">this</span>.parentNode.innerHTML)}; 
			span.appendChild(closeButton); 
			} 
				 
			var img=document.createElement(<span class="literal">'IMG'</span>); 
			img.valign=<span class="literal">'bottom'</span>; 
			img.src=DHTMLSuite.configObj.imagePath+<span class="literal">'tab-view/tab_right_inactive.gif'</span>; 
			 
		<span class="comment">// IE5.X FIX </span>
			<span class="reserved">if</span>((DHTMLSuite.clientInfoObj.navigatorVersion&amp;&amp;DHTMLSuite.clientInfoObj.navigatorVersion&lt;6)||(DHTMLSuite.clientInfoObj.isMSIE&amp;&amp;!<span class="reserved">this</span>.strictDocType)){ 
			img.style.styleFloat=<span class="literal">'none'</span>; 
			img.style.position=<span class="literal">'relative'</span>;	 
			img.style.top=<span class="literal">'4px'</span> 
			span.style.paddingTop=<span class="literal">'4px'</span>; 
			aTab.style.cursor=<span class="literal">'hand'</span>; 
			}	 
		<span class="comment">// End IE5.x FIX </span>
			aTab.appendChild(img); 
		} 
	
		var tabs=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>); 
		var divCounter=0; 
		<span class="reserved">for</span>(var no=0;no&lt;tabs.length;no++){ 
			<span class="reserved">if</span>(tabs[no].className==<span class="literal">'DHTMLSuite_aTab'</span>&amp;&amp;tabs[no].parentNode==<span class="reserved">this</span>.DHTMLSuite_tabObj){ 
			<span class="reserved">if</span>(<span class="reserved">this</span>.height.length&gt;0){ 
				<span class="reserved">if</span>(<span class="reserved">this</span>.height.indexOf(<span class="literal">'%'</span>)==-1){ 
				var tmpHeight=(<span class="reserved">this</span>.height.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1-22); 
				tabs[no].style.height=tmpHeight+<span class="literal">'px'</span>; 
				}<span class="reserved">else</span> 
				tabs[no].style.height=<span class="reserved">this</span>.height; 
			} 
			tabs[no].style.display=<span class="literal">'none'</span>; 
			<span class="reserved">if</span>(tabs[no].id){ 
				tabs[no].setAttribute(<span class="literal">'originalId'</span>,tabs[no].id); 
				tabs[no].originalId=tabs[no].id;			 
			} 
			tabs[no].id=<span class="literal">'tabView'</span>+<span class="reserved">this</span>.tabSetParentId+<span class="literal">"_"</span>+divCounter; 
			divCounter++; 
			}		 
		}	 
		<span class="reserved">if</span>(additionalTab){ 
			<span class="reserved">this</span>.tabView_countTabs++; 
		}<span class="reserved">else</span>{ 
			<span class="reserved">this</span>.tabView_countTabs=<span class="reserved">this</span>.tabView_countTabs+<span class="reserved">this</span>.tabTitles.length;	 
		} 
		 
		<span class="reserved">this</span>.__showTab(<span class="reserved">this</span>.tabSetParentId,<span class="reserved">this</span>.initActiveTabIndex,<span class="reserved">this</span>.outsideObjectRefIndex); 
	
		<span class="reserved">return</span> <span class="reserved">this</span>.activeTabIndex; 
	} 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ __mouseOutEffectForCloseButton() </span>
	 <span class="comment">/** 
	 * 
	 *<span class="attrib">@private</span> 
	*/</span>			
	__mouseOutEffectForCloseButton:<span class="reserved">function</span>() 
	{ 
		<span class="reserved">this</span>.src=<span class="reserved">this</span>.src.replace(<span class="literal">'close-over.gif'</span>,<span class="literal">'close.gif'</span>);	 
	}	 
	 
	<span class="comment">// }}}	 </span>
	,	 
	 
	<span class="comment">// {{{ __mouseOverEffectCloseButton() </span>
	 <span class="comment">/** 
	 * 
	 *<span class="attrib">@private</span> 
	*/</span>			
	__mouseOverEffectCloseButton:<span class="reserved">function</span>() 
	{ 
		<span class="reserved">this</span>.src=<span class="reserved">this</span>.src.replace(<span class="literal">'close.gif'</span>,<span class="literal">'close-over.gif'</span>);	 
	}	 
	 
	<span class="comment">// }}}	 </span>
	,	 
	 
	<span class="comment">// {{{ __fillTabWithContentFromAjax() </span>
	 <span class="comment">/** 
	 * 
	*<span class="attrib">@param</span> Int ajaxIndex=Index of Ajax array 
	*<span class="attrib">@param</span> String objId=Id of element where content from Ajax should be displayed 
	*<span class="attrib">@param</span> Int tabId=Id of element where content from Ajax should be displayed 
	* 
	 *<span class="attrib">@private</span> 
	*/</span>			
	__fillTabWithContentFromAjax:<span class="reserved">function</span>(ajaxIndex,objId,tabId) 
	{ 
		var obj=document.getElementById(<span class="literal">'tabView'</span>+objId+<span class="literal">'_'</span>+tabId); 
		obj.innerHTML=<span class="reserved">this</span>.ajaxObjects[ajaxIndex].response;	 
	}	 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ __resetTabIds() </span>
	 <span class="comment">/** 
	 * 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	__resetTabIds:<span class="reserved">function</span>(parentId) 
	{ 
		var tabTitleCounter=0; 
		var tabContentCounter=0;	 
		var divs=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>);	 
	
		<span class="reserved">for</span>(var no=0;no&lt;divs.length;no++){ 
			<span class="reserved">if</span>(divs[no].className==<span class="literal">'DHTMLSuite_aTab'</span>&amp;&amp;divs[no].parentNode==<span class="reserved">this</span>.DHTMLSuite_tabObj){ 
			divs[no].id=<span class="literal">'tabView'</span>+parentId+<span class="literal">'_'</span>+tabTitleCounter; 
			tabTitleCounter++; 
			} 
			<span class="reserved">if</span>(divs[no].id.indexOf(<span class="literal">'tabTab'</span>)&gt;=0&amp;&amp;divs[no].parentNode.parentNode==<span class="reserved">this</span>.DHTMLSuite_tabObj){ 
			divs[no].id=<span class="literal">'tabTab'</span>+parentId+<span class="literal">'_'</span>+tabContentCounter;	 
			tabContentCounter++; 
			}	 
				 
		}	 
		<span class="reserved">this</span>.tabView_countTabs=tabContentCounter; 
	} 
	 
	<span class="comment">// }}}	 </span>
	, 
	 
	<span class="comment">// {{{ getTabIndexByTitle() </span>
	 <span class="comment">/** 
	 * 
	 *<span class="attrib">@private</span> 
	*/</span>	 
	getTabIndexByTitle:<span class="reserved">function</span>(tabTitle) 
	{ 
		tabTitle=tabTitle.replace(/(.*?)&amp;nbsp.*$/gi,<span class="literal">'$1'</span>); 
		var divs=<span class="reserved">this</span>.DHTMLSuite_tabObj.getElementsByTagName(<span class="literal">'DIV'</span>); 
		 
		<span class="reserved">for</span>(var no=0;no&lt;divs.length;no++){ 
			<span class="reserved">if</span>(divs[no].id.indexOf(<span class="literal">'tabTab'</span>)&gt;=0){ 
			var span=divs[no].getElementsByTagName(<span class="literal">'SPAN'</span>)[0];	 
			var spanTitle=span.innerHTML.replace(/(.*?)&amp;nbsp.*$/gi,<span class="literal">'$1'</span>); 
			<span class="reserved">if</span>(spanTitle==tabTitle){ 
				var tmpId=divs[no].id.split(<span class="literal">'_'</span>);			 
				<span class="reserved">return</span> tmpId[tmpId.length-1].replace(/[^0-9]/g,<span class="literal">''</span>)/1; 
			}	 
			} 
		}	 
		<span class="reserved">return</span> -1;	 
	} 
	, 
	<span class="comment">// batur </span>
	<span class="comment">// {{{ getTabTitle() </span>
	 <span class="comment">/** 
	 * return active tab title 
	 *<span class="attrib">@public</span> 
	*/</span>		 
	getTabTitle:<span class="reserved">function</span>() {					 
		<span class="reserved">return</span> (<span class="reserved">this</span>.tabTitles[<span class="reserved">this</span>.activeTabIndex]);		 
	} 
		 
	<span class="comment">// }}}		 </span>
} 


<span class="comment">/*[FILE_START:dhtmlSuite-dragDropTree.js] */</span>
<span class="comment">/************************************************************************************************************
*	Drag and drop folder tree
*
*	Created:					August, 23rd, 2006
*	
*	Demos of this class:		demo-drag-drop-folder-tree.html				
*			
* 	Update log:
*
************************************************************************************************************/</span>
	
var JSTreeObj;
var treeUlCounter = 0;
var nodeId = 1;
	
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Transforms an UL,LI list into a folder tree with drag and drop capabilities(See &lt;a target="_blank" href="../../demos/demo-drag-drop-folder-tree.html"&gt;demo&lt;/A&gt;).
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* 
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>


DHTMLSuite.JSDragDropTree = <span class="reserved">function</span>()
{
	var idOfTree;
	var folderImage;
	var plusImage;
	var minusImage;
	var maximumDepth;
	var dragNode_source;
	var dragNode_parent;
	var dragNode_sourceNextSib;
	var dragNode_noSiblings;
	
	var dragNode_destination;
	var floatingContainer;
	var dragDropTimer;
	var dropTargetIndicator;
	var insertAsSub;
	var indicator_offsetX;
	var indicator_offsetX_sub;
	var indicator_offsetY;
	var messageMaximumDepthReached;
	var ajaxObjects;
	var layoutCSS;
	var cookieName;
	
	<span class="comment">/* Initial variable values */</span>
	<span class="reserved">this</span>.folderImage = <span class="literal">'DHTMLSuite_folder.gif'</span>;
	<span class="reserved">this</span>.plusImage = <span class="literal">'DHTMLSuite_plus.gif'</span>;
	<span class="reserved">this</span>.minusImage = <span class="literal">'DHTMLSuite_minus.gif'</span>;
	<span class="reserved">this</span>.maximumDepth = 6;		
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'drag-drop-folder-tree.css'</span>;
	
	<span class="reserved">this</span>.floatingContainer = document.createElement(<span class="literal">'UL'</span>);
	<span class="reserved">this</span>.floatingContainer.style.position = <span class="literal">'absolute'</span>;
	<span class="reserved">this</span>.floatingContainer.style.display=<span class="literal">'none'</span>;
	<span class="reserved">this</span>.floatingContainer.id = <span class="literal">'floatingContainer'</span>;
	<span class="reserved">this</span>.insertAsSub = false;
	document.body.appendChild(<span class="reserved">this</span>.floatingContainer);
	<span class="reserved">this</span>.dragDropTimer = -1;
	<span class="reserved">this</span>.dragNode_noSiblings = false;
	<span class="reserved">this</span>.cookieName = <span class="literal">'DHTMLSuite_expandedNodes'</span>;
	
	<span class="reserved">if</span>(document.all){
		<span class="reserved">this</span>.indicator_offsetX = 1;	<span class="comment">// Offset position of small black lines indicating where nodes would be dropped.</span>
		<span class="reserved">this</span>.indicator_offsetX_sub = 1;
		<span class="reserved">this</span>.indicator_offsetY = 13;
	}<span class="reserved">else</span>{
		<span class="reserved">this</span>.indicator_offsetX = 1;	<span class="comment">// Offset position of small black lines indicating where nodes would be dropped.</span>
		<span class="reserved">this</span>.indicator_offsetX_sub = 3;
		<span class="reserved">this</span>.indicator_offsetY = 5;			
	}
	<span class="reserved">if</span>(navigator.userAgent.indexOf(<span class="literal">'Opera'</span>)&gt;=0){
		<span class="reserved">this</span>.indicator_offsetX = 2;	<span class="comment">// Offset position of small black lines indicating where nodes would be dropped.</span>
		<span class="reserved">this</span>.indicator_offsetX_sub = 3;
		<span class="reserved">this</span>.indicator_offsetY = -7;				
	}

	<span class="reserved">this</span>.messageMaximumDepthReached = <span class="literal">''</span>; <span class="comment">// Use '' if you don't want to display a message </span>
	<span class="reserved">this</span>.ajaxObjects = new Array();
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods  </span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	var objectIndex;
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;

}


<span class="comment">/* DHTMLSuite.JSDragDropTree class */</span>
DHTMLSuite.JSDragDropTree.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * Initializes the script
     *
     * <span class="attrib">@public</span>
     */</span>	    	
	init : <span class="reserved">function</span>()
	{		
		var ind = <span class="reserved">this</span>.objectIndex;		
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		JSTreeObj = <span class="reserved">this</span>;
		<span class="reserved">this</span>.__createDropIndicator();		
		<span class="reserved">if</span>(!document.documentElement.onselectstart)document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };		
		document.documentElement.ondragstart = document.documentElement.ondragstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
		DHTMLSuite.commonObj.__addEventEl(document.documentElement);
		var nodeId = 0;
		var DHTMLSuite_tree = document.getElementById(<span class="reserved">this</span>.idOfTree);
		var menuItems = DHTMLSuite_tree.getElementsByTagName(<span class="literal">'LI'</span>);	<span class="comment">// Get an array of all menu items</span>
		<span class="reserved">for</span>(var no=0;no&lt;menuItems.length;no++){
			<span class="comment">// No children var set ?</span>
			var noChildren = false;
			var tmpVar = menuItems[no].getAttribute(<span class="literal">'noChildren'</span>);
			<span class="reserved">if</span>(!tmpVar)tmpVar = menuItems[no].noChildren;
			<span class="reserved">if</span>(tmpVar==<span class="literal">'true'</span>)noChildren=true;
			<span class="comment">// No drag var set ?</span>
			var noDrag = false;
			var tmpVar = menuItems[no].getAttribute(<span class="literal">'noDrag'</span>);
			<span class="reserved">if</span>(!tmpVar)tmpVar = menuItems[no].noDrag;
			<span class="reserved">if</span>(tmpVar==<span class="literal">'true'</span>)noDrag=true;					 
			nodeId++;
			var subItems = menuItems[no].getElementsByTagName(<span class="literal">'UL'</span>);
			var img = document.createElement(<span class="literal">'IMG'</span>);
			img.src = DHTMLSuite.configObj.imagePath + <span class="literal">'drag-drop-tree/'</span> + <span class="reserved">this</span>.plusImage;
			img.onclick = <span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].showHideNode(e); };
			DHTMLSuite.commonObj.__addEventEl(img);
			<span class="reserved">if</span>(subItems.length==0)img.style.visibility=<span class="literal">'hidden'</span>;<span class="reserved">else</span>{
				subItems[0].id = <span class="literal">'tree_ul_'</span> + treeUlCounter;
				treeUlCounter++;
			}
			var aTag = menuItems[no].getElementsByTagName(<span class="literal">'A'</span>)[0];

			<span class="reserved">if</span>(!noDrag)aTag.onmousedown = <span class="reserved">this</span>.__initializeDragProcess;
			<span class="reserved">if</span>(!noChildren){
				aTag.onmousemove = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveDragableNodes(e,<span class="literal">'text'</span>); }
				DHTMLSuite.commonObj.__addEventEl(aTag);
				
			}
			DHTMLSuite.commonObj.__addEventEl(aTag);
			menuItems[no].insertBefore(img,aTag);
			var folderImg = document.createElement(<span class="literal">'IMG'</span>);
			<span class="reserved">if</span>(!noDrag)folderImg.onmousedown = <span class="reserved">this</span>.__initializeDragProcess;
			<span class="reserved">if</span>(!noChildren){
				folderImg.onmousemove = <span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveDragableNodes(e,<span class="literal">'folder'</span>); };
				DHTMLSuite.commonObj.__addEventEl(folderImg);
			}
			<span class="reserved">if</span>(menuItems[no].className){
				folderImg.src = DHTMLSuite.configObj.imagePath + <span class="literal">'drag-drop-tree/'</span> + menuItems[no].className;
			}<span class="reserved">else</span>{
				folderImg.src = DHTMLSuite.configObj.imagePath + <span class="literal">'drag-drop-tree/'</span> + <span class="reserved">this</span>.folderImage;
			}
			DHTMLSuite.commonObj.__addEventEl(folderImg);
			menuItems[no].insertBefore(folderImg,aTag);
		}	
		initExpandedNodes = DHTMLSuite.commonObj.getCookie(<span class="reserved">this</span>.cookieName);
		<span class="reserved">if</span>(initExpandedNodes){
			var nodes = initExpandedNodes.split(<span class="literal">','</span>);
			<span class="reserved">for</span>(var no=0;no&lt;nodes.length;no++){
				<span class="reserved">if</span>(nodes[no])<span class="reserved">this</span>.showHideNode(false,nodes[no]);	
			}			
		}		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"mousemove"</span>,DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex].__moveDragableNodes);
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"mouseup"</span>,DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex].__dropDragableNodes);

	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCookieName()</span>
    <span class="comment">/**
     * set new CSS file
     *
     * <span class="attrib">@param</span> String cookieName - Name of cookie (storing expanded nodes ) default value : DHTMLSuite_expandedNodes
     *
     * <span class="attrib">@public</span>
     */</span>		
	setCookieName : <span class="reserved">function</span>(cookieName)
	{
		<span class="reserved">this</span>.cookieName = cookieName;
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     * set new CSS file
     *
     * <span class="attrib">@param</span> String cssFileName - name of new css file(example: drag-drop.css). Has to be set before init is called. 
     *
     * <span class="attrib">@public</span>
     */</span>	
	setLayoutCss : <span class="reserved">function</span>(cssFileName)
	{
		<span class="reserved">this</span>.layoutCSS = cssFileName;	
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setFolderImage()</span>
    <span class="comment">/**
     * set new folder image file
     *
     * <span class="attrib">@param</span> String newFolderImage - name of folder image(example: folder.gif). Has to be set before init is called. 
     *
     * <span class="attrib">@public</span>
     */</span>		
	setFolderImage : <span class="reserved">function</span>(newFolderImage)
	{
		<span class="reserved">this</span>.folderImage = newFolderImage;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setPlusImage()</span>
    <span class="comment">/**
     * set new CSS file
     *
     * <span class="attrib">@param</span> String newPlusImage - name of new [+] image(example: plus.gif). Has to be set before init is called. 
     *
     * <span class="attrib">@public</span>
     */</span>		
	setPlusImage : <span class="reserved">function</span>(newPlusImage)
	{
		<span class="reserved">this</span>.plusImage = newPlusImage;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setMinusImage()</span>
    <span class="comment">/**
     * set new plus imagee
     *
     * <span class="attrib">@param</span> String newMinusImage - name of new [-] image(example: minus.gif). Has to be set before init is called. 
     *
     * <span class="attrib">@public</span>
     */</span>		
	setMinusImage : <span class="reserved">function</span>(newMinusImage)
	{
		<span class="reserved">this</span>.minusImage = newMinusImage;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setMaximumDepth()</span>
    <span class="comment">/**
     * set maximum depth of tree. 
     *
     * <span class="attrib">@param</span> Int maxDepth - new maximum depth of tree. 
     *
     * <span class="attrib">@public</span>
     */</span>		
	setMaximumDepth : <span class="reserved">function</span>(maxDepth)
	{
		<span class="reserved">this</span>.maximumDepth = maxDepth;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMessageMaximumDepthReached()</span>
    <span class="comment">/**
     * Set maximum depth reached error message
     *
     * <span class="attrib">@param</span> String newMessage - Specify message to show when max depth is reached, i.e. error message
     *
     * <span class="attrib">@public</span>
     */</span>		
	setMessageMaximumDepthReached : <span class="reserved">function</span>(newMessage)
	{
		<span class="reserved">this</span>.messageMaximumDepthReached = newMessage;
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ setTreeId()</span>
    <span class="comment">/**
     * set ID of tree root element
     *
     * <span class="attrib">@param</span> String idOfTree - Id of UL tag which is root element of the tree. 
     *
     * <span class="attrib">@public</span>
     */</span>			
	setTreeId : <span class="reserved">function</span>(idOfTree)
	{
		<span class="reserved">this</span>.idOfTree = idOfTree;			
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ expandAll()</span>
    <span class="comment">/**
     * Expand all tree nodes
     *
     *
     * <span class="attrib">@public</span>
     */</span>		
	expandAll : <span class="reserved">function</span>()
	{
		var menuItems = document.getElementById(<span class="reserved">this</span>.idOfTree).getElementsByTagName(<span class="literal">'LI'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;menuItems.length;no++){
			var subItems = menuItems[no].getElementsByTagName(<span class="literal">'UL'</span>);
			<span class="reserved">if</span>(subItems.length&gt;0 &amp;&amp; subItems[0].style.display!=<span class="literal">'block'</span>){
				<span class="reserved">this</span>.showHideNode(false,menuItems[no].id);
			}			
		}
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ collapseAll()</span>
    <span class="comment">/**
     * Collapse all tree nodes
     *
     *
     * <span class="attrib">@public</span>
     */</span>		
	collapseAll : <span class="reserved">function</span>()
	{
		var menuItems = document.getElementById(<span class="reserved">this</span>.idOfTree).getElementsByTagName(<span class="literal">'LI'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;menuItems.length;no++){
			var subItems = menuItems[no].getElementsByTagName(<span class="literal">'UL'</span>);
			<span class="reserved">if</span>(subItems.length&gt;0 &amp;&amp; subItems[0].style.display==<span class="literal">'block'</span>){
				<span class="reserved">this</span>.showHideNode(false,menuItems[no].id);
			}			
		}		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ showHideNode()</span>
    <span class="comment">/**
     * Expand a specific node
     *
     * <span class="attrib">@param</span> boolean e - If you call this method manually, set this argument to false(It's not used)
     * <span class="attrib">@param</span> string inputId - Id of node to expand/collapse
     *
     * <span class="attrib">@public</span>
     */</span>	
	showHideNode : <span class="reserved">function</span>(e,inputId)
	{
		<span class="reserved">if</span>(inputId){
			<span class="reserved">if</span>(!document.getElementById(inputId))<span class="reserved">return</span>;
			thisNode = document.getElementById(inputId).getElementsByTagName(<span class="literal">'IMG'</span>)[0]; 
		}<span class="reserved">else</span> {
			<span class="reserved">if</span>(document.all)e = event;	
			var srcEl = DHTMLSuite.commonObj.getSrcElement(e);
			thisNode = srcEl;
			<span class="reserved">if</span>(srcEl.tagName==<span class="literal">'A'</span>)thisNode = srcEl.parentNode.getElementsByTagName(<span class="literal">'IMG'</span>)[0];			
		}
		<span class="reserved">if</span>(thisNode.style.visibility==<span class="literal">'hidden'</span>)<span class="reserved">return</span>;		
		var parentNode = thisNode.parentNode;
		inputId = parentNode.id.replace(/[^0-9]/g,<span class="literal">''</span>);
		<span class="reserved">if</span>(thisNode.src.indexOf(<span class="reserved">this</span>.plusImage)&gt;=0){
			thisNode.src = thisNode.src.replace(<span class="reserved">this</span>.plusImage,<span class="reserved">this</span>.minusImage);
			var ul = parentNode.getElementsByTagName(<span class="literal">'UL'</span>)[0];
			ul.style.display=<span class="literal">'block'</span>;
			<span class="reserved">if</span>(!initExpandedNodes)initExpandedNodes = <span class="literal">','</span>;
			<span class="reserved">if</span>(initExpandedNodes.indexOf(<span class="literal">','</span> + inputId + <span class="literal">','</span>)&lt;0) initExpandedNodes = initExpandedNodes + inputId + <span class="literal">','</span>;
		}<span class="reserved">else</span>{
			thisNode.src = thisNode.src.replace(<span class="reserved">this</span>.minusImage,<span class="reserved">this</span>.plusImage);
			parentNode.getElementsByTagName(<span class="literal">'UL'</span>)[0].style.display=<span class="literal">'none'</span>;
			initExpandedNodes = initExpandedNodes.replace(<span class="literal">','</span> + inputId,<span class="literal">''</span>);
		}	
		DHTMLSuite.commonObj.setCookie(<span class="reserved">this</span>.cookieName,initExpandedNodes,500);			
		<span class="reserved">return</span> false;						
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ getSaveString()</span>
    <span class="comment">/**
     * Return save string 
     * 
     * <span class="attrib">@param</span> Object initObj - Only for private use inside the method
     * <span class="attrib">@param</span> String saveString - Only for private use inside the method - you should call this method without arguments.
     *
     * <span class="attrib">@return</span> String saveString - A string with the format id-parentId,id-parentId,id-parentId
     * <span class="attrib">@type</span> String
     * <span class="attrib">@public</span>
     */</span>		
	getSaveString : <span class="reserved">function</span>(initObj,saveString)
	{		
		<span class="reserved">if</span>(!saveString)var saveString = <span class="literal">''</span>;
		<span class="reserved">if</span>(!initObj){
			initObj = document.getElementById(<span class="reserved">this</span>.idOfTree);

		}
		var lis = initObj.getElementsByTagName(<span class="literal">'LI'</span>);

		<span class="reserved">if</span>(lis.length&gt;0){
			var li = lis[0];
			<span class="reserved">while</span>(li){
				<span class="reserved">if</span>(li.id){
					<span class="reserved">if</span>(saveString.length&gt;0)saveString = saveString + <span class="literal">','</span>;
					saveString = saveString + li.id.replace(/[^0-9]/gi,<span class="literal">''</span>);
					saveString = saveString + <span class="literal">'-'</span>;
					<span class="reserved">if</span>(li.parentNode.id!=<span class="reserved">this</span>.idOfTree)saveString = saveString + li.parentNode.parentNode.id.replace(/[^0-9]/gi,<span class="literal">''</span>); <span class="reserved">else</span> saveString = saveString + <span class="literal">'0'</span>;
					
					var ul = li.getElementsByTagName(<span class="literal">'UL'</span>);
					<span class="reserved">if</span>(ul.length&gt;0){
						saveString = <span class="reserved">this</span>.getSaveString(ul[0],saveString);	
					}	
				}			
				li = li.nextSibling;
			}
		}		
		<span class="reserved">if</span>(initObj.id == <span class="reserved">this</span>.idOfTree){
			<span class="reserved">return</span> saveString;						
		}
		<span class="reserved">return</span> saveString;
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __initializeDragProcess()</span>
    <span class="comment">/**
     * Init a drag process
     *
     * <span class="attrib">@param</span> event e = Event object
     * <span class="attrib">@private</span>
     */</span>		
	__initializeDragProcess : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;	
		
		var subs = JSTreeObj.floatingContainer.getElementsByTagName(<span class="literal">'LI'</span>);
		<span class="reserved">if</span>(subs.length&gt;0){
			<span class="reserved">if</span>(JSTreeObj.dragNode_sourceNextSib){
				JSTreeObj.dragNode_parent.insertBefore(JSTreeObj.dragNode_source,JSTreeObj.dragNode_sourceNextSib);
			}<span class="reserved">else</span>{
				JSTreeObj.dragNode_parent.appendChild(JSTreeObj.dragNode_source);
			}					
		}
		
		JSTreeObj.dragNode_source = <span class="reserved">this</span>.parentNode;
		JSTreeObj.dragNode_parent = <span class="reserved">this</span>.parentNode.parentNode;
		JSTreeObj.dragNode_sourceNextSib = false;

		
		<span class="reserved">if</span>(JSTreeObj.dragNode_source.nextSibling)JSTreeObj.dragNode_sourceNextSib = JSTreeObj.dragNode_source.nextSibling;
		JSTreeObj.dragNode_destination = false;
		JSTreeObj.dragDropTimer = 0;
		DHTMLSuite.commonObj.__setTextSelOk(false);
		JSTreeObj.__waitBeforeDragProcessStarts();
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __waitBeforeDragProcessStarts()</span>
    <span class="comment">/**
     * A small delay before drag is started
     *
     * <span class="attrib">@private</span>
     */</span>		
	__waitBeforeDragProcessStarts : <span class="reserved">function</span>()
	{	
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTimer&gt;=0 &amp;&amp; <span class="reserved">this</span>.dragDropTimer&lt;10){
			<span class="reserved">this</span>.dragDropTimer = <span class="reserved">this</span>.dragDropTimer + 1;
			setTimeout(<span class="literal">'JSTreeObj.__waitBeforeDragProcessStarts()'</span>,20);
			<span class="reserved">return</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragDropTimer==10)
		{
			JSTreeObj.floatingContainer.style.display=<span class="literal">'block'</span>;
			JSTreeObj.floatingContainer.appendChild(JSTreeObj.dragNode_source);	
		}
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __moveDragableNodes()</span>
    <span class="comment">/**
     * Move dragable nodes
     * <span class="attrib">@param</span> event e - Event object
     *
     * <span class="attrib">@private</span>
     */</span>		
	__moveDragableNodes : <span class="reserved">function</span>(e,tagType)
	{
		<span class="reserved">if</span>(JSTreeObj.dragDropTimer&lt;10)<span class="reserved">return</span>;
		<span class="reserved">if</span>(document.all)e = event;
		dragDrop_x = e.clientX/1 + 5 + document.body.scrollLeft;
		dragDrop_y = e.clientY/1 + 5 + document.documentElement.scrollTop;	
				
		JSTreeObj.floatingContainer.style.left = dragDrop_x + <span class="literal">'px'</span>;
		JSTreeObj.floatingContainer.style.top = dragDrop_y + <span class="literal">'px'</span>;
		
		var thisObj = DHTMLSuite.commonObj.getSrcElement(e);
		var thisObjOrig = DHTMLSuite.commonObj.getSrcElement(e);
		<span class="reserved">if</span>(thisObj.tagName==<span class="literal">'A'</span> || thisObj.tagName==<span class="literal">'IMG'</span>)thisObj = thisObj.parentNode;

		JSTreeObj.dragNode_noSiblings = false;
		var tmpVar = thisObj.getAttribute(<span class="literal">'noSiblings'</span>);
		<span class="reserved">if</span>(!tmpVar)tmpVar = thisObj.noSiblings;
		<span class="reserved">if</span>(tmpVar==<span class="literal">'true'</span>)JSTreeObj.dragNode_noSiblings=true;
				
		<span class="reserved">if</span>(thisObj &amp;&amp; tagType)
		{
			JSTreeObj.dragNode_destination = thisObj;
			var img = thisObj.getElementsByTagName(<span class="literal">'IMG'</span>)[1];
			var tmpObj= JSTreeObj.dropTargetIndicator;
			tmpObj.style.display=<span class="literal">'block'</span>;
			
			var eventSourceObj = thisObjOrig;
			<span class="reserved">if</span>(JSTreeObj.dragNode_noSiblings &amp;&amp; eventSourceObj.tagName==<span class="literal">'IMG'</span>)eventSourceObj = eventSourceObj.nextSibling;
			
			var tmpImg = tmpObj.getElementsByTagName(<span class="literal">'IMG'</span>)[0];
			<span class="reserved">if</span>(thisObjOrig.tagName==<span class="literal">'A'</span> || JSTreeObj.dragNode_noSiblings){
				tmpImg.src = tmpImg.src.replace(<span class="literal">'ind1'</span>,<span class="literal">'ind2'</span>);	
				JSTreeObj.insertAsSub = true;
				tmpObj.style.left = (DHTMLSuite.commonObj.getLeftPos(eventSourceObj) + JSTreeObj.indicator_offsetX_sub) + <span class="literal">'px'</span>;
			}<span class="reserved">else</span>{
				
				tmpImg.src = tmpImg.src.replace(<span class="literal">'ind2'</span>,<span class="literal">'ind1'</span>);
				JSTreeObj.insertAsSub = false;
				tmpObj.style.left = (DHTMLSuite.commonObj.getLeftPos(eventSourceObj) + JSTreeObj.indicator_offsetX) + <span class="literal">'px'</span>;
			}
			
			
			tmpObj.style.top = (DHTMLSuite.commonObj.getTopPos(thisObj) + JSTreeObj.indicator_offsetY) + <span class="literal">'px'</span>;
		}
		
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __dropDragableNodes()</span>
    <span class="comment">/**
     * Drag process ended - drop nodes
     *
     * <span class="attrib">@private</span>
     */</span>		
	__dropDragableNodes:<span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(JSTreeObj.dragDropTimer&lt;10){				
			JSTreeObj.dragDropTimer = -1;
			DHTMLSuite.commonObj.__setTextSelOk(true);
			<span class="reserved">return</span>;
		}
		var showMessage = false;
		<span class="reserved">if</span>(JSTreeObj.dragNode_destination){	<span class="comment">// Check depth</span>
			var countUp = JSTreeObj.__getDepthOfABranchInTheTree(JSTreeObj.dragNode_destination,<span class="literal">'up'</span>);
			var countDown = JSTreeObj.__getDepthOfABranchInTheTree(JSTreeObj.dragNode_source,<span class="literal">'down'</span>);
			var countLevels = countUp/1 + countDown/1 + (JSTreeObj.insertAsSub?1:0);		
			
			<span class="reserved">if</span>(countLevels&gt;JSTreeObj.maximumDepth){
				JSTreeObj.dragNode_destination = false;
				showMessage = true; 	<span class="comment">// Used later down in this function</span>
			}
		}
		
		
		<span class="reserved">if</span>(JSTreeObj.dragNode_destination){			
			<span class="reserved">if</span>(JSTreeObj.insertAsSub){
				var uls = JSTreeObj.dragNode_destination.getElementsByTagName(<span class="literal">'UL'</span>);
				<span class="reserved">if</span>(uls.length&gt;0){
					ul = uls[0];
					ul.style.display=<span class="literal">'block'</span>;
					
					var lis = ul.getElementsByTagName(<span class="literal">'LI'</span>);

					<span class="reserved">if</span>(lis.length&gt;0){	<span class="comment">// Sub elements exists - drop dragable node before the first one</span>
						ul.insertBefore(JSTreeObj.dragNode_source,lis[0]);	
					}<span class="reserved">else</span> {	<span class="comment">// No sub exists - use the appendChild method - This line should not be executed unless there's something wrong in the HTML, i.e empty &lt;ul&gt;</span>
						ul.appendChild(JSTreeObj.dragNode_source);	
					}
				}<span class="reserved">else</span>{
					var ul = document.createElement(<span class="literal">'UL'</span>);
					ul.style.display=<span class="literal">'block'</span>;
					JSTreeObj.dragNode_destination.appendChild(ul);
					ul.appendChild(JSTreeObj.dragNode_source);
				}
				var img = JSTreeObj.dragNode_destination.getElementsByTagName(<span class="literal">'IMG'</span>)[0];					
				img.style.visibility=<span class="literal">'visible'</span>;
				img.src = img.src.replace(JSTreeObj.plusImage,JSTreeObj.minusImage);					
				
				
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(JSTreeObj.dragNode_destination.nextSibling){
					var nextSib = JSTreeObj.dragNode_destination.nextSibling;
					nextSib.parentNode.insertBefore(JSTreeObj.dragNode_source,nextSib);
				}<span class="reserved">else</span>{
					JSTreeObj.dragNode_destination.parentNode.appendChild(JSTreeObj.dragNode_source);
				}
			}	
			<span class="comment">/* Clear parent object */</span>
			var tmpObj = JSTreeObj.dragNode_parent;
			var lis = tmpObj.getElementsByTagName(<span class="literal">'LI'</span>);
			<span class="reserved">if</span>(lis.length==0){
				var img = tmpObj.parentNode.getElementsByTagName(<span class="literal">'IMG'</span>)[0];
				img.style.visibility=<span class="literal">'hidden'</span>;	<span class="comment">// Hide [+],[-] icon</span>
				DHTMLSuite.discardElement(tmpObj);		
			}			
		}<span class="reserved">else</span>{
			<span class="comment">// Putting the item back to it's original location</span>
			
			<span class="reserved">if</span>(JSTreeObj.dragNode_sourceNextSib){
				JSTreeObj.dragNode_parent.insertBefore(JSTreeObj.dragNode_source,JSTreeObj.dragNode_sourceNextSib);
			}<span class="reserved">else</span>{
				JSTreeObj.dragNode_parent.appendChild(JSTreeObj.dragNode_source);
			}			
				
		}
		JSTreeObj.dropTargetIndicator.style.display=<span class="literal">'none'</span>;		
		JSTreeObj.dragDropTimer = -1;	
		DHTMLSuite.commonObj.__setTextSelOk(true);
		<span class="reserved">if</span>(showMessage &amp;&amp; JSTreeObj.messageMaximumDepthReached)alert(JSTreeObj.messageMaximumDepthReached);
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __createDropIndicator()</span>
    <span class="comment">/**
     * Create small black lines indicating where items will be dropped
     *
     * <span class="attrib">@private</span>
     */</span>		
	__createDropIndicator : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.dropTargetIndicator = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.dropTargetIndicator.style.zIndex = 240000;
		<span class="reserved">this</span>.dropTargetIndicator.style.position = <span class="literal">'absolute'</span>;
		<span class="reserved">this</span>.dropTargetIndicator.style.display=<span class="literal">'none'</span>;			
		var img = document.createElement(<span class="literal">'IMG'</span>);
		img.src = DHTMLSuite.configObj.imagePath + <span class="literal">'drag-drop-tree/'</span> + <span class="literal">'dragDrop_ind1.gif'</span>;
		img.id = <span class="literal">'dragDropIndicatorImage'</span>;
		<span class="reserved">this</span>.dropTargetIndicator.appendChild(img);
		document.body.appendChild(<span class="reserved">this</span>.dropTargetIndicator);		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __getDepthOfABranchInTheTree()</span>
    <span class="comment">/**
     * Count depth of a branch
     *
     * <span class="attrib">@private</span>
     */</span>		
	__getDepthOfABranchInTheTree : <span class="reserved">function</span>(obj,direction,stopAtObject){
		var countLevels = 0;
		<span class="reserved">if</span>(direction==<span class="literal">'up'</span>){
			<span class="reserved">while</span>(obj.parentNode &amp;&amp; obj.parentNode!=stopAtObject){
				obj = obj.parentNode;
				<span class="reserved">if</span>(obj.tagName==<span class="literal">'UL'</span>)countLevels = countLevels/1 +1;
			}		
			<span class="reserved">return</span> countLevels;
		}	
		
		<span class="reserved">if</span>(direction==<span class="literal">'down'</span>){ 
			var subObjects = obj.getElementsByTagName(<span class="literal">'LI'</span>);
			<span class="reserved">for</span>(var no=0;no&lt;subObjects.length;no++){
				countLevels = Math.max(countLevels,JSTreeObj.__getDepthOfABranchInTheTree(subObjects[no],<span class="literal">"up"</span>,obj));
			}
			<span class="reserved">return</span> countLevels;
		}	
	}	
}
	
<span class="comment">/*[FILE_START:dhtmlSuite-ajaxUtil.js] */</span>	
<span class="comment">/************************************************************************************************************
*	Ajax dynamic content script
*
*	Created:					August, 23rd, 2006
*
*			
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> The purpose of this class is to load content of external files into HTML elements on your page(&lt;a href="../../demos/demo-dynamic-content-1.html" target="_blank"&gt;demo&lt;/a&gt;).
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* 
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.ajaxUtil = <span class="reserved">function</span>()
{
	var ajaxObjects;
	<span class="reserved">this</span>.ajaxObjects = new Array();	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	var objectIndex;	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
		
}

DHTMLSuite.ajaxUtil.<span class="reserved">prototype</span> = {	
	<span class="comment">// {{{ sendRequest()</span>
    <span class="comment">/**
     * Sends an ajax request to the server
     *
     * <span class="attrib">@param</span> String url = Path on the server
     * <span class="attrib">@param</span> String paramString - Parameters,  Example: "varA=2&amp;varB=3";
     * <span class="attrib">@param</span> String functionNameOnComplete = Function to execute on complete, example: "myFunction". The ajax object will be sent to this function and you can get the response from the "reponse" attribute.
     *					NB! This ajax object will be cleared automatically by the script after a 3 second delay.
     * 
     * <span class="attrib">@public</span>
     */</span>		
	sendRequest : <span class="reserved">function</span>(url,paramString,functionNameOnComplete)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var ajaxIndex = <span class="reserved">this</span>.ajaxObjects.length;
		try{
			<span class="reserved">this</span>.ajaxObjects[ajaxIndex] = new sack();
		}catch(e){
			alert(<span class="literal">'Could not create ajax object. Please make sure that ajax.js is included'</span>);
		}
		<span class="reserved">if</span>(paramString){			
			var params = <span class="reserved">this</span>.__getArrayByParamString(paramString);	
			<span class="reserved">for</span>(var no=0;no&lt;params.length;no++){
				<span class="reserved">this</span>.ajaxObjects[ajaxIndex].setVar(params[no].key,params[no].value);				
			}		
		}
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].requestFile = url;	<span class="comment">// Specifying which file to get</span>
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].onCompletion = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__onComplete(ajaxIndex,functionNameOnComplete); };	<span class="comment">// Specify function that will be executed after file has been found</span>
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].onError = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__onError(ajaxIndex,url); };	<span class="comment">// Specify function that will be executed after file has been found</span>
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].runAJAX();		<span class="comment">// Execute AJAX function	</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getArrayByParamString()</span>
    <span class="comment">/**
     * Sends an ajax request to the server
     *
     * <span class="attrib">@param</span> String paramString - Parameters,  Example: "varA=2&amp;varB=3";
     * <span class="attrib">@return</span> Array of key+value
     * 
     * <span class="attrib">@private</span>
     */</span>		
	__getArrayByParamString : <span class="reserved">function</span>(paramString)
	{
		var retArray = new Array();
		var items = paramString.split(/&amp;/g);
		<span class="reserved">for</span>(var no=0;no&lt;items.length;no++){
			var tokens = items[no].split(/=/);
			var index = retArray.length;
			retArray[index] = { key:tokens[0],value:tokens[1] }
		}
		<span class="reserved">return</span> retArray;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __onError()</span>
    <span class="comment">/**
     * On error event
     *
     * <span class="attrib">@param</span> Integer ajaxIndex - Index of ajax object
     * <span class="attrib">@return</span> String url - failing url
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__onError : <span class="reserved">function</span>(ajaxIndex,url)
	{
		alert(<span class="literal">'Could not send Ajax request to '</span> + url);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __onComplete()</span>
    <span class="comment">/**
     * On complete event
     *
     * <span class="attrib">@param</span> Integer ajaxIndex - Index of ajax object
     * <span class="attrib">@return</span> String functionNameOnComplete - function to execute
     * 
     * <span class="attrib">@private</span>
     */</span>	
	__onComplete : <span class="reserved">function</span>(ajaxIndex,functionNameOnComplete)
	{
		var ind = <span class="reserved">this</span>.objectIndex;	
		<span class="reserved">if</span>(functionNameOnComplete){			
			eval(functionNameOnComplete+<span class="literal">'(DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].ajaxObjects['</span> + ajaxIndex + <span class="literal">'])'</span>);
		}	
		
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__deleteAjaxObject('</span> + ajaxIndex + <span class="literal">')'</span>,3000);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteAjaxObject()</span>
    <span class="comment">/**
     * Remove ajax object from memory
     *
     * <span class="attrib">@param</span> Integer ajaxIndex - Index of ajax object
     * 
     * <span class="attrib">@private</span>
     */</span>
	__deleteAjaxObject : <span class="reserved">function</span>(ajaxIndex)
	{
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex] = false;	
	}
}
	<span class="comment">// Creating global variable of this class</span>
DHTMLSuite.ajax = new DHTMLSuite.ajaxUtil();

<span class="comment">/*[FILE_START:dhtmlSuite-dynamicContent.js] */</span>	
<span class="comment">/************************************************************************************************************
*	Ajax dynamic content script
*
*	Created:					August, 23rd, 2006
*
*			
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> The purpose of this class is to load content of external files into HTML elements on your page(&lt;a href="../../demos/demo-dynamic-content-1.html" target="_blank"&gt;demo&lt;/a&gt;).&lt;br&gt;
*		 The pane splitter, window widget and the ajax tooltip script are also using this class to put external content into HTML elements.
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* 
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.dynamicContent = <span class="reserved">function</span>()
{
	var enableCache;	<span class="comment">// Cache enabled.</span>
	var jsCache;
	var ajaxObjects;
	var waitMessage;
	
	<span class="reserved">this</span>.enableCache = true;
	<span class="reserved">this</span>.jsCache = new Object();
	<span class="reserved">this</span>.ajaxObjects = new Array();
	<span class="reserved">this</span>.waitMessage = <span class="literal">'Loading content - please wait...'</span>;
	<span class="reserved">this</span>.waitImage = <span class="literal">'dynamic-content/ajax-loader-darkblue.gif'</span>;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	var objectIndex;
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
		
}

DHTMLSuite.dynamicContent.<span class="reserved">prototype</span> = {

	<span class="comment">// {{{ loadContent()</span>
    <span class="comment">/**
     * Load content from external files into an element on your web page.
     *
     * <span class="attrib">@param</span> String divId = Id of HTML element
     * <span class="attrib">@param</span> String url = Path to content on the server(Local content only)
     * <span class="attrib">@param</span> String functionToCallOnLoaded = Function to call when ajax is finished. This string will be evaulated, example of string: "fixContent()" (with the quotes).
     * 
     * <span class="attrib">@public</span>
     */</span>	
	loadContent : <span class="reserved">function</span>(divId,url,functionToCallOnLoaded)
	{
		
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(<span class="reserved">this</span>.enableCache &amp;&amp; <span class="reserved">this</span>.jsCache[url]){
			document.getElementById(divId).innerHTML = <span class="reserved">this</span>.jsCache[url];
			DHTMLSuite.commonObj.__evaluateJs(divId);
			DHTMLSuite.commonObj.__evaluateCss(divId);	
			<span class="reserved">if</span>(functionToCallOnLoaded)eval(functionToCallOnLoaded);	
			<span class="reserved">return</span>;
		}
		var ajaxIndex = 0;
		
		<span class="comment">/* Generating please wait message */</span>
		var waitMessageToShow = <span class="literal">''</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.waitImage){	<span class="comment">// Wait image exists ?</span>
			waitMessageToShow = waitMessageToShow + <span class="literal">'&lt;div style="text-align:center;padding:10px"&gt;&lt;img src="'</span> + DHTMLSuite.configObj.imagePath + <span class="reserved">this</span>.waitImage + <span class="literal">'" border="0" alt=""&gt;&lt;/div&gt;'</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.waitMessage){	<span class="comment">// Wait message exists ?</span>
			waitMessageToShow = waitMessageToShow + <span class="literal">'&lt;div style="text-align:center"&gt;'</span> + <span class="reserved">this</span>.waitMessage + <span class="literal">'&lt;/div&gt;'</span>;
		}	
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.waitMessage!=null &amp;&amp; <span class="reserved">this</span>.waitImage!=null){	
			try{
				<span class="reserved">if</span>(waitMessageToShow.length&gt;0)document.getElementById(divId).innerHTML=waitMessageToShow; 
			}catch(e){			
			}		
		}
		waitMessageToShow = false;
		var ajaxIndex = <span class="reserved">this</span>.ajaxObjects.length;		
		
		try{
			<span class="reserved">this</span>.ajaxObjects[ajaxIndex] = new sack();
		}catch(e){
			alert(<span class="literal">'Could not create ajax object. Please make sure that ajax.js is included'</span>);
		}
	
		
		
		<span class="reserved">if</span>(url.indexOf(<span class="literal">'?'</span>)&gt;=0){	<span class="comment">// Get variables in the url</span>
			<span class="reserved">this</span>.ajaxObjects[ajaxIndex].method=<span class="literal">'GET'</span>;	<span class="comment">// Change method to get</span>
			var string = url.substring(url.indexOf(<span class="literal">'?'</span>));	<span class="comment">// Extract get variables</span>
			url = url.replace(string,<span class="literal">''</span>);
			string = string.replace(<span class="literal">'?'</span>,<span class="literal">''</span>);
			var items = string.split(/&amp;/g);
			<span class="reserved">for</span>(var no=0;no&lt;items.length;no++){
				var tokens = items[no].split(<span class="literal">'='</span>);
				<span class="reserved">if</span>(tokens.length==2){
					<span class="reserved">this</span>.ajaxObjects[ajaxIndex].setVar(tokens[0],tokens[1]);
				}	
			}	
			url = url.replace(string,<span class="literal">''</span>);
		}	

		
		
			
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].requestFile = url;	<span class="comment">// Specifying which file to get</span>
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].onCompletion = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__ajax_showContent(divId,ajaxIndex,url,functionToCallOnLoaded); };	<span class="comment">// Specify function that will be executed after file has been found</span>
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].onError = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__ajax_displayError(divId,ajaxIndex,url,functionToCallOnLoaded); };	<span class="comment">// Specify function that will be executed after file has been found</span>
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex].runAJAX();		<span class="comment">// Execute AJAX function	</span>
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ setWaitMessage()</span>
    <span class="comment">/**
     * Specify which message to show when Ajax is busy.
     *
     * <span class="attrib">@param</span> String newWaitMessage = New wait message (Default = "Loading content - please wait") - use false if you don't want any wait message
     * 
     * <span class="attrib">@public</span>
     */</span>		
	setWaitMessage : <span class="reserved">function</span>(newWaitMessage)
	{
		<span class="reserved">this</span>.waitMessage = newWaitMessage;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setWaitImage()</span>
    <span class="comment">/**
     * Specify an image to show when Ajax is busy working.
     *
     * <span class="attrib">@param</span> String newWaitImage = New wait image ( default = ajax-loader-blue.gif - it is by default located inside the image_dhtmlsuite folder. - If you like a new image, try to generate one at http://www.ajaxload.info/
     * 
     * <span class="attrib">@public</span>
     */</span>		
	setWaitImage : <span class="reserved">function</span>(newWaitImage)
	{
		<span class="reserved">this</span>.waitImage = newWaitImage;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCache()</span>
    <span class="comment">/**
     * Cancel selection when drag is in process
     *
     * <span class="attrib">@param</span> Boolean enableCache = true if you want to enable cache, false otherwise(default is true). You can also send HTMl code in here, example an &amp;lt;img&gt; tag.
     * 
     * <span class="attrib">@public</span>
     */</span>		
	setCache : <span class="reserved">function</span>(enableCache)
	{
		<span class="reserved">this</span>.enableCache = enableCache;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajax_showContent()</span>
    <span class="comment">/**
     * Evaluate Javascript in the inserted content
     *
     * <span class="attrib">@private</span>
     */</span>		
	__ajax_showContent :<span class="reserved">function</span>(divId,ajaxIndex,url,functionToCallOnLoaded)
	{
		document.getElementById(divId).innerHTML = <span class="literal">''</span>;
		document.getElementById(divId).innerHTML = <span class="reserved">this</span>.ajaxObjects[ajaxIndex].response;
		<span class="reserved">if</span>(<span class="reserved">this</span>.enableCache){	<span class="comment">// Cache is enabled</span>
			<span class="reserved">this</span>.jsCache[url] = document.getElementById(divId).innerHTML + <span class="literal">''</span>;	<span class="comment">// Put content into cache</span>
		}	
		DHTMLSuite.commonObj.__evaluateJs(divId);	<span class="comment">// Call private method which evaluates JS content</span>
		DHTMLSuite.commonObj.__evaluateCss(divId);	<span class="comment">// Call private method which evaluates JS content</span>
		<span class="reserved">if</span>(functionToCallOnLoaded)eval(functionToCallOnLoaded);
		<span class="reserved">this</span>.ajaxObjects[ajaxIndex] = null;	<span class="comment">// Clear sack object</span>
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajax_displayError()</span>
    <span class="comment">/**
     * Display error message when the request failed.
     *
     * <span class="attrib">@private</span>
     */</span>		
	__ajax_displayError : <span class="reserved">function</span>(divId,ajaxIndex,url,functionToCallOnLoaded)
	{
		document.getElementById(divId).innerHTML = <span class="literal">'&lt;h2&gt;Message from DHTMLSuite.dynamicContent&lt;/h2&gt;&lt;p&gt;The ajax request for '</span> + url + <span class="literal">' failed&lt;/p&gt;'</span>;		
	}
	<span class="comment">// }}}		</span>
}

<span class="comment">/*[FILE_START:dhtmlSuite-slider.js] */</span>
<span class="comment">/************************************************************************************************************
*
*	DHTML slider
*
*	Created:					August, 25th, 2006
*	<span class="attrib">@class</span> Purpose of class:	Display a slider on a web page.
*		
*	Demos of this class:		demo-slider-1.html
*	
* 	Update log:
*
************************************************************************************************************/</span>

DHTMLSuite.sliderObjects = new Array();	<span class="comment">// Array of slider objects. Used in events when "this" refers to the tag trigger the event and not the object.</span>
DHTMLSuite.indexOfCurrentlyActiveSlider = false;	<span class="comment">// Index of currently active slider(i.e. index in the DHTMLSuite.sliderObjects array)</span>
DHTMLSuite.slider_generalMouseEventsAdded = false;	<span class="comment">// Only assign mouse move and mouseup events once. This variable make sure that happens.</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Display a DHTML slider on a web page. This slider could either be displayed horizontally or vertically(&lt;a href="../../demos/demo-slider-1.html" target="_blank"&gt;demo 1&lt;/a&gt; and &lt;a href="../../demos/demo-slider-1.html" target="_blank"&gt;demo 2&lt;/a&gt;).
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*
**/</span>
DHTMLSuite.slider = <span class="reserved">function</span>()
{
	var width;							<span class="comment">// Width of slider</span>
	var height;							<span class="comment">// height of slider</span>
	var targetObj;						<span class="comment">// Object where slider will be added.</span>
	var sliderWidth;					<span class="comment">// Width of slider image. this is needed in order to position the slider and calculate values correctly.</span>
	var sliderDirection;				<span class="comment">// Horizontal or vertical</span>
	var functionToCallOnChange; 		<span class="comment">// Function to call when the slider is moved.</span>
	var layoutCss;	
	var sliderMaxValue;					<span class="comment">// Maximum value to return from slider</span>
	var sliderMinValue;					<span class="comment">// Minimum value to return from slider</span>
	var initialValue;					<span class="comment">// Initial value of slider</span>
	var sliderSize;						<span class="comment">// Size of sliding area.</span>
	var directionOfPointer;				<span class="comment">// Direction of slider pointer;</span>
	var slideInProcessTimer;			<span class="comment">// Private variable used to determine if slide is in progress or not.</span>
	var indexThisSlider;				<span class="comment">// Index of object in the DHTMLSuite.sliderObjects array</span>
	var numberOfSteps;					<span class="comment">// Hardcoded steps</span>
	var stepLinesVisibility;			<span class="comment">// Visibility of lines indicating where the slider steps are</span>
	
	var slide_event_pos;					<span class="comment">// X position of mouse when slider drag starts</span>
	var slide_start_pos;					<span class="comment">// X position of slider when drag starts</span>
	var sliderHandleImg;				<span class="comment">// Reference to the small slider handle</span>
	var sliderName;						<span class="comment">// A name you can use to identify a slider. Useful if you have more than one slider, but only one onchange event.</span>
	var sliderValueReversed;			<span class="comment">// Variable indicating if the value of the slider is reversed(i.e. max at left and min at right)</span>
	<span class="reserved">this</span>.sliderWidth = 9;				<span class="comment">// Initial width of slider.</span>
	<span class="reserved">this</span>.layoutCss = <span class="literal">'slider.css'</span>;		<span class="comment">// Default css file</span>
	<span class="reserved">this</span>.sliderDirection = <span class="literal">'hor'</span>;		<span class="comment">// Horizontal is default</span>
	<span class="reserved">this</span>.width = 0;						<span class="comment">// Initial widht</span>
	<span class="reserved">this</span>.height = 0;					<span class="comment">// Initial height</span>
	<span class="reserved">this</span>.sliderMaxValue = 100; 			<span class="comment">// Default max value to return from slider</span>
	<span class="reserved">this</span>.sliderMinValue = 0;			<span class="comment">// Default min value to return from slider</span>
	<span class="reserved">this</span>.initialValue = 0;				<span class="comment">// Default initial value of slider</span>
	<span class="reserved">this</span>.targetObj = false;				<span class="comment">// Set target obj to false initially.</span>
	<span class="reserved">this</span>.directionOfPointer = <span class="literal">'up'</span>;		<span class="comment">// Default pointer direction for slider handle.</span>
	<span class="reserved">this</span>.slideInProcessTimer = -1;
	<span class="reserved">this</span>.sliderName = <span class="literal">''</span>;
	<span class="reserved">this</span>.numberOfSteps = false;
	<span class="reserved">this</span>.stepLinesVisibility = true;
	<span class="reserved">this</span>.sliderValueReversed = false;	<span class="comment">// Default value of sliderValueReversed, i.e. max at right, min at left or max at top, min at bottom.</span>
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	var objectIndex;
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	

}

DHTMLSuite.slider.<span class="reserved">prototype</span> = {
	
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the script, i.e. creates the slider
     * 	
     *
     * <span class="attrib">@public</span>
     */</span>			
	
	init : <span class="reserved">function</span>()	<span class="comment">// Initializes the script</span>
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.targetObj){
			alert(<span class="literal">'Error! - No target for slider specified'</span>);
			<span class="reserved">return</span>;
		}
	
		<span class="reserved">this</span>.__setWidthAndHeightDynamically();
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCss);		
		<span class="reserved">this</span>.__createSlider();
		<span class="reserved">if</span>(!document.documentElement.onselectstart)document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };					
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSliderTarget(divId)</span>
    <span class="comment">/**
     *	Specify where to insert the slider
     * 	
     *	<span class="attrib">@param</span> Object targetRef - Id of element where the slider will be created inside(There shouldn't be any content inside this div)
     *
     * <span class="attrib">@public</span>	
     */</span>	
	setSliderTarget : <span class="reserved">function</span>(targetRef)
	{
		targetRef = DHTMLSuite.commonObj.getEl(targetRef);	
		<span class="reserved">this</span>.targetObj = targetRef;		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setSliderDirection(newDirection)</span>
    <span class="comment">/**
     *	Specify where to insert the slider
     * 	
     *	<span class="attrib">@param</span> String newDirection - New slider direction. Possible valuse: "hor" or "ver"
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSliderDirection : <span class="reserved">function</span>(newDirection)
	{
		newDirection = newDirection + <span class="literal">''</span>;
		newDirection = newDirection.toLowerCase();
		<span class="reserved">if</span>(newDirection!=<span class="literal">'hor'</span> &amp;&amp; newDirection!=<span class="literal">'ver'</span>){
			alert(<span class="literal">'Invalid slider direction - possible values: "hor" or "ver"'</span>);
			<span class="reserved">return</span>;
		}
		<span class="reserved">this</span>.sliderDirection = newDirection;		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setSliderWidth(newWidth)</span>
    <span class="comment">/**
     *	Specify width of slider - if now width is specified, the script will try to measure the height of width of the element where it is inserted.
     * 	
     *	<span class="attrib">@param</span> String newWidth - Slider width(numeric or percentage) example: 100 or 90%
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSliderWidth : <span class="reserved">function</span>(newWidth)
	{
		newWidth = newWidth + <span class="literal">''</span>;
		<span class="reserved">if</span>(newWidth.indexOf(<span class="literal">'%'</span>)==-1)newWidth = newWidth + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.width = newWidth;	
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setSliderHeight(newHeight)</span>
    <span class="comment">/**
     *	Specify height of slider - if now width is specified, the script will try to measure the height of width of the element where it is inserted.
     * 	
     *	<span class="attrib">@param</span> String newHeight - Slider width(numeric or percentage) example: 100 or 90%
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSliderHeight : <span class="reserved">function</span>(newHeight)
	{
		newHeight = newHeight + <span class="literal">''</span>;
		<span class="reserved">if</span>(newHeight.indexOf(<span class="literal">'%'</span>)==-1)newHeight = newHeight + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.height = height;	
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ setSliderReversed()</span>
    <span class="comment">/**
     *	Reverse slider, i.e. max at left instead of right or at bottom instead of top
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSliderReversed : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.sliderValueReversed = true;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setOnChangeEvent(nameOfFunction)</span>
    <span class="comment">/**
     *	Specify which function to call when the slider has been moved.
     * 	
     *	<span class="attrib">@param</span> String nameOfFunction - Name of function to call.
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setOnChangeEvent : <span class="reserved">function</span>(nameOfFunction)
    {
    	<span class="reserved">this</span>.functionToCallOnChange = nameOfFunction;
    	
    }	
	<span class="comment">// }}}	</span>
	,		
	<span class="comment">// {{{ setSliderMaxValue(newMaxValue)</span>
    <span class="comment">/**
     *	Set maximum value of slider
     * 	
     *	<span class="attrib">@param</span> int newMaxValue - New slider max value
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setSliderMaxValue : <span class="reserved">function</span>(newMaxValue)
    {
    	<span class="reserved">this</span>.sliderMaxValue = newMaxValue;
    	
    }	
	<span class="comment">// }}}		</span>
	,		
	<span class="comment">// {{{ setSliderMinValue(newMinValue)</span>
    <span class="comment">/**
     *	Set minimum value of slider
     * 	
     *	<span class="attrib">@param</span> int newMinValue - New slider min value
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setSliderMinValue : <span class="reserved">function</span>(newMinValue)
    {
    	<span class="reserved">this</span>.sliderMinValue = newMinValue;
    	
    }	
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ setSliderName(nameOfSlider)</span>
    <span class="comment">/**
     *	Specify name of slider.
     * 	
     *	<span class="attrib">@param</span> String nameOfSlider - Name of function to call.
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setSliderName : <span class="reserved">function</span>(nameOfSlider)
    {
    	<span class="reserved">this</span>.sliderName = nameOfSlider;
    	
    }	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setLayoutCss(nameOfNewCssFile)</span>
    <span class="comment">/**
     *	Specify a new CSS file for the slider(i.e. not using default css file which is slider.css)
     * 	
     *	<span class="attrib">@param</span> String nameOfNewCssFile - Name of new css file.
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setLayoutCss : <span class="reserved">function</span>(nameOfNewCssFile)
    {
    	<span class="reserved">this</span>.layoutCss = nameOfNewCssFile;
    }
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss(nameOfNewCssFile)</span>
    <span class="comment">/**
     *	Specify a new CSS file for the slider(i.e. not using default css file which is slider.css)
     * 	
     *	<span class="attrib">@param</span> String nameOfNewCssFile - Name of new css file.
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setInitialValue : <span class="reserved">function</span>(newInitialValue)
    {
    	<span class="reserved">this</span>.initialValue = newInitialValue;
    }
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ setSliderPointerDirection(directionOfPointer)</span>
    <span class="comment">/**
     *	In which direction should the slider handle point. 
     * 	
     *	<span class="attrib">@param</span> String directionOfPointer - In which direction should the slider handle point(possible values: 'up','down','left','right'
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setSliderPointerDirection : <span class="reserved">function</span>(directionOfPointer)
    {
    	<span class="reserved">this</span>.directionOfPointer = directionOfPointer;
    }
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ setSliderValue(newValue)</span>
    <span class="comment">/**
     *	Set new position of slider manually
     * 	
     *	<span class="attrib">@param</span> Int newValue - New value of slider
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setSliderValue : <span class="reserved">function</span>(newValue)
    {
    	var position = Math.floor((newValue / <span class="reserved">this</span>.sliderMaxValue) * <span class="reserved">this</span>.sliderSize);
    	<span class="reserved">if</span>(<span class="reserved">this</span>.sliderDirection==<span class="literal">'hor'</span>){
    		<span class="reserved">this</span>.sliderHandleImg.style.left = position + <span class="literal">'px'</span>;	
    	}<span class="reserved">else</span>{
    		<span class="reserved">this</span>.sliderHandleImg.style.top = position + <span class="literal">'px'</span>;	
    	}
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setNumberOfSliderSteps(numberOfSteps)</span>
    <span class="comment">/**
     *	Divide slider into steps, i.e. instead of having a smooth slide.
     * 	
     *	<span class="attrib">@param</span> Int numberOfSteps - Number of steps
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setNumberOfSliderSteps : <span class="reserved">function</span>(numberOfSteps)
    {
    	<span class="reserved">this</span>.numberOfSteps = numberOfSteps;
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setStepLinesVisible(visible)</span>
    <span class="comment">/**
     *	Divide slider into steps. 
     * 	
     *	<span class="attrib">@param</span> Boolean visible - When using static steps, make lines indicating steps visible or hidden(true = visible(default), false = hidden)
     *
     * <span class="attrib">@public</span>	
     */</span>	
    setStepLinesVisible : <span class="reserved">function</span>(visible)
    {
    	<span class="reserved">this</span>.stepLinesVisibility = visible;
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setWidthAndHeightDynamically()</span>
    <span class="comment">/**
     *	Automatically set height and width of slider.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setWidthAndHeightDynamically : <span class="reserved">function</span>()
	{
		<span class="comment">// No width or height specified - try to measure it from the size of parent box</span>

		<span class="reserved">if</span>(!<span class="reserved">this</span>.width || <span class="reserved">this</span>.width==0)<span class="reserved">this</span>.width = <span class="reserved">this</span>.targetObj.clientWidth+<span class="literal">''</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.height || <span class="reserved">this</span>.height==0)<span class="reserved">this</span>.height = <span class="reserved">this</span>.targetObj.clientHeight+<span class="literal">''</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.width || <span class="reserved">this</span>.width==0)<span class="reserved">this</span>.width = <span class="reserved">this</span>.targetObj.offsetWidth+<span class="literal">''</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.height || <span class="reserved">this</span>.height==0)<span class="reserved">this</span>.height = <span class="reserved">this</span>.targetObj.offsetHeight+<span class="literal">''</span>;

		<span class="reserved">if</span>(<span class="reserved">this</span>.width==0)<span class="reserved">return</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.height==0)<span class="reserved">return</span>;
		
	
		<span class="reserved">if</span>(<span class="reserved">this</span>.width.indexOf(<span class="literal">'px'</span>)==-1 &amp;&amp; <span class="reserved">this</span>.width.indexOf(<span class="literal">'%'</span>)==-1)<span class="reserved">this</span>.width = <span class="reserved">this</span>.width + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.height.indexOf(<span class="literal">'px'</span>)==-1 &amp;&amp; <span class="reserved">this</span>.height.indexOf(<span class="literal">'%'</span>)==-1)<span class="reserved">this</span>.height = <span class="reserved">this</span>.height + <span class="literal">'px'</span>;		

		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __createSlider()</span>
    <span class="comment">/**
     *	Creates the HTML for the slider dynamically
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
    __createSlider : <span class="reserved">function</span>(initWidth)
    {
    	<span class="reserved">if</span>(<span class="reserved">this</span>.targetObj.clientWidth==0 || initWidth==0){
    		var timeoutTime = 100;
    		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + <span class="reserved">this</span>.objectIndex + <span class="literal">'].__createSlider('</span> + <span class="reserved">this</span>.targetObj.clientWidth + <span class="literal">')'</span>,timeoutTime);
    		<span class="reserved">return</span>;    		
    	}    	
    	<span class="reserved">this</span>.__setWidthAndHeightDynamically();
    	<span class="reserved">this</span>.indexThisSlider = DHTMLSuite.sliderObjects.length;
    	DHTMLSuite.sliderObjects[<span class="reserved">this</span>.indexThisSlider] = <span class="reserved">this</span>;
    	
    	window.refToThisObject = <span class="reserved">this</span>;
    	
    	<span class="comment">// Creates a parent div for the slider</span>
    	var div = document.createElement(<span class="literal">'DIV'</span>);
    	
    	div.style.width = <span class="reserved">this</span>.width;
    	div.style.cursor = <span class="literal">'default'</span>;
    	div.style.height = <span class="reserved">this</span>.height;
    	div.style.position = <span class="literal">'relative'</span>;
    	div.id = <span class="literal">'sliderNumber'</span> + <span class="reserved">this</span>.indexThisSlider;	<span class="comment">// the numeric part of this id is used inside the __setPositionFromClick method</span>
    	div.onmousedown = <span class="reserved">this</span>.__setPositionFromClick;
    	DHTMLSuite.commonObj.__addEventEl(div);    	
    	<span class="reserved">this</span>.targetObj.appendChild(div);
    	
    	var sliderObj = document.createElement(<span class="literal">'DIV'</span>);
    	
    	
    	<span class="reserved">if</span>(<span class="reserved">this</span>.sliderDirection==<span class="literal">'hor'</span>){	<span class="comment">// Horizontal slider.</span>
    		sliderObj.className=<span class="literal">'DHTMLSuite_slider_horizontal'</span>;
    		sliderObj.style.width = div.clientWidth + <span class="literal">'px'</span>;
    		<span class="reserved">this</span>.sliderSize = div.offsetWidth - <span class="reserved">this</span>.sliderWidth;
    		    		
    		<span class="comment">// Creating slider handle image.</span>
    		var sliderHandle = document.createElement(<span class="literal">'IMG'</span>);
    		var srcHandle = <span class="literal">'slider_handle_down.gif'</span>;
    		sliderHandle.style.bottom = <span class="literal">'2px'</span>;
    		<span class="reserved">if</span>(<span class="reserved">this</span>.directionOfPointer==<span class="literal">'up'</span>){
    			srcHandle = <span class="literal">'slider_handle_up.gif'</span>;
    			sliderHandle.style.bottom = <span class="literal">'0px'</span>;    			
    		}    		
    		sliderHandle.src = DHTMLSuite.configObj.imagePath + <span class="literal">'slider/'</span> +  srcHandle;
    		div.appendChild(sliderHandle);
    		
    		<span class="comment">// Find initial left position of slider</span>
    		var leftPos;
    		<span class="reserved">if</span>(<span class="reserved">this</span>.sliderValueReversed){
    			leftPos = Math.round(((<span class="reserved">this</span>.sliderMaxValue - <span class="reserved">this</span>.initialValue) / <span class="reserved">this</span>.sliderMaxValue) * <span class="reserved">this</span>.sliderSize) -1;
    		}<span class="reserved">else</span>{
    			leftPos = Math.round((<span class="reserved">this</span>.initialValue / <span class="reserved">this</span>.sliderMaxValue) * <span class="reserved">this</span>.sliderSize);
    		}
			sliderHandle.style.left =  leftPos + <span class="literal">'px'</span>;	
    		
    		
    	}<span class="reserved">else</span>{
    		sliderObj.className=<span class="literal">'DHTMLSuite_slider_vertical'</span>;
    		sliderObj.style.height = div.clientHeight + <span class="literal">'px'</span>;
    		<span class="reserved">this</span>.sliderSize = div.clientHeight - <span class="reserved">this</span>.sliderWidth;
    		
    		<span class="comment">// Creating slider handle image.</span>
    		var sliderHandle = document.createElement(<span class="literal">'IMG'</span>);
    		var srcHandle = <span class="literal">'slider_handle_right.gif'</span>;
    		sliderHandle.style.left = <span class="literal">'0px'</span>;
    		<span class="reserved">if</span>(<span class="reserved">this</span>.directionOfPointer==<span class="literal">'left'</span>){
    			srcHandle = <span class="literal">'slider_handle_left.gif'</span>;
    			sliderHandle.style.left = <span class="literal">'0px'</span>;    			
    		}    		
    		sliderHandle.src = DHTMLSuite.configObj.imagePath + <span class="literal">'slider/'</span> + srcHandle;
    		div.appendChild(sliderHandle);
    		
    		<span class="comment">// Find initial left position of slider</span>
    		var topPos;
    		<span class="reserved">if</span>(!<span class="reserved">this</span>.sliderValueReversed){
    			topPos = Math.floor(((<span class="reserved">this</span>.sliderMaxValue - <span class="reserved">this</span>.initialValue) / <span class="reserved">this</span>.sliderMaxValue) * <span class="reserved">this</span>.sliderSize);
    		}<span class="reserved">else</span>{
    			topPos = Math.floor((<span class="reserved">this</span>.initialValue / <span class="reserved">this</span>.sliderMaxValue) * <span class="reserved">this</span>.sliderSize);
    		}
    		
    		sliderHandle.style.top = topPos + <span class="literal">'px'</span>;	
			    		
    		
    	}
    	
    	sliderHandle.id = <span class="literal">'sliderForObject'</span> + <span class="reserved">this</span>.indexThisSlider;
    	sliderHandle.style.position = <span class="literal">'absolute'</span>;
    	sliderHandle.style.zIndex = 5;
    	sliderHandle.onmousedown = <span class="reserved">this</span>.__initializeSliderDrag;
    	sliderHandle.ondragstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };	
    	sliderHandle.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };	
    	DHTMLSuite.commonObj.__addEventEl(sliderHandle);
		<span class="reserved">this</span>.sliderHandleImg = sliderHandle;
		
		<span class="reserved">if</span>(!DHTMLSuite.slider_generalMouseEventsAdded){
	    	<span class="comment">// Adding onmousemove event to the &lt;html&gt; tag</span>
	    	DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"mousemove"</span>,<span class="reserved">this</span>.__moveSlider);
	    	<span class="comment">// Adding onmouseup event to the &lt;html&gt; tag.</span>
	    	DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"mouseup"</span>,<span class="reserved">this</span>.__stopSlideProcess);
    		DHTMLSuite.slider_generalMouseEventsAdded = true;
		}
    	
    	
    	sliderObj.innerHTML = <span class="literal">'&lt;span style="cursor:default"&gt;&lt;/span&gt;'</span>;	<span class="comment">// In order to get a correct height/width of the div</span>
    	div.appendChild(sliderObj);  			
    	
    	<span class="reserved">if</span>(<span class="reserved">this</span>.numberOfSteps &amp;&amp; <span class="reserved">this</span>.stepLinesVisibility){	<span class="comment">// Number of steps defined, create graphical lines</span>
    		var stepSize = <span class="reserved">this</span>.sliderSize / <span class="reserved">this</span>.numberOfSteps;
    		<span class="reserved">for</span>(var no=0;no&lt;=<span class="reserved">this</span>.numberOfSteps;no++){
    			var lineDiv = document.createElement(<span class="literal">'DIV'</span>);
    			lineDiv.style.position = <span class="literal">'absolute'</span>;
    			lineDiv.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
    			div.appendChild(lineDiv);
    			<span class="reserved">if</span>(<span class="reserved">this</span>.sliderDirection==<span class="literal">'hor'</span>){
    				lineDiv.className=<span class="literal">'DHTMLSuite_smallLines_vertical'</span>;
    				lineDiv.style.left = Math.floor((stepSize * no) + (<span class="reserved">this</span>.sliderWidth/2)) + <span class="literal">'px'</span>;
    			}<span class="reserved">else</span>{
    				lineDiv.className=<span class="literal">'DHTMLSuite_smallLines_horizontal'</span>;
    				lineDiv.style.top = Math.floor((stepSize * no) + (<span class="reserved">this</span>.sliderWidth/2)) + <span class="literal">'px'</span>;
    				lineDiv.style.left = <span class="literal">'14px'</span>;
    			}	
    			
    		}
    	}
    	
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __initializeSliderDrag()</span>
    <span class="comment">/**
     *	Init slider drag
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __initializeSliderDrag : <span class="reserved">function</span>(e)
    {
    	<span class="reserved">if</span>(document.all)e = event;
    	DHTMLSuite.commonObj.__setTextSelOk(false);
    	var numIndex = <span class="reserved">this</span>.id.replace(/[^0-9]/gi,<span class="literal">''</span>);	<span class="comment">// Get index in the DHTMLSuite.sliderObject array. We get this from the id of the slider image(i.e. "this").</span>
    	var sliderObj = DHTMLSuite.sliderObjects[numIndex];
    	DHTMLSuite.indexOfCurrentlyActiveSlider = numIndex;
    	sliderObj.slideInProcessTimer = 0;
    	<span class="reserved">if</span>(sliderObj.sliderDirection==<span class="literal">'hor'</span>){
    		sliderObj.slide_event_pos = e.clientX;	<span class="comment">// Get start x position of mouse pointer</span>
    		sliderObj.slide_start_pos = <span class="reserved">this</span>.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;	<span class="comment">// Get x position of slider</span>
    	}<span class="reserved">else</span>{
    		sliderObj.slide_event_pos = e.clientY;	<span class="comment">// Get start x position of mouse pointer</span>
    		sliderObj.slide_start_pos = <span class="reserved">this</span>.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;	<span class="comment">// Get x position of slider</span>
    	}
    	
    	sliderObj.__waitBeforeSliderDragStarts();
    	<span class="reserved">return</span> false;	<span class="comment">// Firefox need this line.</span>
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setPositionFromClick()</span>
    <span class="comment">/**
     *	Set position from click - click on slider - move handle to the mouse pointer
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __setPositionFromClick : <span class="reserved">function</span>(e)
    {
    	<span class="reserved">if</span>(document.all)e = event;
		<span class="comment">// Tag of element triggering this event. If it's something else than a &lt;div&gt;, return without doing anything, i.e. mouse down on slider handle.</span>
		<span class="reserved">if</span> (e.target) srcEvent = e.target;
			<span class="reserved">else</span> <span class="reserved">if</span> (e.srcElement) srcEvent = e.srcElement;
			<span class="reserved">if</span> (srcEvent.nodeType == 3) <span class="comment">// defeat Safari bug</span>
				srcEvent = srcEvent.parentNode;
		<span class="reserved">if</span>(srcEvent.tagName!=<span class="literal">'DIV'</span>)<span class="reserved">return</span>;		
				
    	var numIndex = <span class="reserved">this</span>.id.replace(/[^0-9]/gi,<span class="literal">''</span>);	<span class="comment">// Get index in the DHTMLSuite.sliderObject array. We get this from the id of the slider image(i.e. "this").</span>
 		var sliderObj = DHTMLSuite.sliderObjects[numIndex];
 		
     	<span class="reserved">if</span>(sliderObj.numberOfSteps){
    		modValue = sliderObj.sliderSize / sliderObj.numberOfSteps;	<span class="comment">// Find value to calculate modulus by	</span>
    	}	
    	
    	<span class="reserved">if</span>(sliderObj.sliderDirection==<span class="literal">'hor'</span>){
    		var handlePos = (e.clientX - DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>) - Math.ceil(sliderObj.sliderWidth/2));
    	}<span class="reserved">else</span>{
    		var handlePos = (e.clientY - DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>) - Math.ceil(sliderObj.sliderWidth/2));
    	}
		<span class="reserved">if</span>(sliderObj.numberOfSteps){	<span class="comment">// Static steps defined</span>
			var mod = handlePos % modValue;	<span class="comment">// Calculate modulus</span>
			<span class="reserved">if</span>(mod&gt;(modValue/2))mod = modValue-mod; <span class="reserved">else</span> mod*=-1;	<span class="comment">// Should we move the slider handle left or right?</span>
			handlePos = handlePos + mod;
		}
		<span class="reserved">if</span>(handlePos&lt;0)handlePos = 0;	<span class="comment">// Don't allow negative values</span>
		<span class="reserved">if</span>(handlePos &gt; sliderObj.sliderSize)handlePos = sliderObj.sliderSize; <span class="comment">// Don't allow values larger the slider size	</span>
    	
   		<span class="reserved">if</span>(sliderObj.sliderDirection==<span class="literal">'hor'</span>){
 			sliderObj.sliderHandleImg.style.left = handlePos + <span class="literal">'px'</span>;		
 			<span class="reserved">if</span>(!sliderObj.sliderValueReversed){
				returnValue = Math.round((handlePos/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}<span class="reserved">else</span>{
				returnValue = Math.round(((sliderObj.sliderSize - handlePos)/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}						
 		}<span class="reserved">else</span>{
 			sliderObj.sliderHandleImg.style.top = handlePos + <span class="literal">'px'</span>;	 			
			<span class="reserved">if</span>(sliderObj.sliderValueReversed){
				returnValue = Math.round((handlePos/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}<span class="reserved">else</span>{
				returnValue = Math.round(((sliderObj.sliderSize - handlePos)/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}		
 		}	 		
 		returnValue = returnValue + sliderObj.sliderMinValue;
 		<span class="reserved">if</span>(sliderObj.functionToCallOnChange)eval(sliderObj.functionToCallOnChange + <span class="literal">'('</span> + returnValue + <span class="literal">',"'</span> + sliderObj.sliderName + <span class="literal">'")'</span>);
 		
 		DHTMLSuite.indexOfCurrentlyActiveSlider = numIndex;
 		sliderObj.slideInProcessTimer = 10;
     	<span class="reserved">if</span>(sliderObj.sliderDirection==<span class="literal">'hor'</span>){
    		sliderObj.slide_event_pos = e.clientX;	<span class="comment">// Get start x position of mouse pointer</span>
    		sliderObj.slide_start_pos = handlePos;	<span class="comment">// Get x position of slider</span>
    	}<span class="reserved">else</span>{
    		sliderObj.slide_event_pos = e.clientY;	<span class="comment">// Get start x position of mouse pointer</span>
    		sliderObj.slide_start_pos = handlePos;	<span class="comment">// Get x position of slider</span>
    	}	
    	DHTMLSuite.commonObj.__setTextSelOk(false);	
 		
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __waitBeforeSliderDragStarts()</span>
    <span class="comment">/**
     *	A small delay before the drag process starts.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __waitBeforeSliderDragStarts : <span class="reserved">function</span>()
    {
		<span class="reserved">if</span>(<span class="reserved">this</span>.slideInProcessTimer&lt;10 &amp;&amp; <span class="reserved">this</span>.slideInProcessTimer&gt;=0){
			<span class="reserved">this</span>.slideInProcessTimer+=2;
			window.refToThisSlider = <span class="reserved">this</span>;
			setTimeout(<span class="literal">'window.refToThisSlider.__waitBeforeSliderDragStarts()'</span>,5);
		}
		
    }
    <span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __moveSlider()</span>
    <span class="comment">/**
     *	Move the slider
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __moveSlider : <span class="reserved">function</span>(e)
    {
    	<span class="reserved">if</span>(DHTMLSuite.indexOfCurrentlyActiveSlider===false)<span class="reserved">return</span>;
    	var sliderObj = DHTMLSuite.sliderObjects[DHTMLSuite.indexOfCurrentlyActiveSlider];
    	<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">if</span>(sliderObj.slideInProcessTimer&lt;10)<span class="reserved">return</span>;
		
    	var returnValue;
    	
    	<span class="comment">// Static steps defined ?</span>
    	<span class="reserved">if</span>(sliderObj.numberOfSteps){	<span class="comment">// Find value to calculate modulus by</span>
    		modValue = sliderObj.sliderSize / sliderObj.numberOfSteps;	
    	}	
    	
    	<span class="reserved">if</span>(sliderObj.sliderDirection==<span class="literal">'hor'</span>){
    		var handlePos = e.clientX - sliderObj.slide_event_pos + sliderObj.slide_start_pos;
    	}<span class="reserved">else</span>{
    		var handlePos = e.clientY - sliderObj.slide_event_pos + sliderObj.slide_start_pos;
    	}
		<span class="reserved">if</span>(sliderObj.numberOfSteps){
 			var mod = handlePos % modValue;
 			<span class="reserved">if</span>(mod&gt;(modValue/2))mod = modValue-mod; <span class="reserved">else</span> mod*=-1; 				
				handlePos = handlePos + mod;
		}    	
		<span class="reserved">if</span>(handlePos&lt;0)handlePos = 0;
		<span class="reserved">if</span>(handlePos &gt; sliderObj.sliderSize)handlePos = sliderObj.sliderSize;		
		
		<span class="reserved">if</span>(sliderObj.sliderDirection==<span class="literal">'hor'</span>){
			sliderObj.sliderHandleImg.style.left = handlePos + <span class="literal">'px'</span>;		
			<span class="reserved">if</span>(!sliderObj.sliderValueReversed){
				returnValue = Math.round((handlePos/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}<span class="reserved">else</span>{
				returnValue = Math.round(((sliderObj.sliderSize - handlePos)/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}
		}<span class="reserved">else</span>{
			sliderObj.sliderHandleImg.style.top = handlePos + <span class="literal">'px'</span>;
			<span class="reserved">if</span>(sliderObj.sliderValueReversed){
				returnValue = Math.round((handlePos/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}<span class="reserved">else</span>{
				returnValue = Math.round(((sliderObj.sliderSize - handlePos)/sliderObj.sliderSize) * (sliderObj.sliderMaxValue - sliderObj.sliderMinValue));
			}
						
		}		
			
		returnValue = returnValue + sliderObj.sliderMinValue;
		
		
		<span class="reserved">if</span>(sliderObj.functionToCallOnChange)eval(sliderObj.functionToCallOnChange + <span class="literal">'('</span> + returnValue + <span class="literal">',"'</span> + sliderObj.sliderName + <span class="literal">'")'</span>);
		
    }
    <span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __stopSlideProcess()</span>
    <span class="comment">/**
     *	Stop the drag process
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __stopSlideProcess : <span class="reserved">function</span>(e)
    {
    	DHTMLSuite.commonObj.__setTextSelOk(true);
    	<span class="reserved">if</span>(!DHTMLSuite.indexOfCurrentlyActiveSlider)<span class="reserved">return</span>;
    	var sliderObj = DHTMLSuite.sliderObjects[DHTMLSuite.indexOfCurrentlyActiveSlider];
    	sliderObj.slideInProcessTimer = -1;	
    }	
}

<span class="comment">/*[FILE_START:dhtmlSuite-modalMessage.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML modal dialog box
*
*	Created:						August, 26th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Display a modal dialog box on the screen.
*			
*	Css files used by this script:	modal-message.css
*
*	Demos of this class:			demo-modal-message-1.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Display a modal DHTML message on the page. All other page controls will be disabled until the message is closed(&lt;a href="../../demos/demo-modal-message-1.html" target="_blank"&gt;demo&lt;/a&gt;).
* <span class="attrib">@param</span> Array - Associative array of properties. These properties can also be set by calling invidiual set-methods. Possible keys in this array:&lt;br&gt;
*	url - Url to file displayed in the message
*	htmlOfModalMessage - Static HTML to display.
*   domRef - Reference to dom element. This dom element will be cloned and displayed inside the message box. You will typically set display:none or visibility:hidden on this element
*	width - Width of box
*	height - Height of box
*	cssClassOfMessageBox - Alternative css class for the message box
*	shadowOffset - Size of drop shadow in pixels
*   shadowDivVisible - Shadow visible (default = true)
*	isModal	- Is the dialog modal ? (default = true)
*
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.modalMessage = <span class="reserved">function</span>(props)
{
	var url;								<span class="comment">// url of modal message</span>
	var htmlOfModalMessage;					<span class="comment">// html of modal message</span>
	var domRef;								<span class="comment">// Reference to DOM element</span>
	
	var divs_transparentDiv;				<span class="comment">// Transparent div covering page content</span>
	var divs_content;						<span class="comment">// Modal message div.</span>
	var iframeEl;						<span class="comment">// Iframe element used to cover select boxes in ie</span>
	var layoutCss;							<span class="comment">// Name of css file;</span>
	var width;								<span class="comment">// Width of message box</span>
	var height;								<span class="comment">// Height of message box</span>
	var isModal;							<span class="comment">// Is the modal message modal ?</span>
	
	var existingBodyOverFlowStyle;			<span class="comment">// Existing body overflow css</span>
	var dynContentObj;						<span class="comment">// Reference to dynamic content object</span>
	var cssClassOfMessageBox;				<span class="comment">// Alternative css class of message box - in case you want a different appearance on one of them</span>
	var shadowDivVisible;					<span class="comment">// Shadow div visible ? </span>
	var shadowOffset; 						<span class="comment">// X and Y offset of shadow(pixels from content box)</span>
	
	var objectIndex;
	
		
	<span class="reserved">this</span>.url = <span class="literal">''</span>;							<span class="comment">// Default url is blank</span>
	<span class="reserved">this</span>.htmlOfModalMessage = <span class="literal">''</span>;			<span class="comment">// Default message is blank</span>
	<span class="reserved">this</span>.layoutCss = <span class="literal">'modal-message.css'</span>;	<span class="comment">// Default CSS file</span>
	<span class="reserved">this</span>.height = 200;						<span class="comment">// Default height of modal message</span>
	<span class="reserved">this</span>.width = 400;						<span class="comment">// Default width of modal message</span>
	<span class="reserved">this</span>.cssClassOfMessageBox = false;		<span class="comment">// Default alternative css class for the message box</span>
	<span class="reserved">this</span>.shadowDivVisible = true;			<span class="comment">// Shadow div is visible by default</span>
	<span class="reserved">this</span>.shadowOffset = 5;					<span class="comment">// Default shadow offset.</span>
	<span class="reserved">this</span>.isModal = true;
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}

	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
	var ind = <span class="reserved">this</span>.objectIndex;
	
	DHTMLSuite.commonObj.addEvent(window,<span class="literal">"resize"</span>,<span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__resizeTransparentDiv(); });	
	
	<span class="reserved">if</span>(props)<span class="reserved">this</span>.__setInitialProps(props);
}

DHTMLSuite.modalMessage.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ __setInitialProps</span>
    <span class="comment">/**
     *	Save properties sent to the constructor.
     * 	
     * <span class="attrib">@private</span>	
     */</span>		
	__setInitialProps : <span class="reserved">function</span>(props)
	{
		<span class="reserved">if</span>(props.url)<span class="reserved">this</span>.setSource(props.url);
		<span class="reserved">if</span>(props.htmlOfModalMessage)<span class="reserved">this</span>.setHtmlContent(props.htmlOfModalMessage);
		<span class="reserved">if</span>(props.domRef)<span class="reserved">this</span>.setDomReference(props.domRef);
		<span class="reserved">if</span>(props.width)<span class="reserved">this</span>.width = props.width;
		<span class="reserved">if</span>(props.height)<span class="reserved">this</span>.height = props.height;
		<span class="reserved">if</span>(props.cssClassOfMessageBox)<span class="reserved">this</span>.cssClassOfMessageBox = props.cssClassOfMessageBox;
		<span class="reserved">if</span>(props.shadowOffset)<span class="reserved">this</span>.shadowOffset = props.shadowOffset;
		<span class="reserved">if</span>(props.shadowDivVisible)<span class="reserved">this</span>.shadowDivVisible = props.shadowDivVisible;
		<span class="reserved">if</span>(props.isModal || props.isModal===false || props.isModal===0)<span class="reserved">this</span>.isModal = props.isModal;
		<span class="reserved">if</span>(props.waitMessage)<span class="reserved">this</span>.setWaitMessage(waitMessage);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setIsModal(urlOfSource)</span>
    <span class="comment">/**
     *	Specify if the box should be modal, i.e. a transparent div behind the box covering page content.
     * 	
     * <span class="attrib">@public</span>	
     */</span>		
	setIsModal : <span class="reserved">function</span>(isModal)
	{
		<span class="reserved">this</span>.isModal = isModal;
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSource(urlOfSource)</span>
    <span class="comment">/**
     *	Set source of the modal dialog box
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSource : <span class="reserved">function</span>(urlOfSource)
	{
		<span class="reserved">if</span>(urlOfSource)<span class="reserved">this</span>.__clearProperties();
		<span class="reserved">this</span>.url = urlOfSource;		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setHtmlContent(newHtmlContent)</span>
    <span class="comment">/**
     *	Setting static HTML content for the modal dialog box.
     * 	
     *	<span class="attrib">@param</span> String newHtmlContent = Static HTML content of box
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setHtmlContent : <span class="reserved">function</span>(newHtmlContent)
	{
		<span class="reserved">if</span>(newHtmlContent)<span class="reserved">this</span>.__clearProperties();
		<span class="reserved">this</span>.htmlOfModalMessage = newHtmlContent;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDomReference</span>
    <span class="comment">/**
     *	Specify reference to DOM element which will be displayed inside the modal message box.
     * 	
     *	<span class="attrib">@param</span> Object domRef = Dom reference
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setDomReference : <span class="reserved">function</span>(domRef)
	{
		<span class="reserved">if</span>(domRef)<span class="reserved">this</span>.__clearProperties();
		<span class="reserved">if</span>(domRef)domRef = DHTMLSuite.commonObj.getEl(domRef);
		<span class="reserved">if</span>(domRef){
			domRef = domRef.cloneNode(true);
		}
		<span class="reserved">this</span>.domRef = domRef;				
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ setSize</span>
    <span class="comment">/**
     *	Set the size of the modal dialog box
     * 	
     *	<span class="attrib">@param</span> int width = width of box
     *	<span class="attrib">@param</span> int height = height of box
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSize : <span class="reserved">function</span>(width,height)
	{
		<span class="reserved">if</span>(width)<span class="reserved">this</span>.width = width;
		<span class="reserved">if</span>(height)<span class="reserved">this</span>.height = height;		
	}
	<span class="comment">// }}}		</span>
	,		
	<span class="comment">// {{{ setCssClassMessageBox(newCssClass)</span>
    <span class="comment">/**
     *	Assign the message box to a new css class.(in case you wants a different appearance on one of them)
     * 	
     *	<span class="attrib">@param</span> String newCssClass = Name of new css class (Pass false if you want to change back to default)
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCssClassMessageBox : <span class="reserved">function</span>(newCssClass)
	{
		<span class="reserved">this</span>.cssClassOfMessageBox = newCssClass;
		<span class="reserved">if</span>(<span class="reserved">this</span>.divs_content){
			<span class="reserved">if</span>(<span class="reserved">this</span>.cssClassOfMessageBox)
				<span class="reserved">this</span>.divs_content.className=<span class="reserved">this</span>.cssClassOfMessageBox;
			<span class="reserved">else</span>
				<span class="reserved">this</span>.divs_content.className=<span class="literal">'modalDialog_contentDiv'</span>;	
		}
					
	}
	<span class="comment">// }}}		</span>
	,	
	<span class="comment">// {{{ setShadowOffset(newShadowOffset)</span>
    <span class="comment">/**
     *	Specify the size of shadow
     * 	
     *	<span class="attrib">@param</span> Int newShadowOffset = Offset of shadow div(in pixels from message box - x and y)
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setShadowOffset : <span class="reserved">function</span>(newShadowOffset)
	{
		<span class="reserved">this</span>.shadowOffset = newShadowOffset
					
	}
	<span class="comment">// }}}		</span>
	,	
	<span class="comment">// {{{ setWaitMessage(newMessage)</span>
    <span class="comment">/**
     *	Set a wait message when Ajax is busy inserting content
     * 	
     *	<span class="attrib">@param</span> String newMessage = New wait message
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setWaitMessage : <span class="reserved">function</span>(newMessage)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dynContentObj){
			try{
				<span class="reserved">this</span>.dynContentObj = new DHTMLSuite.dynamicContent();	<span class="comment">// Creating dynamic content object if it doesn't already exist.</span>
			}catch(e){
				alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
			}
		}	
		<span class="reserved">this</span>.dynContentObj.setWaitMessage(newMessage);	<span class="comment">// Calling the DHTMLSuite.dynamicContent setWaitMessage</span>
	}
	<span class="comment">// }}}		</span>
	,	
	<span class="comment">// {{{ setWaitImage(newImage)</span>
    <span class="comment">/**
     *	Set a wait Image when Ajax is busy inserting content
     * 	
     *	<span class="attrib">@param</span> String newImage = New wait Image
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setWaitImage : <span class="reserved">function</span>(newImage)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dynContentObj){
			try{
				<span class="reserved">this</span>.dynContentObj = new DHTMLSuite.dynamicContent();	<span class="comment">// Creating dynamic content object if it doesn't already exist.</span>
			}catch(e){
				alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
			}
		}	
		<span class="reserved">this</span>.dynContentObj.setWaitImage(newImage);	<span class="comment">// Calling the DHTMLSuite.dynamicContent setWaitImage</span>
	}
	<span class="comment">// }}}		</span>
	,	
	<span class="comment">// {{{ setCache()</span>
    <span class="comment">/**
     *	Enable or disable cache for the ajax object
     * 	
     *	<span class="attrib">@param</span> Boolean cacheStatus = false = off, true = on
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCache : <span class="reserved">function</span>(cacheStatus)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dynContentObj){
			try{
				<span class="reserved">this</span>.dynContentObj = new DHTMLSuite.dynamicContent();	<span class="comment">// Creating dynamic content object if it doesn't already exist.</span>
			}catch(e){
				alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);				
			}
		}	
		<span class="reserved">this</span>.dynContentObj.setCache(cacheStatus);	<span class="comment">// Calling the DHTMLSuite_dynamicContent setCache</span>
		
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ display()</span>
    <span class="comment">/**
     *	Display the modal dialog box
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	display : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.divs_transparentDiv){
			DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCss);
			<span class="reserved">this</span>.__createDivElements();
		}
		<span class="reserved">this</span>.__resizeAndPositionDivElements();
		<span class="comment">// Redisplaying divs</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.isModal){
			<span class="reserved">this</span>.divs_transparentDiv.style.display=<span class="literal">'block'</span>;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divs_transparentDiv.style.display=<span class="literal">'none'</span>;
		}
		<span class="reserved">this</span>.divs_content.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.divs_shadow.style.display=<span class="literal">'block'</span>;	
		
			
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl){
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].iframeEl.style.display="block"'</span>,150);
		}


					
		<span class="reserved">this</span>.__resizeAndPositionDivElements();
		
		<span class="comment">/* Call the __resizeAndPositionDivElements method twice in case the css file has changed. The first execution of this method may not catch these changes */</span>
		window.refToThisModalBoxObj = <span class="reserved">this</span>;		
		setTimeout(<span class="literal">'window.refToThisModalBoxObj.__resizeAndPositionDivElements()'</span>,100);
		
		<span class="reserved">this</span>.__addHTMLContent();	<span class="comment">// Calling method which inserts content into the message div.</span>
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ ()</span>
    <span class="comment">/**
     *	Display the modal dialog box
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setShadowDivVisible : <span class="reserved">function</span>(visible)
	{
		<span class="reserved">this</span>.shadowDivVisible = visible;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ close()</span>
    <span class="comment">/**
     *	Close the modal dialog box
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	close : <span class="reserved">function</span>()
	{
		document.documentElement.style.overflow = <span class="literal">''</span>;	<span class="comment">// Setting the CSS overflow attribute of the &lt;html&gt; tag back to default.</span>
		<span class="comment">/* Hiding divs */</span>
		<span class="reserved">this</span>.divs_transparentDiv.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divs_content.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divs_shadow.style.display=<span class="literal">'none'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl)<span class="reserved">this</span>.iframeEl.style.display=<span class="literal">'none'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearProperties()</span>
    <span class="comment">/**
     *	Clear content properties
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__clearProperties : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.domRef)DHTMLSuite.discardElement(<span class="reserved">this</span>.domRef);
		<span class="reserved">this</span>.domRef = null;
		<span class="reserved">this</span>.url = false;
		<span class="reserved">this</span>.htmlOfModalMessage = false;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __createDivElements()</span>
    <span class="comment">/**
     *	Create the divs for the modal dialog box
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createDivElements : <span class="reserved">function</span>()
	{
		<span class="comment">// Creating transparent div</span>
		<span class="reserved">this</span>.divs_transparentDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divs_transparentDiv.className=<span class="literal">'DHTMLSuite_modalDialog_transparentDivs'</span>;
		<span class="reserved">this</span>.divs_transparentDiv.style.left = <span class="literal">'0px'</span>;
		<span class="reserved">this</span>.divs_transparentDiv.style.top = <span class="literal">'0px'</span>;
		<span class="reserved">this</span>.divs_transparentDiv.id=<span class="literal">'transparentDiv'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divs_transparentDiv);
		<span class="comment">// Creating content div</span>
		<span class="reserved">if</span>(!document.getElementById(<span class="literal">'DHTMLSuite_modalBox_contentDiv'</span>)){
			<span class="reserved">this</span>.divs_content = document.createElement(<span class="literal">'DIV'</span>);
			<span class="reserved">this</span>.divs_content.className = <span class="literal">'DHTMLSuite_modalDialog_contentDiv'</span>;
			<span class="reserved">this</span>.divs_content.id = <span class="literal">'DHTMLSuite_modalBox_contentDiv'</span>;
			document.body.appendChild(<span class="reserved">this</span>.divs_content);
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divs_content = document.getElementById(<span class="literal">'DHTMLSuite_modalBox_contentDiv'</span>);
		}
		<span class="comment">// Creating shadow div</span>
		<span class="reserved">this</span>.divs_shadow = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divs_shadow.className = <span class="literal">'DHTMLSuite_modalDialog_contentDiv_shadow'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divs_shadow);

		
		
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			<span class="reserved">this</span>.iframeEl = document.createElement(<span class="literal">'&lt;iframe frameborder=0 src="about:blank" scrolling="no"&gt;'</span>);
			<span class="reserved">this</span>.iframeEl.style.filter = <span class="literal">'alpha(opacity=0)'</span>;
			<span class="reserved">this</span>.iframeEl.style.cssText = <span class="literal">'filter:alpha(opacity=0)'</span>;
			<span class="reserved">this</span>.iframeEl.style.position = <span class="literal">'absolute'</span>;
			<span class="reserved">this</span>.iframeEl.style.zIndex = 100001;
			<span class="reserved">this</span>.iframeEl.style.display=<span class="literal">'none'</span>;
			<span class="reserved">this</span>.iframeEl.style.left = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.iframeEl.style.top = <span class="literal">'0px'</span>;
			document.body.appendChild(<span class="reserved">this</span>.iframeEl);
		}
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __resizeAndPositionDivElements()</span>
    <span class="comment">/**
     *	Resize the message divs
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __resizeAndPositionDivElements : <span class="reserved">function</span>()
    {
    	var topOffset = Math.max(document.body.scrollTop,document.documentElement.scrollTop);
		<span class="reserved">if</span>(<span class="reserved">this</span>.cssClassOfMessageBox)
			<span class="reserved">this</span>.divs_content.className=<span class="reserved">this</span>.cssClassOfMessageBox;
		<span class="reserved">else</span>
			<span class="reserved">this</span>.divs_content.className=<span class="literal">'DHTMLSuite_modalDialog_contentDiv'</span>;	
    	<span class="reserved">if</span>(!<span class="reserved">this</span>.divs_transparentDiv)<span class="reserved">return</span>;
    	
    	var bodyWidth = DHTMLSuite.clientInfoObj.getBrowserWidth();
    	var bodyHeight = DHTMLSuite.clientInfoObj.getBrowserHeight();
    	<span class="comment">// Setting width and height of content div</span>
      	<span class="reserved">this</span>.divs_content.style.width = <span class="reserved">this</span>.width + <span class="literal">'px'</span>;
    	<span class="reserved">this</span>.divs_content.style.height= <span class="reserved">this</span>.height + <span class="literal">'px'</span>;  	
    	
    	<span class="comment">// Creating temporary width variables since the actual width of the content div could be larger than this.width and this.height(i.e. padding and border)</span>
    	var tmpWidth = <span class="reserved">this</span>.divs_content.offsetWidth;	
    	var tmpHeight = <span class="reserved">this</span>.divs_content.offsetHeight;
    	
		
    	<span class="reserved">this</span>.divs_content.style.left = Math.ceil((bodyWidth - tmpWidth) / 2) + <span class="literal">'px'</span>;;
    	<span class="reserved">this</span>.divs_content.style.top = (Math.ceil((bodyHeight - tmpHeight) / 2) +  topOffset) + <span class="literal">'px'</span>;
    	<span class="reserved">this</span>.divs_shadow.style.left = (<span class="reserved">this</span>.divs_content.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1 + <span class="reserved">this</span>.shadowOffset) + <span class="literal">'px'</span>;
    	<span class="reserved">this</span>.divs_shadow.style.top = (<span class="reserved">this</span>.divs_content.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1 + <span class="reserved">this</span>.shadowOffset) + <span class="literal">'px'</span>;
    	<span class="reserved">this</span>.divs_shadow.style.height = tmpHeight + <span class="literal">'px'</span>;
    	<span class="reserved">this</span>.divs_shadow.style.width = tmpWidth + <span class="literal">'px'</span>;



			
    	<span class="reserved">if</span>(!<span class="reserved">this</span>.shadowDivVisible)<span class="reserved">this</span>.divs_shadow.style.display=<span class="literal">'none'</span>;	<span class="comment">// Hiding shadow if it has been disabled</span>
    	<span class="reserved">this</span>.__resizeTransparentDiv();
    	
    }	
    <span class="comment">// }}}</span>
    ,
   	<span class="comment">// {{{ __resizeTransparentDiv()</span>
    <span class="comment">/**
     *	Resize transparent div
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	 
    __resizeTransparentDiv : <span class="reserved">function</span>()
    {
    	<span class="reserved">if</span>(!<span class="reserved">this</span>.divs_transparentDiv)<span class="reserved">return</span>;
    	var divHeight = DHTMLSuite.clientInfoObj.getBrowserHeight();
    	var divWidth = DHTMLSuite.clientInfoObj.getBrowserWidth();
    	<span class="reserved">this</span>.divs_transparentDiv.style.height = divHeight +<span class="literal">'px'</span>;   
    	<span class="reserved">this</span>.divs_transparentDiv.style.width = divWidth + <span class="literal">'px'</span>;
    	   	
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl){
			<span class="reserved">this</span>.iframeEl.style.width = <span class="reserved">this</span>.divs_transparentDiv.style.width;
			<span class="reserved">this</span>.iframeEl.style.height = <span class="reserved">this</span>.divs_transparentDiv.style.height;
		}
		    	
    	
    }
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __addHTMLContent()</span>
    <span class="comment">/**
     *	Insert content into the content div
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __addHTMLContent : <span class="reserved">function</span>()
    {
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dynContentObj){<span class="comment">// dynamic content object doesn't exists?</span>
			try{
				<span class="reserved">this</span>.dynContentObj = new DHTMLSuite.dynamicContent();	<span class="comment">// Create new DHTMLSuite_dynamicContent object.</span>
			}catch(e){
				alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
			}
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.url){	<span class="comment">// url specified - load content dynamically</span>
			<span class="reserved">this</span>.dynContentObj.loadContent(<span class="literal">'DHTMLSuite_modalBox_contentDiv'</span>,<span class="reserved">this</span>.url);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.htmlOfModalMessage){	<span class="comment">// no url set, put static content inside the message box</span>
			<span class="reserved">this</span>.divs_content.innerHTML = <span class="reserved">this</span>.htmlOfModalMessage;	
			
		}
	
		<span class="reserved">if</span>(<span class="reserved">this</span>.domRef){
			<span class="reserved">this</span>.divs_content.innerHTML  = <span class="literal">''</span>;
			<span class="reserved">this</span>.divs_content.appendChild(<span class="reserved">this</span>.domRef);	
			var dis = DHTMLSuite.commonObj.getStyle(<span class="reserved">this</span>.domRef,<span class="literal">'display'</span>);
			<span class="reserved">if</span>(dis==<span class="literal">'none'</span>)<span class="reserved">this</span>.domRef.style.display=<span class="literal">'block'</span>;
			<span class="reserved">this</span>.domRef.style.visibility=<span class="literal">'visible'</span>;			
		}
    }		
}



<span class="comment">/*[FILE_START:dhtmlSuite-dynamicTooltip.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML dynamic tooltip script
*
*	Created:						August, 26th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Displays tooltips on screen with content from external files.
*			
*	Css files used by this script:	dynamic-tooltip.css
*
*	Demos of this class:			demo-dyn-tooltip-1.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Display a tooltip on screen with content from an external file(AJAX) (&lt;a href="../../demos/demo-dyn-tooltip-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.dynamicTooltip = <span class="reserved">function</span>()
{
	var x_offset_tooltip;					<span class="comment">// X Offset tooltip</span>
	var y_offset_tooltip;					<span class="comment">// Y offset tooltip</span>
	var ajax_tooltipObj;
	var ajax_tooltipObj_iframe;
	var dynContentObj;						<span class="comment">// Reference to dynamic content object</span>
	var layoutCss;
	var waitMessage;
	
	<span class="comment">/* Offset position of tooltip */</span>
	<span class="reserved">this</span>.x_offset_tooltip = 5;
	<span class="reserved">this</span>.y_offset_tooltip = 0;
	<span class="reserved">this</span>.ajax_tooltipObj = false;
	<span class="reserved">this</span>.ajax_tooltipObj_iframe = false;
	<span class="reserved">this</span>.layoutCss = <span class="literal">'dynamic-tooltip.css'</span>;
	<span class="reserved">this</span>.waitMessage = <span class="literal">''</span>;
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
}

DHTMLSuite.dynamicTooltip.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ displayTooltip(externalFile,inputObj)</span>
    <span class="comment">/**
     *	Specify Ajax - please wait message
     * 	
     *	<span class="attrib">@param</span> String waitMessage - New wait message
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setWaitMessage : <span class="reserved">function</span>(waitMessage)
	{
		<span class="reserved">this</span>.waitMessage = waitMessage;			
	}
	,	
	<span class="comment">// {{{ displayTooltip(externalFile,inputObj)</span>
    <span class="comment">/**
     *	Hides the tooltip - should be called in onmouseout events
     * 	
     *	<span class="attrib">@param</span> String externalfile - Relative path to external file
     * 	<span class="attrib">@param</span> Object inputObj - Reference to tag on webpage.(usually "this" in an onmouseover event)
     * 	<span class="attrib">@param</span> String staticContent - Static text, alternative to externalFile
     *
     * <span class="attrib">@public</span>	
     */</span>	
	displayTooltip : <span class="reserved">function</span>(externalFile,inputObj,staticContent)
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCss);
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dynContentObj){
			try{
				<span class="reserved">this</span>.dynContentObj = new DHTMLSuite.dynamicContent();	<span class="comment">// Creating dynamic content object if it doesn't already exist.</span>
				<span class="reserved">if</span>(<span class="reserved">this</span>.waitMessage)<span class="reserved">this</span>.dynContentObj.setWaitMessage(<span class="reserved">this</span>.waitMessage);
			}catch(e){
				alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
			}
		}

		<span class="reserved">if</span>(!<span class="reserved">this</span>.ajax_tooltipObj &amp;&amp; document.getElementById(<span class="literal">'DHTMLSuite_ajax_tooltipObj'</span>)){
			DHTMLSuite.discardElement(<span class="literal">'DHTMLSuite_ajax_tooltipObj'</span>);
		}	
		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.ajax_tooltipObj)	<span class="comment">/* Tooltip div not created yet ? */</span>
		{
		
			<span class="reserved">this</span>.ajax_tooltipObj = document.createElement(<span class="literal">'DIV'</span>);
			<span class="reserved">this</span>.ajax_tooltipObj.style.position = <span class="literal">'absolute'</span>;
			<span class="reserved">this</span>.ajax_tooltipObj.id = <span class="literal">'DHTMLSuite_ajax_tooltipObj'</span>;		
			document.body.appendChild(<span class="reserved">this</span>.ajax_tooltipObj);
	
			
			var leftDiv = document.createElement(<span class="literal">'DIV'</span>);	<span class="comment">/* Create arrow div */</span>
			leftDiv.className=<span class="literal">'DHTMLSuite_ajax_tooltip_arrow'</span>;
			leftDiv.id = <span class="literal">'DHTMLSuite_ajax_tooltip_arrow'</span>;
			leftDiv.style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' +  DHTMLSuite.configObj.imagePath + '</span>dynamic-tooltip/dyn-tooltip-arrow.gif<span class="literal">' + '</span>\<span class="literal">')'</span>;
			<span class="reserved">this</span>.ajax_tooltipObj.appendChild(leftDiv);
			
			var contentDiv = document.createElement(<span class="literal">'DIV'</span>); <span class="comment">/* Create tooltip content div */</span>
			contentDiv.className = <span class="literal">'DHTMLSuite_ajax_tooltip_content'</span>;
			<span class="reserved">this</span>.ajax_tooltipObj.appendChild(contentDiv);
			contentDiv.id = <span class="literal">'DHTMLSuite_ajax_tooltip_content'</span>;
			
			<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){	<span class="comment">/* Create iframe object for MSIE in order to make the tooltip cover select boxes */</span>
				<span class="reserved">this</span>.ajax_tooltipObj_iframe = document.createElement(<span class="literal">'&lt;IFRAME frameborder="0"&gt;'</span>);
				var fr = <span class="reserved">this</span>.ajax_tooltipObj_iframe;
				fr.style.position = <span class="literal">'absolute'</span>;
				fr.id=<span class="literal">'DHTMLSuite_ajax_tooltipObjIframe'</span>;
				fr.border=<span class="literal">'0'</span>;
				fr.frameborder=0;
				fr.style.backgroundColor=<span class="literal">'#FFF'</span>;
				fr.src = <span class="literal">'about:blank'</span>;
				contentDiv.appendChild(fr);
				fr.style.left = <span class="literal">'0px'</span>;
				fr.style.top = <span class="literal">'0px'</span>;
			}
	
				
		}
		<span class="comment">// Find position of tooltip</span>
		<span class="reserved">this</span>.ajax_tooltipObj.style.display=<span class="literal">'block'</span>;
		<span class="reserved">if</span>(externalFile){
			<span class="reserved">this</span>.dynContentObj.loadContent(<span class="literal">'DHTMLSuite_ajax_tooltip_content'</span>,externalFile);
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.ajax_tooltipObj.innerHTML = staticContent;
		}
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			<span class="reserved">this</span>.ajax_tooltipObj_iframe.style.width = <span class="reserved">this</span>.ajax_tooltipObj.clientWidth + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.ajax_tooltipObj_iframe.style.height = <span class="reserved">this</span>.ajax_tooltipObj.clientHeight + <span class="literal">'px'</span>;
		}
	
		<span class="reserved">this</span>.__positionTooltip(inputObj);
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setLayoutCss(newCssFileName)</span>
    <span class="comment">/**
     *	Set new CSS file name
     *
     *	<span class="attrib">@param</span> String newCssFileName - name of new css file. Should be called before any tooltips are displayed on the screen.	
     *
     * <span class="attrib">@public</span>	
     */</span>	
	setLayoutCss : <span class="reserved">function</span>(newCssFileName)
	{
		<span class="reserved">this</span>.layoutCss = newCssFileName;
	}	
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ hideTooltip()</span>
    <span class="comment">/**
     *	Hides the tooltip - should be called in onmouseout events
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>	
	hideTooltip : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.ajax_tooltipObj.style.display=<span class="literal">'none'</span>;
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __positionTooltip()</span>
    <span class="comment">/**
     *	Positions the tooltip
     * 	
     *	<span class="attrib">@param</span> Object inputobject = Reference to element on web page. Used when the script determines where to place the tooltip
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__positionTooltip : <span class="reserved">function</span>(inputObj)
	{
		var leftPos = (DHTMLSuite.commonObj.getLeftPos(inputObj) + inputObj.offsetWidth);
		var topPos = DHTMLSuite.commonObj.getTopPos(inputObj);
		var tooltipWidth = document.getElementById(<span class="literal">'DHTMLSuite_ajax_tooltip_content'</span>).offsetWidth +  document.getElementById(<span class="literal">'DHTMLSuite_ajax_tooltip_arrow'</span>).offsetWidth; 
		
		<span class="reserved">this</span>.ajax_tooltipObj.style.left = leftPos + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.ajax_tooltipObj.style.top = topPos + <span class="literal">'px'</span>;		
	}	
	
	
}
<span class="comment">/*[FILE_START:dhtmlSuite-infoPanel.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML dynamic tooltip script
*
*	Created:						September, 26th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Transforms a regular div into a expandable info pane.
*			
*	Css files used by this script:	info-pane.css
*
*	Demos of this class:			demo-info-pane-1.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Transforms a regular div into a expandable info pane. (&lt;a href="../../demos/demo-info-pane-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

	
DHTMLSuite.infoPanel = <span class="reserved">function</span>()
{
	
	var xpPanel_slideActive;			<span class="comment">// Slide down/up active?</span>
	var xpPanel_slideSpeed ;			<span class="comment">// Speed of slide</span>
	var xpPanel_onlyOneExpandedPane;	<span class="comment">// Only one pane expanded at a time ?	</span>
	var savedActivePane;
	var savedActiveSub;
	var xpPanel_currentDirection;	
	var cookieNames;
	var layoutCSS;
	var arrayOfPanes;
	var dynamicContentObj;
	var paneHeights;					<span class="comment">// Array of info pane heights.</span>
	
	var currentlyExpandedPane = false;
	<span class="reserved">this</span>.xpPanel_slideActive = true;	<span class="comment">// Slide down/up active?</span>
	<span class="reserved">this</span>.xpPanel_slideSpeed = 20;	<span class="comment">// Speed of slide</span>
	<span class="reserved">this</span>.xpPanel_onlyOneExpandedPane = false;	<span class="comment">// Only one pane expanded at a time ?	</span>
	<span class="reserved">this</span>.savedActivePane = false;
	<span class="reserved">this</span>.savedActiveSub = false;
	<span class="reserved">this</span>.xpPanel_currentDirection = new Object();	
	<span class="reserved">this</span>.cookieNames = new Array();	
	<span class="reserved">this</span>.currentlyExpandedPane = false;
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'info-pane.css'</span>;	<span class="comment">// Default css file for this widget.</span>
	<span class="reserved">this</span>.arrayOfPanes = new Array();
	<span class="reserved">this</span>.paneHeights = new Object();
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	try{
		<span class="reserved">this</span>.dynamicContentObj = new DHTMLSuite.dynamicContent();
	}catch(e){
		alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
	}
			
	
		
		
	
}

	
	
DHTMLSuite.infoPanel.<span class="reserved">prototype</span> = {	
	<span class="comment">// {{{ addPane()</span>
    <span class="comment">/**
     *	Define a pane.
     * 	
     *	<span class="attrib">@param</span> String idOfPane = Id of the element you want to transfor into a info pane
     *  <span class="attrib">@param</span> String labelOfPane = The label you want to set for this pane
     *  <span class="attrib">@param</span> Boolean State = Initial state of pane, expanded or collapsed(true = Expanded, false = collapsed)
     *  <span class="attrib">@param</span> nameOfCookie = Name of cookie for this pane, i.e. saving states
     *  <span class="attrib">@param</span> Int width = Width of pane(Optional)
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addPane : <span class="reserved">function</span>(idOfPane,labelOfPane,state,nameOfCookie,width)
	{
		var index = <span class="reserved">this</span>.arrayOfPanes.length;
		<span class="reserved">this</span>.arrayOfPanes[index] = [idOfPane,labelOfPane,state,nameOfCookie,width];
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ addContentToPane()</span>
    <span class="comment">/**
     *	Replace content inside a pane with content from an external file.
     * 	
     *	<span class="attrib">@param</span> String idOfPane = Id of the element you want to transfor into a info pane
     *  <span class="attrib">@param</span> String pathToExternalFile = Relative path to file. The content of this file will be placed inside the info pane.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addContentToPane : <span class="reserved">function</span>(idOfPane,pathToExternalFile)
	{
		var obj = document.getElementById(idOfPane);
		var subDivs = obj.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;subDivs.length;no++){
			<span class="reserved">if</span>(subDivs[no].className==<span class="literal">'DHTMLSuite_infoPaneContent'</span>){
				window.refToThisPane = <span class="reserved">this</span>;		
				<span class="reserved">this</span>.__slidePane(<span class="reserved">this</span>.xpPanel_slideSpeed,subDivs[no].id);			
				<span class="reserved">this</span>.dynamicContentObj.loadContent(subDivs[no].id,pathToExternalFile,<span class="literal">"window.refToThisPane.__resizeAndRepositionPane('"</span> + idOfPane + <span class="literal">"')"</span>);					
				<span class="reserved">if</span>(subDivs[no].parentNode.style.display==<span class="literal">'none'</span> || subDivs[no].parentNode.style.height==<span class="literal">'0px'</span>){	<span class="comment">// Pane is collapsed, expand it</span>
					var topBarObj = DHTMLSuite.domQueryObj.getElementsByClassName(<span class="literal">'DHTMLSuite_infoPaneTopBar'</span>,subDivs[no].parentNode.parentNode);
					<span class="reserved">this</span>.__showHidePaneContent(topBarObj[0]);
				}	
				<span class="reserved">return</span>;	
			}		
		}
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ addStaticContentToPane()</span>
    <span class="comment">/**
     *	Replace content inside a pane with some new static content.
     * 	
     *	<span class="attrib">@param</span> String idOfPane = Id of the element you want to transfor into a info pane
     *  <span class="attrib">@param</span> String newContent = New content. (Static html).
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addStaticContentToPane : <span class="reserved">function</span>(idOfPane,newContent)
	{
		var obj = document.getElementById(idOfPane);
		var subDivs = obj.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;subDivs.length;no++){
			<span class="reserved">if</span>(subDivs[no].className==<span class="literal">'DHTMLSuite_infoPaneContent'</span>){			
				window.refToThisPane = <span class="reserved">this</span>;		
				<span class="reserved">this</span>.__slidePane(<span class="reserved">this</span>.xpPanel_slideSpeed,subDivs[no].id);			
				subDivs[no].innerHTML = newContent;						
				<span class="reserved">if</span>(subDivs[no].parentNode.style.display==<span class="literal">'none'</span> || subDivs[no].parentNode.style.height==<span class="literal">'0px'</span>){	<span class="comment">// Pane is collapsed, expand it</span>
					var topBarObj = DHTMLSuite.domQueryObj.getElementsByClassName(<span class="literal">'DHTMLSuite_infoPaneTopBar'</span>,subDivs[no].parentNode.parentNode);
					<span class="reserved">this</span>.__showHidePaneContent(topBarObj[0]);
				}	
				<span class="reserved">this</span>.__resizeAndRepositionPane(idOfPane);
				<span class="reserved">return</span>;		
			}		
		}
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the script. This method should be called after you have added all your panes.
     * 	
     *	<span class="attrib">@param</span> Object inputobject = Reference to element on web page.
     *
     * <span class="attrib">@public</span>	
     */</span>	
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.arrayOfPanes.length;no++){		<span class="comment">// Loop through panes	</span>
			var tmpDiv = document.getElementById(<span class="reserved">this</span>.arrayOfPanes[no][0]);	<span class="comment">// Creating reference to pane div.</span>
			tmpDiv.className = <span class="literal">'DHTMLSuite_panel'</span>;	<span class="comment">// Assigning it to class DHTMLSuite_panel</span>
			var panelTitle = <span class="reserved">this</span>.arrayOfPanes[no][1];	
			var panelDisplayed = <span class="reserved">this</span>.arrayOfPanes[no][2];
			var nameOfCookie = <span class="reserved">this</span>.arrayOfPanes[no][3];
			var widthOfPane = <span class="reserved">this</span>.arrayOfPanes[no][4];
					
			<span class="reserved">if</span>(widthOfPane)tmpDiv.style.width = widthOfPane;
			
			var outerContentDiv = document.createElement(<span class="literal">'DIV'</span>);	
			var contentDiv = tmpDiv.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
			contentDiv.className = <span class="literal">'DHTMLSuite_infoPaneContent'</span>;
			contentDiv.id = <span class="literal">'infoPaneContent'</span> + no;
			outerContentDiv.appendChild(contentDiv);	
			<span class="reserved">this</span>.cookieNames[<span class="reserved">this</span>.cookieNames.length] = nameOfCookie;
			
			outerContentDiv.id = <span class="literal">'paneContent'</span> + no;
			outerContentDiv.className = <span class="literal">'DHTMLSuite_panelContent'</span>;
			outerContentDiv.style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' + DHTMLSuite.configObj.imagePath + '</span>info-pane/xp-info-pane-bg_pane_right.gif<span class="literal">' + '</span>\<span class="literal">')'</span>;			
			
			var topBar = document.createElement(<span class="literal">'DIV'</span>);
			topBar.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
			topBar.className = <span class="literal">'DHTMLSuite_infoPane_topBar'</span>;
			topBar.style.position=<span class="literal">'relative'</span>;
			
			DHTMLSuite.commonObj.__addEventEl(topBar);
			var span = document.createElement(<span class="literal">'SPAN'</span>);				
			span.innerHTML = panelTitle;
			topBar.appendChild(span);
			topBar.style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' + DHTMLSuite.configObj.imagePath + '</span>info-pane/xp-info-pane-bg_panel_top_right.gif<span class="literal">' + '</span>\<span class="literal">')'</span>;
			window.refToXpPane = <span class="reserved">this</span>;
			topBar.onclick = <span class="reserved">function</span>(){ window.refToXpPane.__showHidePaneContent(<span class="reserved">this</span>) };
			<span class="reserved">if</span>(document.all)topBar.ondblclick = <span class="reserved">function</span>(){ window.refToXpPane.__showHidePaneContent(<span class="reserved">this</span>) };;
			topBar.onmouseover = <span class="reserved">this</span>.__mouseoverTopbar;	<span class="comment">// Adding mouseover effect to heading</span>
			topBar.onmouseout = <span class="reserved">this</span>.__mouseoutTopbar;	<span class="comment">// Adding mouseout effect to heading</span>
			topBar.style.position = <span class="literal">'relative'</span>;	<span class="comment">// Relative positioning of heading</span>

			
			
			var btnDiv = document.createElement(<span class="literal">'DIV'</span>);
			btnDiv.className = <span class="literal">'DHTMLSuite_infoPane_topBar_button'</span>;
			topBar.appendChild(btnDiv);
			
			<span class="reserved">if</span>(nameOfCookie){	<span class="comment">// Cookie defined?</span>
				cookieValue =  DHTMLSuite.commonObj.getCookie(nameOfCookie);	
				<span class="reserved">if</span>(cookieValue)panelDisplayed = cookieValue==1?true:false; <span class="comment">// Cookie value exists? -&gt; Expand or collapse pane.</span>
				
			}
			
			<span class="reserved">if</span>(!panelDisplayed){	<span class="comment">// Hide pane initially.</span>
				outerContentDiv.style.height = <span class="literal">'0px'</span>;
				contentDiv.style.top = 0 - contentDiv.offsetHeight + <span class="literal">'px'</span>;
				<span class="reserved">if</span>(document.all)outerContentDiv.style.display=<span class="literal">'none'</span>;
				btnDiv.className = btnDiv.className + <span class="literal">' DHTMLSuite_infoPane_topBar_buttonDown'</span>;
			}
							
			topBar.className=<span class="literal">'DHTMLSuite_infoPaneTopBar'</span>;
			topBar.id = <span class="literal">'infoPane_topBar'</span> + no;
			tmpDiv.appendChild(topBar);				
			tmpDiv.appendChild(outerContentDiv);	
		}
	}		
	<span class="comment">// }}}			</span>
	,	
	<span class="comment">// {{{ __resizeAndRepositionPane()</span>
    <span class="comment">/**
     *	Fixes the layout of a pane after content has been added to it dynamically.
     * 	
     *	<span class="attrib">@param</span> String idOfPane = Id of the pane
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__resizeAndRepositionPane : <span class="reserved">function</span>(idOfPane)
	{
		var obj = document.getElementById(idOfPane);
		var subDivs = obj.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;subDivs.length;no++){
			<span class="reserved">if</span>(subDivs[no].className==<span class="literal">'DHTMLSuite_panelContent'</span>){	
				subDivs[no].style.overflow = <span class="literal">'auto'</span>;	
				subDivs[no].style.height = <span class="literal">''</span>;		
				var contentDiv = subDivs[no].getElementsByTagName(<span class="literal">'DIV'</span>)[0];				
				var tmpHeight = subDivs[no].clientHeight;
				tmpHeight = subDivs[no].offsetHeight;				
				subDivs[no].style.height = tmpHeight + <span class="literal">'px'</span>;
				<span class="reserved">if</span>(tmpHeight)<span class="reserved">this</span>.paneHeights[subDivs[no].id] = tmpHeight;
				subDivs[no].style.top = <span class="literal">'0px'</span>;
				subDivs[no].style.overflow = <span class="literal">'hidden'</span>;
				var subSub = subDivs[no].getElementsByTagName(<span class="literal">'DIV'</span>)[0];
				subSub.style.top = <span class="literal">'0px'</span>;
			}		
		}
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __showHidePaneContent()</span>
    <span class="comment">/**
     *	Expand or collapse a frame
     * 	
     *	<span class="attrib">@param</span> Object inputobject = Reference to element on web page.
     *	<span class="attrib">@param</span> String methodWhenFinished = Method to execute when slide is finished(optional)
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__showHidePaneContent : <span class="reserved">function</span>(inputObj,methodWhenFinished)
	{
		var div = inputObj.getElementsByTagName(<span class="literal">'div'</span>)[0];
		var numericId = inputObj.id.replace(/[^0-9]/g,<span class="literal">''</span>);
		var obj = document.getElementById(<span class="literal">'paneContent'</span> + numericId);
		
		<span class="reserved">if</span>(div.className.indexOf(<span class="literal">'DHTMLSuite_infoPane_topBar_buttonDown'</span>)==-1){
			<span class="reserved">this</span>.currentlyExpandedPane = false;
			div.className = div.className + <span class="literal">' DHTMLSuite_infoPane_topBar_buttonDown'</span>;
			<span class="reserved">if</span>(<span class="reserved">this</span>.xpPanel_slideActive){
				obj.style.display=<span class="literal">'block'</span>;
				<span class="reserved">this</span>.xpPanel_currentDirection[obj.id] = (<span class="reserved">this</span>.xpPanel_slideSpeed*-1);
				<span class="reserved">this</span>.__slidePane((<span class="reserved">this</span>.xpPanel_slideSpeed*-1), obj.id,methodWhenFinished);
			}<span class="reserved">else</span>{
				obj.style.display=<span class="literal">'none'</span>;
			}
			<span class="reserved">if</span>(<span class="reserved">this</span>.cookieNames[numericId])DHTMLSuite.commonObj.setCookie(<span class="reserved">this</span>.cookieNames[numericId],<span class="literal">'0'</span>,100000);
		}<span class="reserved">else</span>{
			<span class="reserved">if</span>(inputObj){
				<span class="reserved">if</span>(<span class="reserved">this</span>.currentlyExpandedPane &amp;&amp; <span class="reserved">this</span>.xpPanel_onlyOneExpandedPane)<span class="reserved">this</span>.__showHidePaneContent(<span class="reserved">this</span>.currentlyExpandedPane);
				<span class="reserved">this</span>.currentlyExpandedPane = inputObj;	
			}
			div.className = div.className.replace(<span class="literal">' DHTMLSuite_infoPane_topBar_buttonDown'</span>,<span class="literal">''</span>);
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.xpPanel_slideActive){
				<span class="reserved">if</span>(document.all){
					obj.style.display=<span class="literal">'block'</span>;
				}
				<span class="reserved">this</span>.xpPanel_currentDirection[obj.id] = <span class="reserved">this</span>.xpPanel_slideSpeed;
				<span class="reserved">this</span>.__slidePane(<span class="reserved">this</span>.xpPanel_slideSpeed,obj.id,methodWhenFinished);
			}<span class="reserved">else</span>{
				obj.style.display=<span class="literal">'block'</span>;
				subDiv = obj.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
				obj.style.height = subDiv.offsetHeight + <span class="literal">'px'</span>;
			}
			<span class="reserved">if</span>(<span class="reserved">this</span>.cookieNames[numericId])DHTMLSuite.commonObj.setCookie(<span class="reserved">this</span>.cookieNames[numericId],<span class="literal">'1'</span>,100000);
		}	
		<span class="reserved">return</span> true;	
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __slidePane()</span>
    <span class="comment">/**
     *	Animating expand/collapse
     * 	
     *	<span class="attrib">@param</span> Int slideValue = Positive or negative value, positive when expanding, negative when collapsing
     *  <span class="attrib">@param</span> String id = Id of the pane currently being expanded/collapsed.
     *	<span class="attrib">@param</span> String methodWhenFinished = Method to execute when slide is finished(optional)
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__slidePane : <span class="reserved">function</span>(slideValue,id,methodWhenFinished)
	{
		<span class="reserved">if</span>(slideValue!=<span class="reserved">this</span>.xpPanel_currentDirection[id]){
			<span class="reserved">return</span> false;
		}
		var activePane = document.getElementById(id);
		<span class="reserved">if</span>(activePane==<span class="reserved">this</span>.savedActivePane){
			var subDiv = <span class="reserved">this</span>.savedActiveSub;
		}<span class="reserved">else</span>{
			var subDiv = activePane.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
		}
		<span class="reserved">this</span>.savedActivePane = activePane;
		<span class="reserved">this</span>.savedActiveSub = subDiv;
		
		var height = activePane.offsetHeight;
		var innerHeight = subDiv.offsetHeight;
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneHeights[activePane.id])innerHeight = <span class="reserved">this</span>.paneHeights[activePane.id];
		height+=slideValue;
		<span class="reserved">if</span>(height&lt;0)height=0;
		<span class="reserved">if</span>(height&gt;innerHeight)height = innerHeight;
		
		<span class="reserved">if</span>(document.all){
			activePane.style.filter = <span class="literal">'alpha(opacity='</span> + Math.round((height / innerHeight)*100) + <span class="literal">')'</span>;
		}<span class="reserved">else</span>{
			var opacity = (height / innerHeight);
			<span class="reserved">if</span>(opacity==0)opacity=0.01;
			<span class="reserved">if</span>(opacity==1)opacity = 0.99;
			activePane.style.opacity = opacity;
		}			
		window.refToThisInfoPane = <span class="reserved">this</span>;
		<span class="reserved">if</span>(slideValue&lt;0){			
			activePane.style.height = height + <span class="literal">'px'</span>;
			subDiv.style.top = height - innerHeight + <span class="literal">'px'</span>;
			<span class="reserved">if</span>(height&gt;0){
				setTimeout(<span class="literal">'window.refToThisInfoPane.__slidePane('</span> + slideValue + <span class="literal">',"'</span> + id + <span class="literal">'","'</span> + methodWhenFinished + <span class="literal">'")'</span>,10);
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(document.all)activePane.style.display=<span class="literal">'none'</span>;
				<span class="reserved">if</span>(methodWhenFinished)eval(methodWhenFinished);
			}
		}<span class="reserved">else</span>{			
			subDiv.style.top = height - innerHeight + <span class="literal">'px'</span>;
			activePane.style.height = height + <span class="literal">'px'</span>;
			<span class="reserved">if</span>(height&lt;innerHeight){				
				setTimeout(<span class="literal">'window.refToThisInfoPane.__slidePane('</span> + slideValue + <span class="literal">',"'</span> + id + <span class="literal">'","'</span> + methodWhenFinished + <span class="literal">'")'</span>,10);				
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(methodWhenFinished)eval(methodWhenFinished);
			}		
		}		
	}
	,
	<span class="comment">// {{{ __mouseoverTopbar()</span>
    <span class="comment">/**
     *	Toolbar mouse over effect.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoverTopbar : <span class="reserved">function</span>()
	{
		var div = <span class="reserved">this</span>.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
		div.className = div.className + <span class="literal">' DHTMLSuite_infoPaneButton_over'</span>;
		
		var span = <span class="reserved">this</span>.getElementsByTagName(<span class="literal">'SPAN'</span>)[0];
		span.className = <span class="literal">'DHTMLSuite_infoPanelOver'</span>;	
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __mouseoutTopbar()</span>
    <span class="comment">/**
     *	Toolbar mouse out effect.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoutTopbar : <span class="reserved">function</span>()
	{
		var div = <span class="reserved">this</span>.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
		div.className = div.className.replace(<span class="literal">' DHTMLSuite_infoPaneButton_over'</span>,<span class="literal">''</span>);	
		
		var span = <span class="reserved">this</span>.getElementsByTagName(<span class="literal">'SPAN'</span>)[0];
		span.className=<span class="literal">''</span>;
	}
}
<span class="comment">/*[FILE_START:dhtmlSuite-progressBar.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML progress bar script
*
*	Created:						October, 21st, 2006
*	<span class="attrib">@class</span> Purpose of class:		Display a progress bar while content loads or dynamic content is created on the server.
*			
*	Css files used by this script:	progress-bar.css
*
*	Demos of this class:			demo-progress-bar.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates a progress bar. (&lt;a href="../../demos/demo-progress-bar-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>


DHTMLSuite.progressBar = <span class="reserved">function</span>()
{

	var progressBar_steps;
	var div_progressPane;
	var div_progressBar_bg;
	var div_progressBar_outer;
	var div_progressBar_txt;
	
	var progressBarWidth;
	var currentStep;
	var layoutCSS;
	
	<span class="reserved">this</span>.progressBar_steps = 50;
	<span class="reserved">this</span>.progressPane = false;
	<span class="reserved">this</span>.progressBar_bg = false;
	<span class="reserved">this</span>.progressBar_outer = false;
	<span class="reserved">this</span>.progressBar_txt = false;
	<span class="reserved">this</span>.progressBarWidth;
	<span class="reserved">this</span>.currentStep = 0;	
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'progress-bar.css'</span>;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
}

DHTMLSuite.progressBar.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ setSteps()</span>
    <span class="comment">/**
     *	Initializes the progress bar script
     *
     *	<span class="attrib">@param</span> Int numberOfSteps - Number of progress bar steps, example: 50 will show 2%,4%,6%...98%,100%.
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>			
	setSteps : <span class="reserved">function</span>(numberOfSteps)
	{
		<span class="reserved">this</span>.progressBar_steps = numberOfSteps;		
	}
	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the progress bar script
     *
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	init : <span class="reserved">function</span>()
	{		
		document.body.style.width = <span class="literal">'100%'</span>;
		document.body.style.height = <span class="literal">'100%'</span>;
		document.documentElement.style.overflow = <span class="literal">'hidden'</span>;
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__createDivElementsForTheProgressBar();	
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ moveProgressBar()</span>
    <span class="comment">/**
     *	Moves the progress bar
     *
     *	<span class="attrib">@param</span> Int Steps: Number of steps to move it. (Optional argument, if left empty, set the progress bar to 100% and hide it).
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>	
	moveProgressBar : <span class="reserved">function</span>(steps){
		<span class="reserved">this</span>.progressBarWidth = <span class="reserved">this</span>.div_progressBar_bg.clientWidth;
		<span class="reserved">if</span>(!steps){
			<span class="reserved">this</span>.div_progressBar_outer.style.width = progressBarWidth + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.div_progressBar_txt.innerHTML = <span class="literal">'100%'</span>;
			<span class="reserved">this</span>.__hideProgressBar();
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.currentStep+=steps;
			<span class="reserved">if</span>(<span class="reserved">this</span>.currentStep&gt;<span class="reserved">this</span>.progressBar_steps)<span class="reserved">this</span>.currentStep = <span class="reserved">this</span>.progressBar_steps;
			var width = Math.ceil(<span class="reserved">this</span>.progressBarWidth * (<span class="reserved">this</span>.currentStep / <span class="reserved">this</span>.progressBar_steps));
			<span class="reserved">this</span>.div_progressBar_outer.style.width = width + <span class="literal">'px'</span>;
			
			var percent = Math.ceil((<span class="reserved">this</span>.currentStep / <span class="reserved">this</span>.progressBar_steps)*100);
			<span class="reserved">this</span>.div_progressBar_txt.innerHTML = percent + <span class="literal">'%'</span>;
			<span class="reserved">if</span>(<span class="reserved">this</span>.currentStep==<span class="reserved">this</span>.progressBar_steps){
				<span class="reserved">this</span>.__hideProgressBar();			
			}
		}	
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __hideProgressBar()</span>
    <span class="comment">/**
     *	Hides the progress bar when it's finished
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__hideProgressBar : <span class="reserved">function</span>()
	{
		document.body.style.width = null;
		document.body.style.height = null;		
		document.documentElement.style.overflow = <span class="literal">''</span>;		
		setTimeout(<span class="literal">'document.getElementById("DHTMLSuite_progressPane").style.display="none"'</span>,50);
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __createDivElementsForTheProgressBar()</span>
    <span class="comment">/**
     *	Create the divs needed for the progress bar script
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__createDivElementsForTheProgressBar: <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.div_progressPane = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.div_progressPane.id = <span class="literal">'DHTMLSuite_progressPane'</span>;
		document.body.appendChild(<span class="reserved">this</span>.div_progressPane);
		
		<span class="reserved">this</span>.div_progressBar_bg = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.div_progressBar_bg.id = <span class="literal">'DHTMLSuite_progressBar_bg'</span>;
		<span class="reserved">this</span>.div_progressPane.appendChild(<span class="reserved">this</span>.div_progressBar_bg);		
		
		<span class="reserved">this</span>.div_progressBar_outer = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.div_progressBar_outer.id=<span class="literal">'DHTMLSuite_progressBar_outer'</span>;
		<span class="reserved">this</span>.div_progressBar_bg.appendChild(<span class="reserved">this</span>.div_progressBar_outer);

		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.id=<span class="literal">'DHTMLSuite_progressBar'</span>;
		<span class="reserved">this</span>.div_progressBar_outer.appendChild(div);
		
		<span class="reserved">this</span>.div_progressBar_txt = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.div_progressBar_txt.id=<span class="literal">'DHTMLSuite_progressBar_txt'</span>;
		<span class="reserved">this</span>.div_progressBar_txt.innerHTML = <span class="literal">'0 %'</span>;
		<span class="reserved">this</span>.div_progressBar_bg.appendChild(<span class="reserved">this</span>.div_progressBar_txt);			
	}		
}

<span class="comment">/*[FILE_START:dhtmlSuite-menuModel.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML menu model item class
*
*	Created:						October, 30th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Save data about a menu item.
*			
*
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> The purpose of this class is to store data about a menu item. menuModelItem
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* 
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.menuModelItem = <span class="reserved">function</span>()
{
	var id;					<span class="comment">// id of this menu item.</span>
	var itemText;			<span class="comment">// Text for this menu item</span>
	var itemIcon;			<span class="comment">// Icon for this menu item.</span>
	var url;				<span class="comment">// url when click on this menu item</span>
	var parentId;			<span class="comment">// id of parent element</span>
	var separator;			<span class="comment">// is this menu item a separator</span>
	var jsFunction;			<span class="comment">// Js function to call onclick</span>
	var depth;				<span class="comment">// Depth of this menu item.</span>
	var hasSubs;			<span class="comment">// Does this menu item have sub items.</span>
	var type;				<span class="comment">// Menu item type - possible values: "top" or "sub". </span>
	var helpText;			<span class="comment">// Help text for this item - appear when you move your mouse over the item.</span>
	var state;
	var submenuWidth;		<span class="comment">// Width of sub menu items.</span>
	var visible;			<span class="comment">// Visibility of menu item.</span>
	
	<span class="reserved">this</span>.state = <span class="literal">'regular'</span>;
}

DHTMLSuite.menuModelItem.<span class="reserved">prototype</span> = {

	setMenuVars : <span class="reserved">function</span>(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth)	
	{
		<span class="reserved">this</span>.id = id;
		<span class="reserved">this</span>.itemText = itemText;
		<span class="reserved">this</span>.itemIcon = itemIcon;
		<span class="reserved">this</span>.url = url;
		<span class="reserved">this</span>.parentId = parentId;
		<span class="reserved">this</span>.jsFunction = jsFunction;
		<span class="reserved">this</span>.separator = false;
		<span class="reserved">this</span>.depth = false;
		<span class="reserved">this</span>.hasSubs = false;
		<span class="reserved">this</span>.helpText = helpText;
		<span class="reserved">this</span>.submenuWidth = submenuWidth;
		<span class="reserved">this</span>.visible = true;
		<span class="reserved">if</span>(!type){
			<span class="reserved">if</span>(<span class="reserved">this</span>.parentId)<span class="reserved">this</span>.type = <span class="literal">'top'</span>; <span class="reserved">else</span> <span class="reserved">this</span>.type=<span class="literal">'sub'</span>;
		}<span class="reserved">else</span> <span class="reserved">this</span>.type = type;
		

	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setState()</span>
    <span class="comment">/**
     *	Update the state attribute of a menu item.
     *
     *  <span class="attrib">@param</span> String newState New state of this item
     * <span class="attrib">@public</span>	
     */</span>		
	setAsSeparator : <span class="reserved">function</span>(id,parentId)
	{
		<span class="reserved">this</span>.id = id;
		<span class="reserved">this</span>.parentId = parentId;
		<span class="reserved">this</span>.separator = true;	
		<span class="reserved">this</span>.visible = true;
		<span class="reserved">if</span>(<span class="reserved">this</span>.parentId)<span class="reserved">this</span>.type = <span class="literal">'top'</span>; <span class="reserved">else</span> <span class="reserved">this</span>.type=<span class="literal">'sub'</span>;		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setState()</span>
    <span class="comment">/**
     *	Update the visible attribute of a menu item.
     *
     *  <span class="attrib">@param</span> Boolean visible true = visible, false = hidden.
     * <span class="attrib">@public</span>	
     */</span>		
	setVisibility : <span class="reserved">function</span>(visible)
	{
		<span class="reserved">this</span>.visible = visible;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ getState()</span>
    <span class="comment">/**
     *	Return the state attribute of a menu item.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	getState : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.state;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setState()</span>
    <span class="comment">/**
     *	Update the state attribute of a menu item.
     *
     *  <span class="attrib">@param</span> String newState New state of this item
     * <span class="attrib">@public</span>	
     */</span>		
	setState : <span class="reserved">function</span>(newState)
	{
		<span class="reserved">this</span>.state = newState;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setSubMenuWidth()</span>
    <span class="comment">/**
     *	Specify width of direct subs of this item.
     *
     *  <span class="attrib">@param</span> int newWidth Width of sub menu group(direct sub of this item)
     * <span class="attrib">@public</span>	
     */</span>		
	setSubMenuWidth : <span class="reserved">function</span>(newWidth)
	{
		<span class="reserved">this</span>.submenuWidth = newWidth;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setIcon()</span>
    <span class="comment">/**
     *	Specify new menu icon
     *
     *  <span class="attrib">@param</span> String iconPath Path to new menu icon
     * <span class="attrib">@public</span>	
     */</span>		
	setIcon : <span class="reserved">function</span>(iconPath)
	{
		<span class="reserved">this</span>.itemIcon = iconPath;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setText()</span>
    <span class="comment">/**
     *	Specify new text for the menu item.
     *
     *  <span class="attrib">@param</span> String newText New text for the menu item.
     * <span class="attrib">@public</span>	
     */</span>		
	setText : <span class="reserved">function</span>(newText)
	{
		<span class="reserved">this</span>.itemText = newText;
	}
}

<span class="comment">/************************************************************************************************************
*	DHTML menu model class
*
*	Created:						October, 30th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Saves menu item data
*			
*
*	Demos of this class:			demo-menu-strip.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Organize menu items for different menu widgets. demos of menus: (&lt;a href="../../demos/demo-menu-strip.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>


DHTMLSuite.menuModel = <span class="reserved">function</span>()
{
	var menuItems;					<span class="comment">// Array of menuModelItem objects</span>
	var menuItemsOrder;			<span class="comment">// This array is needed in order to preserve the correct order of the array above. the array above is associative</span>
									<span class="comment">// And some browsers will loop through that array in different orders than Firefox and IE.</span>
	var submenuType;				<span class="comment">// Direction of menu items(one item for each depth)</span>
	var mainMenuGroupWidth;			<span class="comment">// Width of menu group - useful if the first group of items are listed below each other</span>
	<span class="reserved">this</span>.menuItems = new Object();
	<span class="reserved">this</span>.menuItemsOrder = new Array();
	<span class="reserved">this</span>.submenuType = new Array();
	<span class="reserved">this</span>.submenuType[1] = <span class="literal">'top'</span>;
	<span class="reserved">for</span>(var no=2;no&lt;20;no++){
		<span class="reserved">this</span>.submenuType[no] = <span class="literal">'sub'</span>;
	}
	try{		
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
}

DHTMLSuite.menuModel.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ addItem()</span>
    <span class="comment">/**
     *	Add separator (special type of menu item)
     *
 	 *
     *
     *  <span class="attrib">@param</span> int id of menu item
     *  <span class="attrib">@param</span> string itemText = text of menu item
     *  <span class="attrib">@param</span> string itemIcon = file name of menu icon(in front of menu text. Path will be imagePath for the DHTMLSuite + file name)
     *  <span class="attrib">@param</span> string url = Url of menu item
     *  <span class="attrib">@param</span> int parent id of menu item     
     *  <span class="attrib">@param</span> String jsFunction Name of javascript function to execute. It will replace the url param. The function with this name will be called and the element triggering the action will be 
     *					sent as argument. Name of the element which triggered the menu action may also be sent as a second argument. That depends on the widget. The context menu is an example where
     *					the element triggering the context menu is sent as second argument to this function.    
     *
     * <span class="attrib">@public</span>	
     */</span>			
	addItem : <span class="reserved">function</span>(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth)
	{
		<span class="reserved">if</span>(!id)id = <span class="reserved">this</span>.__getUniqueId();	<span class="comment">// id not present - create it dynamically.</span>
		try{
			<span class="reserved">this</span>.menuItems[id] = new DHTMLSuite.menuModelItem();
		}catch(e){
			alert(<span class="literal">'Error: You need to include dhtmlSuite-menuModel.js in your html file'</span>);
		}
		<span class="reserved">this</span>.menuItems[id].setMenuVars(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth);
		<span class="reserved">this</span>.menuItemsOrder[<span class="reserved">this</span>.menuItemsOrder.length] = id;
		<span class="reserved">return</span> <span class="reserved">this</span>.menuItems[id];
	}
	,
	<span class="comment">// {{{ addItemsFromMarkup()</span>
    <span class="comment">/**
     *	This method creates all the menuModelItem objects by reading it from existing markup on your page.
     *	Example of HTML markup:
     *&lt;br&gt;
		&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;ul id="menuModel"&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="50000" itemIcon="../images/disk.gif"&gt;&amp;lt;a href="#" title="Open the file menu"&gt;File&amp;lt;/a&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;ul width="150"&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500001" jsFunction="saveWork()" itemIcon="../images/disk.gif"&gt;&amp;lt;a href="#" title="Save your work"&gt;Save&amp;lt;/a&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500002"&gt;&amp;lt;a href="#"&gt;Save As&amp;lt;/a&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500004" itemType="separator"&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500003"&gt;&amp;lt;a href="#"&gt;Open&amp;lt;/a&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/ul&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="50001"&gt;&amp;lt;a href="#"&gt;View&amp;lt;/a&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;ul width="130"&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500011"&gt;&amp;lt;a href="#"&gt;Source&amp;lt;/a&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500012"&gt;&amp;lt;a href="#"&gt;Debug info&amp;lt;/a&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="500013"&gt;&amp;lt;a href="#"&gt;Layout&amp;lt;/a&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;ul width="150"&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="5000131"&gt;&amp;lt;a href="#"&gt;CSS&amp;lt;/a&gt;&amp;nbsp;&amp;nbsp;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="5000132"&gt;&amp;lt;a href="#"&gt;HTML&amp;lt;/a&gt;&amp;nbsp;&amp;nbsp;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="5000133"&gt;&amp;lt;a href="#"&gt;Javascript&amp;lt;/a&gt;&amp;nbsp;&amp;nbsp;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/ul&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/ul&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="50003" itemType="separator"&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;li id="50002"&gt;&amp;lt;a href="#"&gt;Tools&amp;lt;/a&gt;&amp;lt;/li&gt;
		&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/ul&gt;&amp;nbsp;&amp;nbsp;     
     *
     *  <span class="attrib">@param</span> String ulId = ID of &lt;UL&gt; tag on your page.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addItemsFromMarkup : <span class="reserved">function</span>(ulId)
	{
		<span class="reserved">if</span>(!document.getElementById(ulId)){
			alert(<span class="literal">'&lt;UL&gt; tag with id '</span> + ulId + <span class="literal">' does not exist'</span>);
			<span class="reserved">return</span>;
		}
		var ulObj = document.getElementById(ulId);
		var liTags = ulObj.getElementsByTagName(<span class="literal">'LI'</span>);		
		<span class="reserved">for</span>(var no=0;no&lt;liTags.length;no++){	<span class="comment">// Walking through all &lt;li&gt; tags in the &lt;ul&gt; tree</span>
			
			var id = liTags[no].id.replace(/[^0-9]/gi,<span class="literal">''</span>);	<span class="comment">// Get id of item.</span>
			<span class="reserved">if</span>(!id || <span class="reserved">this</span>.menuItems[id])id = <span class="reserved">this</span>.__getUniqueId();
			try{
				<span class="reserved">this</span>.menuItems[id] = new DHTMLSuite.menuModelItem();	<span class="comment">// Creating new menuModelItem object</span>
			}catch(e){
				alert(<span class="literal">'Error: You need to include dhtmlSuite-menuModel.js in your html file'</span>);
			}
			<span class="reserved">this</span>.menuItemsOrder[<span class="reserved">this</span>.menuItemsOrder.length] = id;
			<span class="comment">// Get the attributes for this new menu item.	</span>
			
			var parentId = 0;	<span class="comment">// Default parent id</span>
			<span class="reserved">if</span>(liTags[no].parentNode!=ulObj)parentId = liTags[no].parentNode.parentNode.id;	<span class="comment">// parent node exists, set parentId equal to id of parent &lt;li&gt;.</span>
						
			<span class="comment">/* Checking type */</span>
			var type = liTags[no].getAttribute(<span class="literal">'itemType'</span>);			
			<span class="reserved">if</span>(!type)type = liTags[no].itemType;
			<span class="reserved">if</span>(type==<span class="literal">'separator'</span>){	<span class="comment">// Menu item of type "separator"</span>
				<span class="reserved">this</span>.menuItems[id].setAsSeparator(id,parentId);
				continue;	
			}
			<span class="reserved">if</span>(parentId)type=<span class="literal">'sub'</span>; <span class="reserved">else</span> type = <span class="literal">'top'</span>;						
	
			var aTag = liTags[no].getElementsByTagName(<span class="literal">'A'</span>)[0];	<span class="comment">// Get a reference to sub &lt;a&gt; tag</span>
			<span class="reserved">if</span>(!aTag){
				continue;
			}			
			<span class="reserved">if</span>(aTag)var itemText = aTag.innerHTML;	<span class="comment">// Item text is set to the innerHTML of the &lt;a&gt; tag.</span>
			var itemIcon = liTags[no].getAttribute(<span class="literal">'itemIcon'</span>);	<span class="comment">// Item icon is set from the itemIcon attribute of the &lt;li&gt; tag.</span>
			var url = aTag.href;	<span class="comment">// url is set to the href attribute of the &lt;a&gt; tag</span>
			<span class="reserved">if</span>(url==<span class="literal">'#'</span> || url.substr(url.length-1,1)==<span class="literal">'#'</span>)url=<span class="literal">''</span>;	<span class="comment">// # = empty url.</span>
			
			var jsFunction = liTags[no].getAttribute(<span class="literal">'jsFunction'</span>);	<span class="comment">// jsFunction is set from the jsFunction attribute of the &lt;li&gt; tag.</span>

			var submenuWidth = false;	<span class="comment">// Not set from the &lt;li&gt; tag. </span>
			var helpText = aTag.getAttribute(<span class="literal">'title'</span>);	
			<span class="reserved">if</span>(!helpText)helpText = aTag.title;
			
			<span class="reserved">this</span>.menuItems[id].setMenuVars(id,itemText,itemIcon,url,parentId,helpText,jsFunction,type,submenuWidth);			
		}		
		var subUls = ulObj.getElementsByTagName(<span class="literal">'UL'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;subUls.length;no++){
			var width = subUls[no].getAttribute(<span class="literal">'width'</span>);
			<span class="reserved">if</span>(!width)width = subUls[no].width;	
			<span class="reserved">if</span>(width){
				var id = subUls[no].parentNode.id.replace(/[^0-9]/gi,<span class="literal">''</span>);
				<span class="reserved">this</span>.setSubMenuWidth(id,width);
			}
		}		
		ulObj.style.display=<span class="literal">'none'</span>;
		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setSubMenuWidth()</span>
    <span class="comment">/**
     *	This method specifies the width of a sub menu group. This is a useful method in order to get a correct width in IE6 and prior.
     *
     *  <span class="attrib">@param</span> int id = ID of parent menu item
     *  <span class="attrib">@param</span> String newWidth = Width of sub menu items.
     * <span class="attrib">@public</span>	
     */</span>		
	setSubMenuWidth : <span class="reserved">function</span>(id,newWidth)
	{
		<span class="reserved">this</span>.menuItems[id].setSubMenuWidth(newWidth);
	}	
	,
	<span class="comment">// {{{ setMainMenuGroupWidth()</span>
    <span class="comment">/**
     *	Add separator (special type of menu item)
     *
     *  <span class="attrib">@param</span> String newWidth = Size of a menu group
     *  <span class="attrib">@param</span> int parent id of menu item
     * <span class="attrib">@public</span>	
     */</span>			
	setMainMenuGroupWidth : <span class="reserved">function</span>(newWidth)
	{
		<span class="reserved">this</span>.mainMenuGroupWidth = newWidth;
	}
	,
	<span class="comment">// {{{ addSeparator()</span>
    <span class="comment">/**
     *	Add separator (special type of menu item)
     *
     *  <span class="attrib">@param</span> int parent id of menu item
     * <span class="attrib">@public</span>	
     */</span>		
	addSeparator : <span class="reserved">function</span>(parentId)
	{
		id = <span class="reserved">this</span>.__getUniqueId();	<span class="comment">// Get unique id</span>
		<span class="reserved">if</span>(!parentId)parentId = 0;
		try{
			<span class="reserved">this</span>.menuItems[id] = new DHTMLSuite.menuModelItem();
		}catch(e){
			alert(<span class="literal">'Error: You need to include dhtmlSuite-menuModel.js in your html file'</span>);
		}
		<span class="reserved">this</span>.menuItems[id].setAsSeparator(id,parentId);
		<span class="reserved">this</span>.menuItemsOrder[<span class="reserved">this</span>.menuItemsOrder.length] = id;
		<span class="reserved">return</span> <span class="reserved">this</span>.menuItems[id];
	}	
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initilizes the menu model. This method should be called when all items has been added to the model.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	init : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__getDepths();	
		<span class="reserved">this</span>.__setHasSubs();	
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setMenuItemVisibility()</span>
    <span class="comment">/**
     *	Save visibility of a menu item.
     * 	
     *	<span class="attrib">@param</span> int id = Id of menu item..
     *	<span class="attrib">@param</span> Boolean visible = Visibility of menu item.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setMenuItemVisibility : <span class="reserved">function</span>(id,visible)
	{
		<span class="reserved">this</span>.menuItems[id].setVisibility(visible);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSubMenuType()</span>
    <span class="comment">/**
     *	Set menu type for a specific menu depth.
     * 	
     *	<span class="attrib">@param</span> int depth = 1 = Top menu, 2 = Sub level 1...
     *	<span class="attrib">@param</span> String newType = New menu type(possible values: "top" or "sub")
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSubMenuType : <span class="reserved">function</span>(depth,newType)
	{
		<span class="reserved">this</span>.submenuType[depth] = newType;	
		<span class="reserved">this</span>.__getDepths();
		
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ getItems()</span>
    <span class="comment">/**
     *	return an array of all menu items or a branch of menu items.
     *	<span class="attrib">@param</span> String parentId - id of parent node
     * 	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	getItems : <span class="reserved">function</span>(parentId,returnArray)
	{
		<span class="reserved">if</span>(!parentId)<span class="reserved">return</span> <span class="reserved">this</span>.menuItems;
		<span class="reserved">if</span>(!returnArray)returnArray = new Array();
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemsOrder.length;no++){
			var id = <span class="reserved">this</span>.menuItemsOrder[no];
			<span class="reserved">if</span>(!id)continue;
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[id].parentId==parentId){
				returnArray[returnArray.length] = <span class="reserved">this</span>.menuItems[id];
				<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[id].hasSubs)<span class="reserved">return</span> <span class="reserved">this</span>.getItems(<span class="reserved">this</span>.menuItems[id].id,returnArray);
			}
		}
		<span class="reserved">return</span> returnArray;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getUniqueId()</span>
    <span class="comment">/**
     *	Returns a unique id for a menu item. This method is used by the addSeparator function in case an id isn't sent to the method.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	    	
	__getUniqueId : <span class="reserved">function</span>()
	{
		var num = Math.random() + <span class="literal">''</span>;
		num = num.replace(<span class="literal">'.'</span>,<span class="literal">''</span>);	
		num = <span class="literal">'99'</span> + num;		
		num = num /1;		
		<span class="reserved">while</span>(<span class="reserved">this</span>.menuItems[num]){
			num = Math.random() + <span class="literal">''</span>;
			num = num.replace(<span class="literal">'.'</span>,<span class="literal">''</span>);	
			num = num /1;				
		}
		<span class="reserved">return</span> num;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __getDepths()</span>
    <span class="comment">/**
     *	Create variable for the depth of each menu item.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __getDepths : <span class="reserved">function</span>()
    {    	
    	<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemsOrder.length;no++){
    		var id = <span class="reserved">this</span>.menuItemsOrder[no];
    		<span class="reserved">if</span>(!id)continue;
    		<span class="reserved">this</span>.menuItems[id].depth = 1;
    		<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[id].parentId){
    			<span class="reserved">this</span>.menuItems[id].depth = <span class="reserved">this</span>.menuItems[<span class="reserved">this</span>.menuItems[id].parentId].depth+1;    
 	
    		}  
    		<span class="reserved">this</span>.menuItems[id].type = <span class="reserved">this</span>.submenuType[<span class="reserved">this</span>.menuItems[id].depth];	<span class="comment">// Save menu direction for this menu item.  		</span>
    	}    	
    }	
    <span class="comment">// }}}</span>
    ,	    
    <span class="comment">// {{{ __setHasSubs()</span>
    <span class="comment">/**
     *	Create variable for the depth of each menu item.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __setHasSubs : <span class="reserved">function</span>()
    {    	
    	<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemsOrder.length;no++){
    		var id = <span class="reserved">this</span>.menuItemsOrder[no];
    		<span class="reserved">if</span>(!id)continue;    		
    		<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[id].parentId){
    			<span class="reserved">this</span>.menuItems[<span class="reserved">this</span>.menuItems[id].parentId].hasSubs = 1;
    			
    		}    		
    	}    	
    }	
    <span class="comment">// }}}</span>
    ,
	<span class="comment">// {{{ __hasSubs()</span>
    <span class="comment">/**
     *	Does a menu item have sub elements ?
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	<span class="comment">// }}}	</span>
	__hasSubs : <span class="reserved">function</span>(id)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemsOrder.length;no++){
			var id = <span class="reserved">this</span>.menuItemsOrder[no];
			<span class="reserved">if</span>(!id)continue;
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[id].parentId==id)<span class="reserved">return</span> true;		
		}
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteChildNodes()</span>
    <span class="comment">/**
     *	Deleting child nodes of a specific parent id
     * 	
     *	<span class="attrib">@param</span> int parentId
     *
     * <span class="attrib">@private</span>	
     */</span>	
	<span class="comment">// }}}		</span>
	__deleteChildNodes : <span class="reserved">function</span>(parentId,recursive)
	{
		var itemsToDeleteFromOrderArray = new Array();
		<span class="reserved">for</span>(var prop=0;prop&lt;<span class="reserved">this</span>.menuItemsOrder.length;prop++){
    		var id = <span class="reserved">this</span>.menuItemsOrder[prop];
    		<span class="reserved">if</span>(!id)continue;    
    					
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[id].parentId==parentId &amp;&amp; parentId){
				<span class="reserved">this</span>.menuItems[id] = false;
				itemsToDeleteFromOrderArray[itemsToDeleteFromOrderArray.length] = id;				
				<span class="reserved">this</span>.__deleteChildNodes(id,true);	<span class="comment">// Recursive call.</span>
			}	
		}	
		
		<span class="reserved">if</span>(!recursive){
			<span class="reserved">for</span>(var prop=0;prop&lt;itemsToDeleteFromOrderArray.length;prop++){
				<span class="reserved">if</span>(!itemsToDeleteFromOrderArray[prop])continue;
				<span class="reserved">this</span>.__deleteItemFromItemOrderArray(itemsToDeleteFromOrderArray[prop]);
			}
		}
		<span class="reserved">this</span>.__setHasSubs();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteANode()</span>
    <span class="comment">/**
     *	Deleting a specific node from the menu model
     * 	
     *	<span class="attrib">@param</span> int id = Id of node to delete.
     *
     * <span class="attrib">@private</span>	
     */</span>	
	<span class="comment">// }}}		</span>
	__deleteANode : <span class="reserved">function</span>(id)
	{
		<span class="reserved">this</span>.menuItems[id] = false;	
		<span class="reserved">this</span>.__deleteItemFromItemOrderArray(id);	
	}
	,
	<span class="comment">// {{{ __deleteItemFromItemOrderArray()</span>
    <span class="comment">/**
     *	Deleting a specific node from the menuItemsOrder array(The array controlling the order of the menu items).
     * 	
     *	<span class="attrib">@param</span> int id = Id of node to delete.
     *
     * <span class="attrib">@private</span>	
     */</span>	
	<span class="comment">// }}}		</span>
	__deleteItemFromItemOrderArray : <span class="reserved">function</span>(id)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemsOrder.length;no++){
			var tmpId = <span class="reserved">this</span>.menuItemsOrder[no];
			<span class="reserved">if</span>(!tmpId)continue;		
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItemsOrder[no]==id){
				<span class="reserved">this</span>.menuItemsOrder.splice(no,1);
				<span class="reserved">return</span>;
			}
		}
		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __appendMenuModel()</span>
    <span class="comment">/**
     *	Replace the sub items of a menu item with items from a new menuModel.
     * 	
     *	<span class="attrib">@param</span> menuModel newModel = An object of class menuModel - the items of this menu model will be appended to the existing menu items.
     *	<span class="attrib">@param</span> Int parentId = Id of parent element of the appended items.
     *
     * <span class="attrib">@private</span>	
     */</span>	
	<span class="comment">// }}}		</span>
	__appendMenuModel : <span class="reserved">function</span>(newModel,parentId)
	{
		<span class="reserved">if</span>(!newModel)<span class="reserved">return</span>;
		var items = newModel.getItems();
		<span class="reserved">for</span>(var no=0;no&lt;newModel.menuItemsOrder.length;no++){
			var id = newModel.menuItemsOrder[no];
			<span class="reserved">if</span>(!id)continue;
			<span class="reserved">if</span>(!items[id].parentId)items[id].parentId = parentId;
			<span class="reserved">this</span>.menuItems[id] = items[id];	
			<span class="reserved">for</span>(var no2=0;no2&lt;<span class="reserved">this</span>.menuItemsOrder.length;no2++){	<span class="comment">// Check to see if this item allready exists in the menuItemsOrder array, if it does, remove it. </span>
				<span class="reserved">if</span>(!<span class="reserved">this</span>.menuItemsOrder[no2])continue;
				<span class="reserved">if</span>(<span class="reserved">this</span>.menuItemsOrder[no2]==items[id].id){
					<span class="reserved">this</span>.menuItemsOrder.splice(no2,1);
				}
			}
			<span class="reserved">this</span>.menuItemsOrder[<span class="reserved">this</span>.menuItemsOrder.length] = items[id].id;		
		}
		<span class="reserved">this</span>.__getDepths();		
		<span class="reserved">this</span>.__setHasSubs();		
	}
	<span class="comment">// }}}</span>
}

<span class="comment">/*[FILE_START:dhtmlSuite-menuItem.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML menu item class
*
*	Created:						October, 21st, 2006
*	<span class="attrib">@class</span> Purpose of class:		Creates the HTML for a single menu item.
*			
*	Css files used by this script:	menu-item.css
*
*	Demos of this class:			demo-menu-strip.html
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates the div(s) for a menu item. This class is used by the menuBar class. You can 
*	also create a menu item and add it where you want on your page. the createItem() method will return the div
*	for the item. You can use the appendChild() method to add it to your page. 
*
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>


DHTMLSuite.menuItem = <span class="reserved">function</span>()
{
	var layoutCSS;	
	var divElement;							<span class="comment">// the &lt;div&gt; element created for this menu item</span>
	var expandElement;						<span class="comment">// Reference to the arrow div (expand sub items)</span>
	var cssPrefix;							<span class="comment">// Css prefix for the menu items.</span>
	var modelItemRef;						<span class="comment">// Reference to menuModelItem</span>
	
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'menu-item.css'</span>;
	<span class="reserved">this</span>.cssPrefix = <span class="literal">'DHTMLSuite_'</span>;
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
	var objectIndex;
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;

	
}

DHTMLSuite.menuItem.<span class="reserved">prototype</span> = 
{
	
	<span class="comment">/*
	*	Create a menu item.
	*
	*	<span class="attrib">@param</span> menuModelItem menuModelItemObj = An object of class menuModelItem
	*/</span>
	createItem : <span class="reserved">function</span>(menuModelItemObj)
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);	<span class="comment">// Load css</span>
		
		DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
			
		<span class="reserved">this</span>.modelItemRef = menuModelItemObj;
		
		<span class="reserved">this</span>.divElement = <span class="literal">'DHTMLSuite_menuItem'</span> + menuModelItemObj.id;
		
		var div = document.createElement(<span class="literal">'DIV'</span>);	<span class="comment">// Create main div</span>
		document.body.appendChild(div);
		div.id = <span class="reserved">this</span>.divElement;	<span class="comment">// Giving this menu item it's unque id</span>
		div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_'</span> + menuModelItemObj.type + <span class="literal">'_regular'</span>; 
		div.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
		<span class="reserved">if</span>(menuModelItemObj.helpText){	<span class="comment">// Add "title" attribute to the div tag if helpText is defined</span>
			div.title = menuModelItemObj.helpText;
		}
		
		<span class="comment">// Menu item of type "top"</span>
		<span class="reserved">if</span>(menuModelItemObj.type==<span class="literal">'top'</span>){			
			<span class="reserved">this</span>.__createMenuElementsOfTypeTop(div);
		}

		<span class="reserved">if</span>(menuModelItemObj.type==<span class="literal">'sub'</span>){
			<span class="reserved">this</span>.__createMenuElementsOfTypeSub(div);
		}
		
		<span class="reserved">if</span>(menuModelItemObj.separator){
			div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_separator_'</span> + menuModelItemObj.type;
			div.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		}<span class="reserved">else</span>{		
			<span class="comment">/* Add events */</span>
			var tmpVar = <span class="reserved">this</span>.objectIndex/1;
			div.onclick = <span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[tmpVar].__navigate(e); }
			div.onmousedown = <span class="reserved">this</span>.__clickMenuItem;			<span class="comment">// on mouse down effect</span>
			div.onmouseup = <span class="reserved">this</span>.__rolloverMenuItem;		<span class="comment">// on mouse up effect</span>
			div.onmouseover = <span class="reserved">this</span>.__rolloverMenuItem;		<span class="comment">// mouse over effect</span>
			div.onmouseout = <span class="reserved">this</span>.__rolloutMenuItem;		<span class="comment">// mouse out effect.</span>
			
		}
		DHTMLSuite.commonObj.__addEventEl(div);
		<span class="reserved">return</span> div;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Creates the different parts of a menu item of type "top".
     *
     *  <span class="attrib">@param</span> String newLayoutCss = Name of css file used for the menu items.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setLayoutCss : <span class="reserved">function</span>(newLayoutCss)
	{
		<span class="reserved">this</span>.layoutCSS = newLayoutCss;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createMenuElementsOfTypeTop()</span>
    <span class="comment">/**
     *	Creates the different parts of a menu item of type "top".
     *
     *  <span class="attrib">@param</span> menuModelItem menuModelItemObj = Object of type menuModelItemObj
     *  <span class="attrib">@param</span> Object parentEl = Reference to parent element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMenuElementsOfTypeTop : <span class="reserved">function</span>(parentEl){
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.itemIcon){
			var iconDiv = document.createElement(<span class="literal">'DIV'</span>);
			iconDiv.innerHTML = <span class="literal">'&lt;img src="'</span> + <span class="reserved">this</span>.modelItemRef.itemIcon + <span class="literal">'"&gt;'</span>;
			iconDiv.id = <span class="literal">'menuItemIcon'</span> + <span class="reserved">this</span>.modelItemRef.id
			parentEl.appendChild(iconDiv);		
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.itemText){
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.innerHTML = <span class="reserved">this</span>.modelItemRef.itemText;	
			div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_textContent'</span>;
			div.id = <span class="literal">'menuItemText'</span> + <span class="reserved">this</span>.modelItemRef.id;	
			parentEl.appendChild(div);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.hasSubs){
			<span class="comment">/* Create div for the arrow -&gt; Show sub items */</span>
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_top_arrowShowSub'</span>;
			div.id = <span class="literal">'DHTMLSuite_menuBar_arrow'</span> + <span class="reserved">this</span>.modelItemRef.id;
			parentEl.appendChild(div);
			<span class="reserved">this</span>.expandElement = div.id;
		}
				
	}
	<span class="comment">// }}}</span>
	,	
	
	<span class="comment">// {{{ __createMenuElementsOfTypeSub()</span>
    <span class="comment">/**
     *	Creates the different parts of a menu item of type "sub".
     *
     *  <span class="attrib">@param</span> menuModelItem menuModelItemObj = Object of type menuModelItemObj
     *  <span class="attrib">@param</span> Object parentEl = Reference to parent element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMenuElementsOfTypeSub : <span class="reserved">function</span>(parentEl){		
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.itemIcon){
			parentEl.style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' + this.modelItemRef.itemIcon + '</span>\<span class="literal">')'</span>;	
			parentEl.style.backgroundRepeat = <span class="literal">'no-repeat'</span>;
			parentEl.style.backgroundPosition = <span class="literal">'left center'</span>;	
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.itemText){
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="literal">'DHTMLSuite_textContent'</span>;
			div.innerHTML = <span class="reserved">this</span>.modelItemRef.itemText;	
			div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_textContent'</span>;
			div.id = <span class="literal">'menuItemText'</span> + <span class="reserved">this</span>.modelItemRef.id;
			parentEl.appendChild(div);
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.hasSubs){
			<span class="comment">/* Create div for the arrow -&gt; Show sub items */</span>
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_sub_arrowShowSub'</span>;
			parentEl.appendChild(div);		
			div.id = <span class="literal">'DHTMLSuite_menuBar_arrow'</span> + <span class="reserved">this</span>.modelItemRef.id;
			<span class="reserved">this</span>.expandElement = div.id;
			div.previousSibling.style.paddingRight = <span class="literal">'15px'</span>;	
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCssPrefix()</span>
    <span class="comment">/**
     *	Set css prefix for the menu item. default is 'DHTMLSuite_'. This is useful in case you want to have different menus on a page with different layout.
     *
     *  <span class="attrib">@param</span> String cssPrefix = New css prefix. 
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCssPrefix : <span class="reserved">function</span>(cssPrefix)
	{
		<span class="reserved">this</span>.cssPrefix = cssPrefix;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMenuIcon()</span>
    <span class="comment">/**
     *	Replace menu icon.
     *
     *	<span class="attrib">@param</span> String newPath - Path to new icon (false if no icon);
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setIcon : <span class="reserved">function</span>(newPath)
	{
		<span class="reserved">this</span>.modelItemRef.setIcon(newPath);
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.type==<span class="literal">'top'</span>){	<span class="comment">// Menu item is of type "top"</span>
			var div = document.getElementById(<span class="literal">'menuItemIcon'</span> + <span class="reserved">this</span>.modelItemRef.id);	<span class="comment">// Get a reference to the div where the icon is located.</span>
			var img = div.getElementsByTagName(<span class="literal">'IMG'</span>)[0];	<span class="comment">// Find the image</span>
			<span class="reserved">if</span>(!img){	<span class="comment">// Image doesn't exists ?</span>
				img = document.createElement(<span class="literal">'IMG'</span>);	<span class="comment">// Create new image</span>
				div.appendChild(img);
			}
			img.src = newPath;	<span class="comment">// Set image path</span>
			<span class="reserved">if</span>(!newPath)DHTMLSuite.discardElement(img);	<span class="comment">// No newPath defined, remove the image.			</span>
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.type==<span class="literal">'sub'</span>){	<span class="comment">// Menu item is of type "sub"</span>
			document.getElementById(<span class="reserved">this</span>.divElement).style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' + newPath + '</span>\<span class="literal">')'</span>;		<span class="comment">// Set backgroundImage for the main div(i.e. menu item div)	</span>
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setText()</span>
    <span class="comment">/**
     *	Replace the text of a menu item
     *
     *	<span class="attrib">@param</span> String newText - New text for the menu item.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setText : <span class="reserved">function</span>(newText)
	{
		<span class="reserved">this</span>.modelItemRef.setText(newText);
		document.getElementById(<span class="literal">'menuItemText'</span> + <span class="reserved">this</span>.modelItemRef.id).innerHTML = newText;
		
		
	}
	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clickMenuItem()</span>
    <span class="comment">/**
     *	Effect - click on menu item
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__clickMenuItem : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">'_regular'</span>,<span class="literal">'_click'</span>);
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">'_over'</span>,<span class="literal">'_click'</span>);
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __rolloverMenuItem()</span>
    <span class="comment">/**
     *	Roll over effect
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__rolloverMenuItem : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">'_regular'</span>,<span class="literal">'_over'</span>);
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">'_click'</span>,<span class="literal">'_over'</span>);
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __rolloutMenuItem()</span>
    <span class="comment">/**
     *	Roll out effect
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__rolloutMenuItem : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">'_over'</span>,<span class="literal">'_regular'</span>);
		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setState()</span>
    <span class="comment">/**
     *	Set state of a menu item.
     *
     *	<span class="attrib">@param</span> String newState = New state for the menu item
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setState : <span class="reserved">function</span>(newState)
	{
		document.getElementById(<span class="reserved">this</span>.divElement).className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuItem_'</span> + <span class="reserved">this</span>.modelItemRef.type + <span class="literal">'_'</span> + newState; 		
		<span class="reserved">this</span>.modelItemRef.setState(newState);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getState()</span>
    <span class="comment">/**
     *	Return state of a menu item. 
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	getState : <span class="reserved">function</span>()
	{
		var state = <span class="reserved">this</span>.modelItemRef.getState();
		<span class="reserved">if</span>(!state){
			<span class="reserved">if</span>(document.getElementById(<span class="reserved">this</span>.divElement).className.indexOf(<span class="literal">'_over'</span>)&gt;=0)state = <span class="literal">'over'</span>;	
			<span class="reserved">if</span>(document.getElementById(<span class="reserved">this</span>.divElement).className.indexOf(<span class="literal">'_click'</span>)&gt;=0)state = <span class="literal">'click'</span>;	
			<span class="reserved">this</span>.modelItemRef.setState(state);		
		}
		<span class="reserved">return</span> state;
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHasSub()</span>
    <span class="comment">/**
     *	Update the item, i.e. show/hide the arrow if the element has subs or not. 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>	
    __setHasSub : <span class="reserved">function</span>(hasSubs)
    {
    	<span class="reserved">this</span>.modelItemRef.hasSubs = hasSubs;
    	<span class="reserved">if</span>(!hasSubs){
    		document.getElementById(<span class="reserved">this</span>.cssPrefix +<span class="literal">'menuBar_arrow'</span> + <span class="reserved">this</span>.modelItemRef.id).style.display=<span class="literal">'none'</span>;    		
    	}<span class="reserved">else</span>{
    		document.getElementById(<span class="reserved">this</span>.cssPrefix +<span class="literal">'menuBar_arrow'</span> + <span class="reserved">this</span>.modelItemRef.id).style.display=<span class="literal">'block'</span>;
    	}    	
    }
    <span class="comment">// }}}	</span>
    ,
	<span class="comment">// {{{ hide()</span>
    <span class="comment">/**
     *	Hide the menu item.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>	    
    hide : <span class="reserved">function</span>()
    {
    	<span class="reserved">this</span>.modelItemRef.setVisibility(false);
    	document.getElementById(<span class="reserved">this</span>.divElement).style.display=<span class="literal">'none'</span>;    	
    }    
    ,
 	<span class="comment">// {{{ show()</span>
    <span class="comment">/**
     *	Show the menu item.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>	     
    show : <span class="reserved">function</span>()
    {
    	<span class="reserved">this</span>.modelItemRef.setVisibility(true);
    	document.getElementById(<span class="reserved">this</span>.divElement).style.display=<span class="literal">'block'</span>;    	
    }    
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __hideGroup()</span>
    <span class="comment">/**
     *	Hide the group the menu item is a part of. Example: if we're dealing with menu item 2.1, hide the group for all sub items of 2
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__hideGroup : <span class="reserved">function</span>()
	{		
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.parentId){
			document.getElementById(<span class="reserved">this</span>.divElement).parentNode.style.visibility=<span class="literal">'hidden'</span>;	
			<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
				try{
					var tmpId = document.getElementById(<span class="reserved">this</span>.divElement).parentNode.id.replace(/[^0-9]/gi,<span class="literal">''</span>);
					document.getElementById(<span class="literal">'DHTMLSuite_menuBarIframe_'</span> + tmpId).style.visibility = <span class="literal">'hidden'</span>;
				}catch(e){
					<span class="comment">// IFRAME hasn't been created.</span>
				}	
			}
		}	

	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __navigate()</span>
    <span class="comment">/**
     *	Navigate after click on a menu item.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__navigate : <span class="reserved">function</span>(e)
	{
		<span class="comment">/* Check to see if the expand sub arrow is clicked. if it is, we shouldn't navigate from this click */</span>
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">if</span>(e){
			var srcEl = DHTMLSuite.commonObj.getSrcElement(e);
			<span class="reserved">if</span>(srcEl.id.indexOf(<span class="literal">'arrow'</span>)&gt;=0)<span class="reserved">return</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.state==<span class="literal">'disabled'</span>)<span class="reserved">return</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.url){
			location.href = <span class="reserved">this</span>.modelItemRef.url;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.modelItemRef.jsFunction){
			try{
				eval(<span class="reserved">this</span>.modelItemRef.jsFunction);
			}catch(e){
				alert(<span class="literal">'Defined Javascript code for the menu item( '</span> + <span class="reserved">this</span>.modelItemRef.jsFunction + <span class="literal">' ) cannot be executed'</span>);
			}
		}
	} 
}

<span class="comment">/*[FILE_START:dhtmlSuite-menuBar.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML menu bar class
*
*	Created:						October, 21st, 2006
*	<span class="attrib">@class</span> Purpose of class:		Creates a top bar menu
*			
*	Css files used by this script:	menu-bar.css
*
*	Demos of this class:			demo-menu-bar.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates a top bar menu strip. Demos: &lt;br&gt;
*	&lt;ul&gt;
*	&lt;li&gt;(&lt;a href="../../demos/demo-menu-bar-2.html" target="_blank"&gt;A menu with a detailed description on how it is created&lt;/a&gt;)&lt;/li&gt;
*	&lt;li&gt;(&lt;a href="../../demos/demo-pane-splitter.html" target="_blank"&gt;Menu bar in a pane splitter pane&lt;/a&gt;)&lt;/li&gt;
*	&lt;/ul&gt;
*
*	&lt;a href="../images/menu-bar-1.gif" target="_blank"&gt;Image describing the classes&lt;/a&gt; &lt;br&gt;&lt;br&gt;
*
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.menuBar = <span class="reserved">function</span>()
{
	var menuItemObj;
	var layoutCSS;					<span class="comment">// Name of css file</span>
	var menuBarBackgroundImage;		<span class="comment">// Name of background image</span>
	var menuItem_objects;			<span class="comment">// Array of menu items - html elements.</span>
	var menuBarObj;					<span class="comment">// Reference to the main dib</span>
	var menuBarHeight;
	var menuItems;					<span class="comment">// Reference to objects of class menuModelItem</span>
	var highlightedItems;			<span class="comment">// Array of currently highlighted menu items.</span>
	var menuBarState;				<span class="comment">// Menu bar state - true or false - 1 = expand items on mouse over</span>
	var activeSubItemsOnMouseOver;	<span class="comment">// Activate sub items on mouse over	(instead of onclick)</span>
	

	var submenuGroups;				<span class="comment">// Array of div elements for the sub menus</span>
	var submenuIframes;				<span class="comment">// Array of sub menu iframes used to cover select boxes in old IE browsers.</span>
	var createIframesForOldIeBrowsers;	<span class="comment">// true if we want the script to create iframes in order to cover select boxes in older ie browsers.</span>
	var targetId;					<span class="comment">// Id of element where the menu will be inserted.</span>
	var menuItemCssPrefix;			<span class="comment">// Css prefix of menu items.</span>
	var cssPrefix;					<span class="comment">// Css prefix for the menu bar</span>
	var menuItemLayoutCss;			<span class="comment">// Css path for the menu items of this menu bar</span>
	var objectIndex;			<span class="comment">// Global index of this object - used to refer to the object of this class outside</span>
	<span class="reserved">this</span>.cssPrefix = <span class="literal">'DHTMLSuite_'</span>;
	<span class="reserved">this</span>.menuItemLayoutCss = false;	<span class="comment">// false = use default for the menuItem class.</span>
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'menu-bar.css'</span>;
	<span class="reserved">this</span>.menuBarBackgroundImage = <span class="literal">'menu_strip_bg.jpg'</span>;
	<span class="reserved">this</span>.menuItem_objects = new Object();
	DHTMLSuite.variableStorage.menuBar_highlightedItems = new Array();
	
	<span class="reserved">this</span>.menuBarState = false;
	
	<span class="reserved">this</span>.menuBarObj = false;
	<span class="reserved">this</span>.menuBarHeight = 26;
	<span class="reserved">this</span>.submenuGroups = new Array();
	<span class="reserved">this</span>.submenuIframes = new Array();
	<span class="reserved">this</span>.targetId = false;
	<span class="reserved">this</span>.activeSubItemsOnMouseOver = false;
	<span class="reserved">this</span>.menuItemCssPrefix = false;
	<span class="reserved">this</span>.createIframesForOldIeBrowsers = true;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
}

DHTMLSuite.menuBar.<span class="reserved">prototype</span> = {	
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initilizes the script - This method should be called after your set methods.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>					
	init : <span class="reserved">function</span>()
	{
		
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);	
		<span class="reserved">this</span>.__createMainMenuDiv();	<span class="comment">// Create general divs</span>
		<span class="reserved">this</span>.__createMenuItems();	<span class="comment">// Create menu items</span>
		<span class="reserved">this</span>.__setBasicEvents();	<span class="comment">// Set basic events.</span>
		window.refToThismenuBar = <span class="reserved">this</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setTarget()</span>
    <span class="comment">/**
     *	Specify where this menu bar will be inserted. the element with this id will be parent of the menu bar.
     *
     *  <span class="attrib">@param</span> String idOfHTMLElement = Id of element where the menu will be inserted. 
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setTarget : <span class="reserved">function</span>(idOfHTMLElement)
	{
		<span class="reserved">this</span>.targetId = idOfHTMLElement;		
		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Specify the css file for this menu bar
     *
     *  <span class="attrib">@param</span> String nameOfNewCssFile = Name of new css file. 
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setLayoutCss : <span class="reserved">function</span>(nameOfNewCssFile)
	{
		<span class="reserved">this</span>.layoutCSS = nameOfNewCssFile;		
		
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setMenuItemLayoutCss()</span>
    <span class="comment">/**
     *	Specify the css file for the menu items
     *
     *  <span class="attrib">@param</span> String nameOfNewCssFile = Name of new css file. 
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setMenuItemLayoutCss : <span class="reserved">function</span>(nameOfNewCssFile)
	{
		<span class="reserved">this</span>.menuItemLayoutCss = nameOfNewCssFile;		
		
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setCreateIframesForOldIeBrowsers()</span>
    <span class="comment">/**
     *	This method specifies if you want to the script to create iframes behind sub menu groups in order to cover eventual select boxes. This
     *	is needed if you have users with older IE browsers(prior to version 7) and when there's a chance that a sub menu could appear on top
     *	of a select box.
     *
     *  <span class="attrib">@param</span> Boolean createIframesForOldIeBrowsers = true if you want the script to create iframes to cover select boxes in older ie browsers.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCreateIframesForOldIeBrowsers : <span class="reserved">function</span>(createIframesForOldIeBrowsers)
	{
		<span class="reserved">this</span>.createIframesForOldIeBrowsers = createIframesForOldIeBrowsers;		
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addMenuItems()</span>
    <span class="comment">/**
     *	Add menu items
     *
     *  <span class="attrib">@param</span> DHTMLSuite.menuModel menuModel Object of class DHTMLSuite.menuModel which holds menu data 	
     *
     * <span class="attrib">@public</span>	
     */</span>			
	addMenuItems : <span class="reserved">function</span>(menuItemObj)
	{
		<span class="reserved">this</span>.menuItemObj = menuItemObj;	
		<span class="reserved">this</span>.menuItems = menuItemObj.getItems();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setActiveSubItemsOnMouseOver()</span>
    <span class="comment">/**
     *	 Specify if sub menus should be activated on mouse over(i.e. no matter what the menuState property is). 	
     *
     *	<span class="attrib">@param</span> Boolean activateSubOnMouseOver - Specify if sub menus should be activated on mouse over(i.e. no matter what the menuState property is).
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setActiveSubItemsOnMouseOver : <span class="reserved">function</span>(activateSubOnMouseOver)
	{
		<span class="reserved">this</span>.activeSubItemsOnMouseOver = activateSubOnMouseOver;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMenuItemState()</span>
    <span class="comment">/**
     *	This method changes the state of the menu bar(expanded or collapsed). This method is called when someone clicks on the arrow at the right of menu items.
     * 	
     *	<span class="attrib">@param</span> Number menuItemId - ID of the menu item we want to switch state for
     * 	<span class="attrib">@param</span> String state - New state(example: "disabled")
     *
     * <span class="attrib">@public</span>	
     */</span>			
	setMenuItemState : <span class="reserved">function</span>(menuItemId,state)
	{
		try{
			<span class="reserved">this</span>.menuItem_objects[menuItemId].setState(state);
		}catch(e){
			alert(<span class="literal">'menu item with id '</span> + menuItemId + <span class="literal">' does not exists or you have called the setMenuItemState method before the menu has been initialized'</span>);
		}
			
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setMenuItemCssPrefix()</span>
    <span class="comment">/**
     *	Specify prefix of css classes used for the menu items. Default css prefix is "DHTMLSuite_". If you wish have some custom styling for some of your menus, 
     *	create a separate css file and replace DHTMLSuite_ for the class names with your new prefix.  This is useful if you want to have two menus on the same page
     *	with different stylings.
     * 	
     *	<span class="attrib">@param</span> String newCssPrefix - New css prefix for menu items.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setMenuItemCssPrefix : <span class="reserved">function</span>(newCssPrefix)
	{
		<span class="reserved">this</span>.menuItemCssPrefix = newCssPrefix;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setCssPrefix()</span>
    <span class="comment">/**
     *	Specify prefix of css classes used for the menu bar. Default css prefix is "DHTMLSuite_" and that's the prefix of all css classes inside menu-bar.css(the default css file). 
     *	If you want some custom menu bars, create and include your own css files, replace DHTMLSuite_ in the class names with your own prefix and set the new prefix by calling
     *	this method. This is useful if you want to have two menus on the same page with different stylings.
     * 	
     *	<span class="attrib">@param</span> String newCssPrefix - New css prefix for the menu bar classes.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCssPrefix : <span class="reserved">function</span>(newCssPrefix)
	{
		<span class="reserved">this</span>.cssPrefix = newCssPrefix;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteAllMenuItems()</span>
    <span class="comment">/**
     *	Delete all menu items. This is useful if you want to replace the entire menu model. Remember to call init() after new model has been added.
     *    
     * <span class="attrib">@private</span>	
     */</span>		
	deleteAllMenuItems : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.hideSubMenus(); <span class="comment">// Hide all sub menus</span>
		<span class="reserved">this</span>.__deleteMenuItems(0,false);
		<span class="reserved">this</span>.__clearAllMenuItems();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ replaceSubMenus()</span>
    <span class="comment">/**
     *	This method replaces existing sub menu items with a new subset (To replace all menu items, pass 0 as idOfParentMenuItem)
     *
     * 	
     *	<span class="attrib">@param</span> Number idOfParentMenuItem - ID of parent element ( 0 if top node) - if set, all sub elements will be deleted and replaced with the new menu model.
     *	<span class="attrib">@param</span> menuModel newMenuModel - Reference to object of class menuModel
     *
     * <span class="attrib">@private</span>	
     */</span>		
	replaceMenuItems : <span class="reserved">function</span>(idOfParentMenuItem,newMenuModel)
	{		
		<span class="reserved">this</span>.hideSubMenus();	<span class="comment">// Hide all sub menus</span>
		<span class="reserved">this</span>.__deleteMenuItems(idOfParentMenuItem);	<span class="comment">// Delete old menu items.</span>
		<span class="reserved">this</span>.menuItemObj.__appendMenuModel(newMenuModel,idOfParentMenuItem);	<span class="comment">// Appending new menu items to the menu model.</span>
		<span class="reserved">this</span>.__clearAllMenuItems();
		<span class="reserved">this</span>.__createMenuItems();
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ deleteMenuItems()</span>
    <span class="comment">/**
     *	This method deletes menu items from the menu dynamically
     * 	
     *	<span class="attrib">@param</span> Number idOfParentMenuItem - Parent id - parent id of the elements to delete.
     *	<span class="attrib">@param</span> Boolean deleteParentElement - Should parent element also be deleted, or only sub elements?
     *
     * <span class="attrib">@public</span>	
     */</span>		
	deleteMenuItems : <span class="reserved">function</span>(idOfParentMenuItem,deleteParentElement)
	{
		<span class="comment">//this.hideSubMenus();	// Hide all sub menus	</span>
		<span class="reserved">this</span>.__deleteMenuItems(idOfParentMenuItem,deleteParentElement);
		<span class="reserved">this</span>.__clearAllMenuItems();
		<span class="reserved">this</span>.__createMenuItems();		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ appendMenuItems()</span>
    <span class="comment">/**
     *	This method appends menu items to the menu dynamically
     * 	
     *	<span class="attrib">@param</span> Integer idOfParentMenuItem - Parent id - where to append the new items.
     *	<span class="attrib">@param</span> menuModel newMenuModel - Object of type menuModel. This menuModel will be appended as sub elements of defined idOfParentMenuItem
     *
     * <span class="attrib">@public</span>	
     */</span>		
	appendMenuItems : <span class="reserved">function</span>(idOfParentMenuItem,newMenuModel)
	{
		<span class="reserved">this</span>.hideSubMenus();	<span class="comment">// Hide all sub menus</span>
		<span class="reserved">this</span>.menuItemObj.__appendMenuModel(newMenuModel,idOfParentMenuItem);	<span class="comment">// Appending new menu items to the menu model.</span>
		<span class="reserved">this</span>.__clearAllMenuItems();
		<span class="reserved">this</span>.__createMenuItems();		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ hideMenuItem()</span>
    <span class="comment">/**
     *	This method doesn't delete menu items. it hides them only.
     * 	
     *	<span class="attrib">@param</span> Number menuItemId - Id of the item you want to hide.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	hideMenuItem : <span class="reserved">function</span>(menuItemId)
	{
		<span class="reserved">this</span>.menuItem_objects[menuItemId].hide();

	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ showMenuItem()</span>
    <span class="comment">/**
     *	This method shows a menu item. If the item isn't hidden, nothing is done.
     * 	
     *	<span class="attrib">@param</span> Number menuItemId - Id of the item you want to show
     *
     * <span class="attrib">@public</span>	
     */</span>		
	showMenuItem : <span class="reserved">function</span>(menuItemId)
	{
		<span class="reserved">this</span>.menuItem_objects[menuItemId].show();
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setText()</span>
    <span class="comment">/**
     *	Replace the text for a menu item
     * 	
     *	<span class="attrib">@param</span> Integer menuItemId - Id of menu item.
     *	<span class="attrib">@param</span> String newText - New text for the menu item.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setText : <span class="reserved">function</span>(menuItemId,newText)
	{
		<span class="reserved">this</span>.menuItem_objects[menuItemId].setText(newText);
	}		
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setIcon()</span>
    <span class="comment">/**
     *	Replace menu icon for a menu item. 
     * 	
     *	<span class="attrib">@param</span> Integer menuItemId - Id of menu item.
     *	<span class="attrib">@param</span> String newPath - Path to new menu icon. Pass blank or false if you want to clear the menu item.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setIcon : <span class="reserved">function</span>(menuItemId,newPath)
	{
		<span class="reserved">this</span>.menuItem_objects[menuItemId].setIcon(newPath);
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearAllMenuItems()</span>
    <span class="comment">/**
     *	Delete HTML elements for all menu items.
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__clearAllMenuItems : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var prop=0;prop&lt;<span class="reserved">this</span>.menuItemObj.menuItemsOrder.length;prop++){
			var id = <span class="reserved">this</span>.menuItemObj.menuItemsOrder[prop];
			<span class="reserved">if</span>(!id)continue;
			<span class="reserved">if</span>(<span class="reserved">this</span>.submenuGroups[id]){
				var div = document.getElementById(<span class="reserved">this</span>.submenuGroups[id]);
				DHTMLSuite.discardElement(div);
				<span class="reserved">this</span>.submenuGroups[id] = null;	
			}
			<span class="reserved">if</span>(<span class="reserved">this</span>.submenuIframes[id]){
				var ref = document.getElementById(<span class="reserved">this</span>.submenuIframes[id]);
				DHTMLSuite.discardElement(ref);
				<span class="reserved">this</span>.submenuIframes[id] = null;
			}	
		}
		<span class="reserved">this</span>.submenuGroups = new Array();
		<span class="reserved">this</span>.submenuIframes = new Array();		
		<span class="reserved">this</span>.menuBarObj.innerHTML = <span class="literal">''</span>;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteMenuItems()</span>
    <span class="comment">/**
     *	This method deletes menu items from the menu, i.e. menu model and the div elements for these items.
     * 	
     *	<span class="attrib">@param</span> Integer idOfParentMenuItem - Parent id - where to start the delete process.
     *	<span class="attrib">@param</span> Boolean includeParent - Delete parent menu item in addition to the sub menu items.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__deleteMenuItems : <span class="reserved">function</span>(idOfParentMenuItem,includeParent)
	{
		<span class="reserved">if</span>(includeParent)<span class="reserved">this</span>.menuItemObj.__deleteANode(idOfParentMenuItem);
		<span class="reserved">if</span>(!<span class="reserved">this</span>.submenuGroups[idOfParentMenuItem])<span class="reserved">return</span>;	<span class="comment">// No sub items exists.		</span>
		<span class="reserved">this</span>.menuItem_objects[idOfParentMenuItem].__setHasSub(false);	<span class="comment">// Delete existing sub menu divs.</span>
		<span class="reserved">this</span>.menuItemObj.__deleteChildNodes(idOfParentMenuItem);	<span class="comment">// Delete existing child nodes from menu model</span>
		var groupBox = document.getElementById(<span class="reserved">this</span>.submenuGroups[idOfParentMenuItem]);
		DHTMLSuite.discardElement(groupBox);<span class="comment">// Delete sub menu group box. </span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.submenuIframes[idOfParentMenuItem]){
			DHTMLSuite.discardElement(<span class="reserved">this</span>.submenuIframes[idOfParentMenuItem]);
		}		
		<span class="reserved">this</span>.submenuGroups.splice(idOfParentMenuItem,1);
		<span class="reserved">this</span>.submenuIframes.splice(idOfParentMenuItem,1);
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __changeMenuBarState()</span>
    <span class="comment">/**
     *	This method changes the state of the menu bar(expanded or collapsed). This method is called when someone clicks on the arrow at the right of menu items.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__changeMenuBarState : <span class="reserved">function</span>(){
		var objectIndex = <span class="reserved">this</span>.getAttribute(<span class="literal">'objectRef'</span>);
		var obj = DHTMLSuite.variableStorage.arrayDSObjects[objectIndex];
		var parentId = <span class="reserved">this</span>.id.replace(/[^0-9]/gi,<span class="literal">''</span>);	
			
			
		var state = obj.menuItem_objects[parentId].getState();		
		
		<span class="reserved">if</span>(state==<span class="literal">'disabled'</span>)<span class="reserved">return</span>;
		obj.menuBarState = !obj.menuBarState;
		<span class="reserved">if</span>(!obj.menuBarState)obj.hideSubMenus();<span class="reserved">else</span>{
			obj.hideSubMenus();
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + objectIndex + <span class="literal">'].__expandGroup('</span> + parentId+ <span class="literal">')'</span>,10);
		}		
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ __createDivs()</span>
    <span class="comment">/**
     *	Create the main HTML elements for this menu dynamically
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMainMenuDiv : <span class="reserved">function</span>()
	{
		window.refTomenuBar = <span class="reserved">this</span>;	<span class="comment">// Reference to menu strip object</span>
		
		<span class="reserved">this</span>.menuBarObj = document.createElement(<span class="literal">'DIV'</span>);	
		<span class="reserved">this</span>.menuBarObj.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuBar_'</span> + <span class="reserved">this</span>.menuItemObj.submenuType[1];
		
		<span class="reserved">if</span>(!document.getElementById(<span class="reserved">this</span>.targetId)){
			alert(<span class="literal">'No target defined for the menu object'</span>);
			<span class="reserved">return</span>;
		}
		<span class="comment">// Appending menu bar object as a sub of defined target element.</span>
		var target = document.getElementById(<span class="reserved">this</span>.targetId);
		target.appendChild(<span class="reserved">this</span>.menuBarObj);				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ hideSubMenus()</span>
    <span class="comment">/**
     *	Deactivate all sub menus ( collapse and set state back to regular )
     *	In case you have a menu inside a scrollable container, call this method in an onscroll event for that element
     *	example document.getElementById('textContent').onscroll = menuBar.__hideSubMenus;
     * 	
     *	<span class="attrib">@param</span> Event e - this variable is present if this method is called from an event. You will never use this parameter
     *
     * <span class="attrib">@public</span>	
     */</span>		
	hideSubMenus : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span> &amp;&amp; <span class="reserved">this</span>.tagName){	<span class="comment">/* Method called from event */</span>
			<span class="reserved">if</span>(document.all)e = event;
			var srcEl = DHTMLSuite.commonObj.getSrcElement(e);
			<span class="reserved">if</span>(srcEl.tagName.toLowerCase()==<span class="literal">'img'</span>)srcEl = srcEl.parentNode;
			<span class="reserved">if</span>(srcEl.className &amp;&amp; srcEl.className.indexOf(<span class="literal">'arrow'</span>)&gt;=0){
				<span class="reserved">return</span>;
			}
			
		}
		<span class="reserved">for</span>(var no=0;no&lt;DHTMLSuite.variableStorage.menuBar_highlightedItems.length;no++){
			<span class="reserved">if</span>(DHTMLSuite.variableStorage.menuBar_highlightedItems[no].getState()!=<span class="literal">'disabled'</span>)DHTMLSuite.variableStorage.menuBar_highlightedItems[no].setState(<span class="literal">'regular'</span>);	<span class="comment">// Set state back to regular</span>
			DHTMLSuite.variableStorage.menuBar_highlightedItems[no].__hideGroup();	<span class="comment">// Hide eventual sub menus</span>
		}	
		DHTMLSuite.variableStorage.menuBar_highlightedItems = new Array();			
	}
	,
	<span class="comment">// {{{ __hideSubMenusAfterSmallDelay()</span>
    <span class="comment">/**
     *	Hide sub menu items after a small delay - mouse down event for the HTML elemnet
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__hideSubMenusAfterSmallDelay : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].hideSubMenus()'</span>,15);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __expandGroup()</span>
    <span class="comment">/**
     *	Expand a group of sub items.
     *
     * 	<span class="attrib">@param</span> integer idOfParentMenuItem - Id of parent element
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__expandGroup : <span class="reserved">function</span>(idOfParentMenuItem)
	{	
		var groupRef = document.getElementById(<span class="reserved">this</span>.submenuGroups[idOfParentMenuItem]);
		var subDiv = groupRef.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
		
		var numericId = subDiv.id.replace(/[^0-9]/g,<span class="literal">''</span>);
		
		groupRef.style.visibility=<span class="literal">'visible'</span>;	<span class="comment">// Show menu group.</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.submenuIframes[idOfParentMenuItem])document.getElementById(<span class="reserved">this</span>.submenuIframes[idOfParentMenuItem]).style.visibility = <span class="literal">'visible'</span>;	<span class="comment">// Show iframe if it exists.</span>
		DHTMLSuite.variableStorage.menuBar_highlightedItems[DHTMLSuite.variableStorage.menuBar_highlightedItems.length] = <span class="reserved">this</span>.menuItem_objects[numericId];
		<span class="reserved">this</span>.__positionSubMenu(idOfParentMenuItem);
		
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOpera){	<span class="comment">/* Opera fix in order to get correct height of sub menu group */</span>
			var subDiv = groupRef.getElementsByTagName(<span class="literal">'DIV'</span>)[0];	<span class="comment">/* Find first menu item */</span>
			subDiv.className = subDiv.className.replace(<span class="literal">'_over'</span>,<span class="literal">'_over'</span>);	<span class="comment">/* By "touching" the class of the menu item, we are able to fix a layout problem in Opera */</span>
		}
	}
	
	,
	<span class="comment">// {{{ __activateMenuElements()</span>
    <span class="comment">/**
     *	Traverse up the menu items and highlight them.
     * 	
     *	<span class="attrib">@param</span> HTMLElement parentMenuItemObject - Reference to the DIV tag(menu element) triggering the event. This would be the parent menu item of the sub menu to expand
     *	<span class="attrib">@param</span> Object menuBarObjectRef - Reference to this menuBar object
     *	<span class="attrib">@param</span> Boolean firstIteration - First iteration of this method, i.e. not recursive ? 
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__activateMenuElements : <span class="reserved">function</span>(e,firstIteration,parentMenuItemObject)
	{
		<span class="reserved">if</span>(!parentMenuItemObject){
			<span class="reserved">if</span>(document.all)e = event;
			parentMenuItemObject = DHTMLSuite.commonObj.getSrcElement(e);
			<span class="reserved">if</span>(!parentMenuItemObject.getAttribute(<span class="literal">'DHTMLSuite_menuItem'</span>))parentMenuItemObject = parentMenuItemObject.parentNode;
			<span class="reserved">if</span>(!parentMenuItemObject.getAttribute(<span class="literal">'DHTMLSuite_menuItem'</span>))parentMenuItemObject = parentMenuItemObject.parentNode;
			
		}	
		var numericId = parentMenuItemObject.id.replace(/[^0-9]/g,<span class="literal">''</span>);	<span class="comment">// Get a numeric reference to current menu item.</span>
		var state = <span class="reserved">this</span>.menuItem_objects[numericId].getState();	<span class="comment">// Get state of this menu item.</span>
		<span class="reserved">if</span>(state==<span class="literal">'disabled'</span>)<span class="reserved">return</span>;	<span class="comment">// This menu item is disabled - return from function without doing anything.	</span>
		<span class="reserved">this</span>.menuItem_objects[numericId].setState(<span class="literal">'over'</span>);	<span class="comment">// Switch state of menu item.</span>
		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.menuBarState &amp;&amp; !<span class="reserved">this</span>.activeSubItemsOnMouseOver)<span class="reserved">return</span>;	<span class="comment">// Menu is not activated and it shouldn't be activated on mouse over.</span>

		<span class="reserved">if</span>(firstIteration &amp;&amp; DHTMLSuite.variableStorage.menuBar_highlightedItems.length&gt;0){
			<span class="reserved">this</span>.hideSubMenus();	<span class="comment">// First iteration of this function=&gt; Hide other sub menus. </span>
		}	
		
		<span class="comment">// What should be the state of this menu item -&gt; If it's the one the mouse is over, state should be "over". If it's a parent element, state should be "active".</span>
		var newState = <span class="literal">'over'</span>;
		<span class="reserved">if</span>(!firstIteration)newState = <span class="literal">'active'</span>;	<span class="comment">// State should be set to 'over' for the menu item the mouse is currently over.</span>
			
		<span class="reserved">this</span>.menuItem_objects[numericId].setState(newState);	<span class="comment">// Switch state of menu item.</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.submenuGroups[numericId]){	<span class="comment">// Sub menu group exists. call the __expandGroup method. </span>
			<span class="reserved">this</span>.__expandGroup(numericId);	<span class="comment">// Expand sub menu group</span>
		}
		DHTMLSuite.variableStorage.menuBar_highlightedItems[DHTMLSuite.variableStorage.menuBar_highlightedItems.length] = <span class="reserved">this</span>.menuItem_objects[numericId];	<span class="comment">// Save this menu item in the array of highlighted elements.</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[numericId].parentId){	<span class="comment">// A parent element exists. Call this method over again with parent element as input argument.</span>
			<span class="reserved">this</span>.__activateMenuElements(false,false,document.getElementById(<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[numericId].parentId].divElement));
		}
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __createMenuItems()</span>
    <span class="comment">/**
     *	Creates the HTML elements for the menu items.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMenuItems : <span class="reserved">function</span>()
	{

	
		var index = <span class="reserved">this</span>.objectIndex;
		<span class="comment">// Find first child of the body element. trying to insert the element before first child instead of appending it to the &lt;body&gt; tag, ref: problems in ie</span>
		var firstChild = false;
		var firstChilds = document.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">if</span>(firstChilds.length&gt;0)firstChild = firstChilds[0]
		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemObj.menuItemsOrder.length;no++){	<span class="comment">// Looping through menu items		</span>
			var indexThis = <span class="reserved">this</span>.menuItemObj.menuItemsOrder[no];				
			<span class="reserved">if</span>(!<span class="reserved">this</span>.menuItems[indexThis].id)continue;		
			try{
				<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id] = new DHTMLSuite.menuItem(); 
			}catch(e){
				alert(<span class="literal">'Error: You need to include dhtmlSuite-menuItem.js in your html file'</span>);
			}
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItemCssPrefix)<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id].setCssPrefix(<span class="reserved">this</span>.menuItemCssPrefix);	<span class="comment">// Custom css prefix set</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItemLayoutCss)<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id].setLayoutCss(<span class="reserved">this</span>.menuItemLayoutCss);	<span class="comment">// Custom css file name</span>
			
			var ref = <span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id].createItem(<span class="reserved">this</span>.menuItems[indexThis]); <span class="comment">// Create div for this menu item.</span>
			ref.setAttribute(<span class="literal">'DHTMLSuite_menuItem'</span>,1);
			<span class="comment">// Actiave sub elements when someone moves the mouse over the menu item - exception: not on separators.</span>
			<span class="reserved">if</span>(!<span class="reserved">this</span>.menuItems[indexThis].separator){
				ref.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[index].__activateMenuElements(e,true); }
			}
			
			<span class="reserved">if</span>(!<span class="reserved">this</span>.menuItems[indexThis].jsFunction &amp;&amp; !<span class="reserved">this</span>.menuItems[indexThis].url){
				ref.setAttribute(<span class="literal">'objectRef'</span>,index);	<span class="comment">/* saving the index of this object in the DHTMLSuite.variableStorage array as a property of the tag - We need to do this in order to avoid circular references and thus memory leakage in IE */</span>
				ref.onclick = <span class="reserved">this</span>.__changeMenuBarState;				
			}	
			DHTMLSuite.commonObj.__addEventEl(ref);			
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id].expandElement &amp;&amp; 1==2){	<span class="comment">/* Small arrow at the right of the menu item exists - expand subs */</span>				
				try{
					var expandRef = document.getElementById(<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id].expandElement);	<span class="comment">/* Creating reference to expand div/arrow div */</span>
					var parentId = DHTMLSuite.variableStorage.arrayDSObjects[index].menuItems[indexThis].parentId + <span class="literal">''</span>;	<span class="comment">// Get parent id.</span>
					var tmpId = expandRef.id.replace(/[^0-9]/gi,<span class="literal">''</span>);
					expandRef.setAttribute(<span class="literal">'objectRef'</span>,index/1);	<span class="comment">/* saving the index of this object in the DHTMLSuite.variableStorage array as a property of the tag - We need to do this in order to avoid circular references and thus memory leakage in IE */</span>
					expandRef.objectRef = index/1;
				}catch(e){
					
				}
			}
			var target = <span class="reserved">this</span>.menuBarObj;	<span class="comment">// Temporary variable - target of newly created menu item. target can be the main menu object or a sub menu group(see below where target is updated).</span>

			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[indexThis].depth==1 &amp;&amp; <span class="reserved">this</span>.menuItemObj.submenuType[<span class="reserved">this</span>.menuItems[indexThis].depth]!=<span class="literal">'top'</span> &amp;&amp; <span class="reserved">this</span>.menuItemObj.mainMenuGroupWidth){	<span class="comment">/* Main menu item group width set */</span>
				var tmpWidth = <span class="reserved">this</span>.menuItemObj.mainMenuGroupWidth + <span class="literal">''</span>;
				<span class="reserved">if</span>(tmpWidth.indexOf(<span class="literal">'%'</span>)==-1)tmpWidth = tmpWidth + <span class="literal">'px'</span>;
				target.style.width = tmpWidth;	
			}
		
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[indexThis].depth==<span class="literal">'1'</span>){	<span class="comment">/* Top level item */</span>
				<span class="reserved">if</span>(<span class="reserved">this</span>.menuItemObj.submenuType[<span class="reserved">this</span>.menuItems[indexThis].depth]==<span class="literal">'top'</span>){	<span class="comment">/* Type = "top" - menu items side by side */</span>
					ref.style.styleFloat = <span class="literal">'left'</span>;				
					ref.style.cssText = <span class="literal">'float:left'</span>;						
				}			
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(!<span class="reserved">this</span>.menuItems[indexThis].depth){
					alert(<span class="literal">'Error in menu model(depth not defined for a menu item). Remember to call the init() method for the menuModel object.'</span>);
					<span class="reserved">return</span>;
				}
				<span class="reserved">if</span>(!<span class="reserved">this</span>.submenuGroups[<span class="reserved">this</span>.menuItems[indexThis].parentId]){	<span class="comment">// Sub menu div doesn't exist - &gt; Create it.</span>
				
					<span class="reserved">this</span>.submenuGroups[<span class="reserved">this</span>.menuItems[indexThis].parentId] = <span class="literal">'DHTMLSuite_menuBarSubGroup'</span> + <span class="reserved">this</span>.menuItems[indexThis].parentId;
					var div = document.createElement(<span class="literal">'DIV'</span>);	
					div.style.zIndex = 30000;
					div.style.position = <span class="literal">'absolute'</span>;
					div.id = <span class="reserved">this</span>.submenuGroups[<span class="reserved">this</span>.menuItems[indexThis].parentId];
					div.style.visibility = <span class="literal">'hidden'</span>;	<span class="comment">// Initially hidden.</span>
					div.className = <span class="reserved">this</span>.cssPrefix + <span class="literal">'menuBar_'</span> + <span class="reserved">this</span>.menuItemObj.submenuType[<span class="reserved">this</span>.menuItems[indexThis].depth];
					

					<span class="reserved">if</span>(firstChild){
						firstChild.parentNode.insertBefore(div,firstChild);
					}<span class="reserved">else</span>{
						document.body.appendChild(div);
					}
					
					<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; <span class="reserved">this</span>.createIframesForOldIeBrowsers){	<span class="comment">// Create iframe object in order to conver select boxes in older IE browsers(windows).</span>
						<span class="reserved">this</span>.submenuIframes[<span class="reserved">this</span>.menuItems[indexThis].parentId] = <span class="literal">'DHTMLSuite_menuBarIframe_'</span> + <span class="reserved">this</span>.menuItems[indexThis].parentId;
						var iframe = document.createElement(<span class="literal">'&lt;IFRAME src="about:blank" frameborder=0&gt;'</span>);
						iframe.id = <span class="reserved">this</span>.submenuIframes[<span class="reserved">this</span>.menuItems[indexThis].parentId];
						iframe.style.position = <span class="literal">'absolute'</span>;
						iframe.style.zIndex = 9000;
						iframe.style.visibility = <span class="literal">'hidden'</span>;
						<span class="reserved">if</span>(firstChild){
							firstChild.parentNode.insertBefore(iframe,firstChild);
						}<span class="reserved">else</span>{
							document.body.appendChild(iframe);
						}						
					}
				}	
				target = document.getElementById(<span class="reserved">this</span>.submenuGroups[<span class="reserved">this</span>.menuItems[indexThis].parentId]);	<span class="comment">// Change target of newly created menu item. It should be appended to the sub menu div("A group box").				</span>
			}			
			target.appendChild(ref); <span class="comment">// Append menu item to the document.		</span>
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[indexThis].visible == false)<span class="reserved">this</span>.hideMenuItem(<span class="reserved">this</span>.menuItems[indexThis].id);	<span class="comment">// Menu item hidden, call the hideMenuItem method.</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[indexThis].state != <span class="literal">'regular'</span>)<span class="reserved">this</span>.menuItem_objects[<span class="reserved">this</span>.menuItems[indexThis].id].setState(<span class="reserved">this</span>.menuItems[indexThis].state);	<span class="comment">// Menu item hidden, call the hideMenuItem method.</span>

		}	
		

		<span class="reserved">this</span>.__setSizeOfAllSubMenus();	<span class="comment">// Set size of all sub menu groups</span>
		<span class="reserved">this</span>.__positionAllSubMenus();	<span class="comment">// Position all sub menu groups.</span>
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOpera)<span class="reserved">this</span>.__fixMenuLayoutForOperaBrowser();	<span class="comment">// Call a function which fixes some layout issues in Opera.		</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __fixMenuLayoutForOperaBrowser()</span>
    <span class="comment">/**
     *	A method used to fix the menu layout in Opera. 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__fixMenuLayoutForOperaBrowser : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemObj.menuItemsOrder.length;no++){
			var id = <span class="reserved">this</span>.menuItemObj.menuItemsOrder[no];
			<span class="reserved">if</span>(!id)continue;
			document.getElementById(<span class="reserved">this</span>.menuItem_objects[id].divElement).className = document.getElementById(<span class="reserved">this</span>.menuItem_objects[id].divElement).className.replace(<span class="literal">'_regular'</span>,<span class="literal">'_regular'</span>);	<span class="comment">// Nothing is done but by "touching" the class of the menu items in Opera, we make them appear correctly</span>
		}		
	}
	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setSizeOfAllSubMenus()</span>
    <span class="comment">/**
     *	*	Walk through all sub menu groups and call the positioning method for each one of them.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setSizeOfAllSubMenus : <span class="reserved">function</span>()
	{		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemObj.menuItemsOrder.length;no++){
			var prop = <span class="reserved">this</span>.menuItemObj.menuItemsOrder[no];
			<span class="reserved">if</span>(!prop)continue;
			<span class="reserved">this</span>.__setSizeOfSubMenus(prop);
		}			
	}	
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __positionAllSubMenus()</span>
    <span class="comment">/**
     *	Walk through all sub menu groups and call the positioning method for each one of them.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__positionAllSubMenus : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.menuItemObj.menuItemsOrder.length;no++){
			var prop = <span class="reserved">this</span>.menuItemObj.menuItemsOrder[no];
			<span class="reserved">if</span>(!prop)continue;
			<span class="reserved">if</span>(<span class="reserved">this</span>.submenuGroups[prop])<span class="reserved">this</span>.__positionSubMenu(prop);
		}		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __positionSubMenu(parentId)</span>
    <span class="comment">/**
     *	Position a sub menu group
     *
     *	<span class="attrib">@param</span> parentId  	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__positionSubMenu : <span class="reserved">function</span>(parentId)
	{
		try{
			var shortRef = document.getElementById(<span class="reserved">this</span>.submenuGroups[parentId]);	
			
			var depth = <span class="reserved">this</span>.menuItems[parentId].depth;
			var dir = <span class="reserved">this</span>.menuItemObj.submenuType[depth];
			
			var ref = document.getElementById(<span class="reserved">this</span>.menuItem_objects[parentId].divElement);
			<span class="reserved">if</span>(dir==<span class="literal">'top'</span>){			
				shortRef.style.left = DHTMLSuite.commonObj.getLeftPos(ref) + <span class="literal">'px'</span>;
				shortRef.style.top = (DHTMLSuite.commonObj.getTopPos(ref) + ref.offsetHeight) + <span class="literal">'px'</span>;
			}<span class="reserved">else</span>{
				shortRef.style.left = (DHTMLSuite.commonObj.getLeftPos(ref) + ref.offsetWidth) + <span class="literal">'px'</span>;
				shortRef.style.top = (DHTMLSuite.commonObj.getTopPos(ref)) + <span class="literal">'px'</span>;		
			}	
			
			<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
				var iframeRef = document.getElementById(<span class="reserved">this</span>.submenuIframes[parentId]);
				iframeRef.style.left = shortRef.style.left;
				iframeRef.style.top = shortRef.style.top;
				iframeRef.style.width = shortRef.clientWidth + <span class="literal">'px'</span>;
				iframeRef.style.height = shortRef.clientHeight + <span class="literal">'px'</span>;
			}									
		}catch(e){
			
		}		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setSizeOfSubMenus(parentId)</span>
    <span class="comment">/**
     *	Set size of a sub menu group
     *
     *	<span class="attrib">@param</span> parentId  	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setSizeOfSubMenus : <span class="reserved">function</span>(parentId)
	{
		try{
			var shortRef = document.getElementById(<span class="reserved">this</span>.submenuGroups[parentId]);	
			var subWidth = Math.max(shortRef.offsetWidth,document.getElementById(<span class="reserved">this</span>.menuItem_objects[parentId].divElement).offsetWidth);
			<span class="reserved">if</span>(<span class="reserved">this</span>.menuItems[parentId].submenuWidth)subWidth = <span class="reserved">this</span>.menuItems[parentId].submenuWidth;
			<span class="reserved">if</span>(subWidth&gt;400)subWidth = 150;	<span class="comment">// Hack for IE 6 -&gt; force a small width when width is too large.</span>
			subWidth = subWidth + <span class="literal">''</span>;
			<span class="reserved">if</span>(subWidth.indexOf(<span class="literal">'%'</span>)==-1)subWidth = subWidth + <span class="literal">'px'</span>;
			shortRef.style.width = subWidth;	
			<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
				var ref = document.getElementById(<span class="reserved">this</span>.submenuIframes[parentId]);
				ref.style.width = shortRef.style.width;
				ref.style.height = shortRef.style.height;
			}
		}catch(e){
			
		}
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __repositionMenu()</span>
    <span class="comment">/**
     *	Position menu items.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__repositionMenu : <span class="reserved">function</span>(inputObj)
	{
		inputObj.menuBarObj.style.top = document.documentElement.scrollTop + <span class="literal">'px'</span>;
		
	}	
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __menuItemRollOver()</span>
    <span class="comment">/**
     *	Position menu items.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__menuItemRollOver : <span class="reserved">function</span>(menuItemHTMLElementRef)
	{
		var numericId = menuItemHTMLElementRef.id.replace(/[^0-9]/g,<span class="literal">''</span>);
		menuItemHTMLElementRef.className = <span class="literal">'DHTMLSuite_menuBar_menuItem_over_'</span> + <span class="reserved">this</span>.menuItems[numericId][<span class="literal">'depth'</span>];		
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ __menuItemRollOut()</span>
    <span class="comment">/**
     *	Position menu items.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__menuItemRollOut : <span class="reserved">function</span>(menuItemHTMLElementRef)
	{		
		var numericId = menuItemHTMLElementRef.id.replace(/[^0-9]/g,<span class="literal">''</span>);
		menuItemHTMLElementRef.className = <span class="literal">'DHTMLSuite_menuBar_menuItem_'</span> + <span class="reserved">this</span>.menuItems[numericId][<span class="literal">'depth'</span>];		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __menuNavigate()</span>
    <span class="comment">/**
     *	Navigate by click on a menu item
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__menuNavigate : <span class="reserved">function</span>(menuItemHTMLElementRef)
	{
		var numericIndex = menuItemHTMLElementRef.id.replace(/[^0-9]/g,<span class="literal">''</span>);
		var url = <span class="reserved">this</span>.menuItems[numericIndex][<span class="literal">'url'</span>];
		<span class="reserved">if</span>(!url)<span class="reserved">return</span>;	
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setBasicEvents()</span>
    <span class="comment">/**
     *	Set basic events for the menu widget.
     * 	
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__setBasicEvents : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;

		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"click"</span>,<span class="reserved">this</span>.hideSubMenus);		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"mouseup"</span>,<span class="reserved">this</span>.hideSubMenus);		
	
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-paneSplitterModel.js] */</span>
<span class="comment">/************************************************************************************************************
*	Data model for a pane splitter
*
*	Created:						November, 28th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Data source for the pane splitter
*			
*	Css files used by this script:	
*
*	<span class="attrib">@param</span> Array arrayOfProperties - pane splitter properties - associative array. possible keys:
*			collapseButtonsInTitleBars - true if you want collapse/expand buttons in the title bar instead of at the middle of the resize handle
*
*	Demos of this class:			
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Store metadata about a pane splitter widget
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>
DHTMLSuite.paneSplitterModel = <span class="reserved">function</span>(arrayOfProperties)
{
	
	var panes;		<span class="comment">// Array of paneSplitterPaneModel objects</span>
	var collapseButtonsInTitleBars;		<span class="comment">// Place collapse button inside title bars ?</span>
	<span class="reserved">this</span>.collapseButtonsInTitleBars = false;
	
	<span class="reserved">this</span>.panes = new Array();	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	<span class="reserved">this</span>.__setInitProps(arrayOfProperties);
}

DHTMLSuite.paneSplitterModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addPane()</span>
	<span class="comment">/**
	*	Add a pane to the paneSplitterModel
	*
	*	<span class="attrib">@param</span> paneModelRef paneModelRefect of class DHTMLSuite.paneSplitterPaneModel
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	addPane : <span class="reserved">function</span>(paneModelRef)
	{
		<span class="reserved">this</span>.panes[<span class="reserved">this</span>.panes.length] = paneModelRef;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getItems()</span>
	<span class="comment">/**
	*	Add a pane to the paneSplitterModel
	*
	*	<span class="attrib">@return</span> Array of DHTMLSuite.paneSplitterPaneModel objects
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	getItems : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.panes;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setInitProps()</span>
	<span class="comment">/**
	*	Save initial properties
	*
	*	<span class="attrib">@param</span> Array associative array of properties
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__setInitProps : <span class="reserved">function</span>(propArray)
	{
		<span class="reserved">if</span>(!propArray)<span class="reserved">return</span>;
		<span class="reserved">if</span>(propArray.collapseButtonsInTitleBars || propArray.collapseButtonsInTitleBars===false)<span class="reserved">this</span>.collapseButtonsInTitleBars = propArray.collapseButtonsInTitleBars;		
	}
}


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Store metadata about a pane
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

<span class="comment">/************************************************************************************************************
*	Data model for a pane 
*
*	Created:						November, 28th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Data source for the pane splitter
*			
*	Css files used by this script:	
*
*	Demos of this class:			
*
* 	Update log:
*
************************************************************************************************************/</span>
DHTMLSuite.paneSplitterPaneModel = <span class="reserved">function</span>(inputArray)
{
	var id;					<span class="comment">// Unique id of pane, in case you want to perform operations on this particular pane.</span>
	var position;			<span class="comment">// Position, possible values: "West","East","North","South" and "Center"</span>
	var size;				<span class="comment">// Current size of pane(for west and east, the size is equal to width, for south and north, size is equal to height)</span>
	var minSize;			<span class="comment">// Minimum size(height or width) of the pane</span>
	var maxSize;			<span class="comment">// Maximum size(height or width) of the pane.</span>
	var resizable;			<span class="comment">// Boolean - true or false, is the pane resizable</span>
	var visible;			<span class="comment">// Boolean - true or false, is the pane visible?</span>
	var scrollbars;			<span class="comment">// Boolean - true or false, visibility of scrollbars when content size is bigger than visible area(default = true)</span>
	var contents;			<span class="comment">// Array of paneSplitterContentModel objects</span>
	var collapsable;		<span class="comment">// Boolean - true or false, is this pane collapsable</span>
	var state;				<span class="comment">// State of a pane, possible values, "expanded","collapsed"; (default = expanded)</span>
	var callbackOnCollapse;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnHide;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnShow;		<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnExpand;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnSlideOut;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnSlideIn;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnCloseContent;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnBeforeCloseContent;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnTabSwitch;	<span class="comment">// Call back function - if ony function name is give, a reference to this model will be passed to the function with that name</span>
	var callbackOnResize;	<span class="comment">// Call back function - called whenever a tab has been resized manually by dragging the "handle".</span>
	
	<span class="reserved">this</span>.contents = new Array();
	<span class="reserved">this</span>.scrollbars = true;
	<span class="reserved">this</span>.resizable = true;
	<span class="reserved">this</span>.collapsable = true;
	<span class="reserved">this</span>.state = <span class="literal">'expanded'</span>;
	<span class="reserved">this</span>.visible = true;
	<span class="reserved">if</span>(inputArray)<span class="reserved">this</span>.setData(inputArray);
	
}

DHTMLSuite.paneSplitterPaneModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setData()</span>
	<span class="comment">/**
	*	One method which makes it possible to set all properties
	*
	*	<span class="attrib">@param</span> Array inputArray associative array of properties
	*			properties: id,position,title,tabTitle,closable,resizable,size,minSize,maxSize,htmlElementId,contentUrl,collapsable,state(expanded or collapsed),visible
	*						callbackOnCollapse,callbackOnHide,callbackOnShow,callbackOnExpand,callbackOnSlideIn,
	*						callbackOnSlideOut,callbackOnCloseContent,callbackOnBeforeCloseContent,callbackOnTabSwitch,callbackOnResize
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setData : <span class="reserved">function</span>(inputArray)
	{
		<span class="reserved">if</span>(inputArray[<span class="literal">"collapsable"</span>])inputArray[<span class="literal">"collapsable"</span>]=eval(inputArray[<span class="literal">"collapsable"</span>]);
		<span class="reserved">if</span>(inputArray[<span class="literal">"id"</span>])<span class="reserved">this</span>.id = inputArray[<span class="literal">"id"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"position"</span>])<span class="reserved">this</span>.position = inputArray[<span class="literal">"position"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"resizable"</span>]===false || inputArray[<span class="literal">"resizable"</span>]===true)<span class="reserved">this</span>.resizable = inputArray[<span class="literal">"resizable"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"size"</span>])<span class="reserved">this</span>.size = inputArray[<span class="literal">"size"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"minSize"</span>])<span class="reserved">this</span>.minSize = inputArray[<span class="literal">"minSize"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"maxSize"</span>])<span class="reserved">this</span>.maxSize = inputArray[<span class="literal">"maxSize"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"visible"</span>]===false || inputArray[<span class="literal">"visible"</span>]===true)<span class="reserved">this</span>.visible = inputArray[<span class="literal">"visible"</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">"collapsable"</span>]===false || inputArray[<span class="literal">"collapsable"</span>]===true)<span class="reserved">this</span>.collapsable = inputArray[<span class="literal">"collapsable"</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">"scrollbars"</span>]===false || inputArray[<span class="literal">"scrollbars"</span>]===true)<span class="reserved">this</span>.scrollbars = inputArray[<span class="literal">"scrollbars"</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">"state"</span>])<span class="reserved">this</span>.state = inputArray[<span class="literal">"state"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnCollapse"</span>])<span class="reserved">this</span>.callbackOnCollapse = inputArray[<span class="literal">"callbackOnCollapse"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnHide"</span>])<span class="reserved">this</span>.callbackOnHide = inputArray[<span class="literal">"callbackOnHide"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnShow"</span>])<span class="reserved">this</span>.callbackOnShow = inputArray[<span class="literal">"callbackOnShow"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnExpand"</span>])<span class="reserved">this</span>.callbackOnExpand = inputArray[<span class="literal">"callbackOnExpand"</span>];		
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnSlideIn"</span>])<span class="reserved">this</span>.callbackOnSlideIn = inputArray[<span class="literal">"callbackOnSlideIn"</span>];		
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnSlideOut"</span>])<span class="reserved">this</span>.callbackOnSlideOut = inputArray[<span class="literal">"callbackOnSlideOut"</span>];		
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnCloseContent"</span>])<span class="reserved">this</span>.callbackOnCloseContent = inputArray[<span class="literal">"callbackOnCloseContent"</span>];		
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnBeforeCloseContent"</span>])<span class="reserved">this</span>.callbackOnBeforeCloseContent = inputArray[<span class="literal">"callbackOnBeforeCloseContent"</span>];		
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnTabSwitch"</span>])<span class="reserved">this</span>.callbackOnTabSwitch = inputArray[<span class="literal">"callbackOnTabSwitch"</span>];		
		<span class="reserved">if</span>(inputArray[<span class="literal">"callbackOnResize"</span>])<span class="reserved">this</span>.callbackOnResize = inputArray[<span class="literal">"callbackOnResize"</span>];		

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSize()</span>
	<span class="comment">/**
	*	Set size of pane
	*
	*	<span class="attrib">@param</span> Integer newSizeInPixels = Size of new pane ( for "west" and "east", it would be width, for "north" and "south", it's height.
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setSize : <span class="reserved">function</span>(newSizeInPixels)
	{
		<span class="reserved">this</span>.size = newSizeInPixels;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addContent()</span>
	<span class="comment">/**
	*	Add content to a pane.
	*	This method should only be called before the paneSplitter has been initialized, i.e. before it has been displayed on the screen
	*	After it has been displayed, use the addContent method of the DHTMLSuite.paneSplitter class to add content to panes.
	*
	*	<span class="attrib">@param</span> Object paneSplitterContentObj = An object of class DHTMLSuite.paneSplitterContentModel
	*	<span class="attrib">@return</span> Boolean Success = true if content were added, false otherwise, i.e. if conten allready exists
	*	<span class="attrib">@private</span>
	*/</span>		
	addContent : <span class="reserved">function</span>(paneSplitterContentObj)
	{
		<span class="comment">// Check if content with this id allready exists. if it does, escape from the function.</span>
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.contents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.contents[no].id==paneSplitterContentObj.id)<span class="reserved">return</span> false;	
		}
		<span class="reserved">this</span>.contents[<span class="reserved">this</span>.contents.length] = paneSplitterContentObj;	<span class="comment">// Add content to the array of content objects.</span>
		<span class="reserved">return</span> true;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getContents()</span>
	<span class="comment">/**
	*	Return an array of content objects
	*
	*	<span class="attrib">@return</span> Array of DHTMLSuite.paneSplitterContentModel objects
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	getContents : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.contents;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getCountContent()</span>
	<span class="comment">/**
	*	Return number of content objects inside this paneModel
	*
	*	<span class="attrib">@return</span> Integer Number of DHTMLSuite.paneSplitterContentModel objects
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	getCountContent : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.contents.length;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getPosition()</span>
	<span class="comment">/**
	*	Return position of this pane
	*
	*	<span class="attrib">@return</span> String Position of pane ( lowercase, "north","west","east","south" or "center" )
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	getPosition : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.position.toLowerCase();
	}
	
	,
	<span class="comment">// {{{ __setState()</span>
	<span class="comment">/**
	*	Update the state attribute
	*
	*	<span class="attrib">@param</span> String state = state of pane ( "expanded" or "collapsed" )
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setState : <span class="reserved">function</span>(state)
	{
		<span class="reserved">this</span>.state = state;
	}
	<span class="comment">// }}</span>
	,
	<span class="comment">// {{{ __getState()</span>
	<span class="comment">/**
	*	Update the state attribute
	*
	*	<span class="attrib">@return</span> String state - state of pane
	*	<span class="attrib">@private</span>
	*/</span>		
	__getState : <span class="reserved">function</span>(state)
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.state;
	}
	,
	<span class="comment">// {{{ __deleteContent()</span>
	<span class="comment">/**
	*	Delete content from a pane.
	*
	*	<span class="attrib">@param</span> Integer indexOfContentObjectToDelete - Content index
	*	<span class="attrib">@return</span> Integer - Index of new active pane.
	*	<span class="attrib">@private</span>
	*/</span>		
	__deleteContent : <span class="reserved">function</span>(indexOfContentObjectToDelete)
	{
		try{
			<span class="reserved">this</span>.contents.splice(indexOfContentObjectToDelete,1);
		}catch(e)
		{
		}
		
				
		var retVal = indexOfContentObjectToDelete;
		<span class="reserved">if</span>(<span class="reserved">this</span>.contents.length&gt;(indexOfContentObjectToDelete-1))retVal--;
		<span class="reserved">if</span>(retVal&lt;0 &amp;&amp; <span class="reserved">this</span>.contents.length==0)<span class="reserved">return</span> false;
		<span class="reserved">if</span>(retVal&lt;0)retVal=0;		
		<span class="reserved">return</span> retVal;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getIndexById()</span>
	<span class="comment">/**
	*	Return index of content with a specific content id
	*
	*	<span class="attrib">@param</span> String id - id of content
	*	<span class="attrib">@return</span> Integer index - Index of content
	*	<span class="attrib">@private</span>
	*/</span>		
	__getIndexById : <span class="reserved">function</span>(id)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.contents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.contents[no].id==id)<span class="reserved">return</span> no;
		}
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setVisible()</span>
	<span class="comment">/**
	*	Set pane visibility
	*
	*	<span class="attrib">@param</span> Boolean visible - true = visible, false = hidden
	*	
	*	<span class="attrib">@private</span>
	*/</span>		
	__setVisible : <span class="reserved">function</span>(visible)
	{
		<span class="reserved">this</span>.visible = visible;
	}
}

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Store metadata about the content of a pane
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

<span class="comment">/************************************************************************************************************
*	Data source for the content of a pane splitter pane
*
*	Created:						November, 28th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Data source for the pane splitter pane
*			
*	Css files used by this script:	
*
*	Demos of this class:			
*
* 	Update log:
*
************************************************************************************************************/</span>




DHTMLSuite.paneSplitterContentModel = <span class="reserved">function</span>(inputArray)
{
	var id;					<span class="comment">// Unique id of pane, in case you want to perform operations on this particular pane.</span>
	var htmlElementId;		<span class="comment">// Id of element on the page - if present, the content of this pane will be set to the content of this element</span>
	var title;				<span class="comment">// Title of pane</span>
	var tabTitle;			<span class="comment">// If more than one pane is present at this position, what's the tab title of this one.	</span>
	var closable;			<span class="comment">// Boolean - true or false, should it be possible to close this pane</span>
	var contentUrl;			<span class="comment">// Url to content - used in case you want the script to fetch content from the server. the path is relative to your html page.</span>
	<span class="reserved">this</span>.closable = true;	<span class="comment">// Default value</span>
	var refreshAfterSeconds;
	var displayRefreshButton;
	
	<span class="reserved">this</span>.displayRefreshButton = false;
	<span class="reserved">this</span>.refreshAfterSeconds = 0;
	
	<span class="reserved">if</span>(inputArray)<span class="reserved">this</span>.setData(inputArray);	<span class="comment">// Input array present, call the setData method.</span>
}

DHTMLSuite.paneSplitterContentModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setData()</span>
	<span class="comment">/**
	*	One method which makes it possible to set all properties
	*
	*	<span class="attrib">@param</span> Array associative array of properties
	*			properties: id,position,title,tabTitle,closable,htmlElementId,contentUrl,refreshAfterSeconds
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setData : <span class="reserved">function</span>(inputArray)
	{
		<span class="reserved">if</span>(inputArray[<span class="literal">"id"</span>])<span class="reserved">this</span>.id = inputArray[<span class="literal">"id"</span>]; <span class="reserved">else</span> <span class="reserved">this</span>.id = inputArray[<span class="literal">'htmlElementId'</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"closable"</span>]===false || inputArray[<span class="literal">"closable"</span>]===true)<span class="reserved">this</span>.closable = inputArray[<span class="literal">"closable"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"displayRefreshButton"</span>]===false || inputArray[<span class="literal">"displayRefreshButton"</span>])<span class="reserved">this</span>.displayRefreshButton = inputArray[<span class="literal">"displayRefreshButton"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"title"</span>])<span class="reserved">this</span>.title = inputArray[<span class="literal">"title"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"tabTitle"</span>])<span class="reserved">this</span>.tabTitle = inputArray[<span class="literal">"tabTitle"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"contentUrl"</span>])<span class="reserved">this</span>.contentUrl = inputArray[<span class="literal">"contentUrl"</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">"htmlElementId"</span>])<span class="reserved">this</span>.htmlElementId = inputArray[<span class="literal">"htmlElementId"</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">"refreshAfterSeconds"</span>])<span class="reserved">this</span>.refreshAfterSeconds = inputArray[<span class="literal">"refreshAfterSeconds"</span>];	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setTitle()</span>
	<span class="comment">/**
	* 	 Set new title
	*
	*	<span class="attrib">@param</span> String newTitle - New tab title
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setTitle : <span class="reserved">function</span>(newTitle)
	{
		<span class="reserved">this</span>.title = newTitle;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setTabTitle()</span>
	<span class="comment">/**
	* 	 Set new tab title
	*
	*	<span class="attrib">@param</span> String newTabTitle - New tab title
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setTabTitle : <span class="reserved">function</span>(newTabTitle)
	{
		<span class="reserved">this</span>.tabTitle = newTabTitle;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setIdOfContentElement()</span>
	<span class="comment">/**
	* 	 Specify contentId
	*
	*	<span class="attrib">@param</span> String htmlElementId - Id of content ( HTML Element on the page )
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setIdOfContentElement : <span class="reserved">function</span>(htmlElementId)
	{
		<span class="reserved">this</span>.htmlElementId = htmlElementId;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setRefreshAfterSeconds()</span>
	<span class="comment">/**
	* 	 Set reload content value ( seconds )
	*
	*	<span class="attrib">@param</span> Integer refreshAfterSeconds - Refresh rate in seconds
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setRefreshAfterSeconds : <span class="reserved">function</span>(refreshAfterSeconds)
	{
		<span class="reserved">this</span>.refreshAfterSeconds = refreshAfterSeconds;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setContentUrl()</span>
	<span class="comment">/**
	* 	 Specifies external url for content
	*
	*	<span class="attrib">@param</span> String contentUrl - Url of content
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setContentUrl : <span class="reserved">function</span>(contentUrl)
	{
		<span class="reserved">this</span>.contentUrl = contentUrl;
	}
	<span class="comment">/// }}}</span>
	,
	<span class="comment">// {{{ __getClosable()</span>
	<span class="comment">/**
	*	Return the closable attribute
	*	<span class="attrib">@private</span>
	*/</span>		
	__getClosable : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.closable;
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-paneSplitter.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML pane splitter pane
*
*	Created:						November, 28th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Creates a pane for the pane splitter ( This is a private class )
*			
*	Css files used by this script:	pane-splitter.css
*
*	Demos of this class:			demo-pane-splitter.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates the content for a pane in the pane splitter widget( This is a private class )
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.paneSplitterPane = <span class="reserved">function</span>(parentRef)
{
	var divElement;		<span class="comment">// Reference to a div element for the content</span>
	var divElCollapsed;	<span class="comment">// Reference to the div element for the content ( collapsed state )</span>
	var divElCollapsedInner;	<span class="comment">// Reference to the div element for the content ( collapsed state )</span>
	var contentDiv;		<span class="comment">// Div for the content</span>
	var headerDiv;		<span class="comment">// Reference to the header div</span>
	var titleSpan;		<span class="comment">// Reference to the &lt;span&gt; tag for the title</span>
	var paneModel;		<span class="comment">// An array of paneSplitterPaneView objects</span>
	var resizeDiv;		<span class="comment">// Div for the resize handle</span>
	var tabDiv;			<span class="comment">// Div for the tabs</span>
	var divTransparentForResize;	<span class="comment">// This transparent div is used to cover iframes when resize is in progress.</span>
	var parentRef;		<span class="comment">// Reference to paneSplitter object</span>
	
	var divClose;		<span class="comment">// Reference to close button</span>
	var divCollapse;	<span class="comment">// Reference to collapse button</span>
	var divExpand;		<span class="comment">// Reference to expand button</span>
	var divRefresh;		<span class="comment">// Reference to refresh button</span>
	
	var slideIsInProgress;		<span class="comment">// Internal variable used by the script to determine if slide is in progress or not</span>
	var reloadIntervalHandlers;	<span class="comment">// Array of setInterval objects, one for each content of this pane</span>
	
	var contentScrollTopPositions;	<span class="comment">// Array of contents scroll top positions in pixels.</span>
	
	<span class="reserved">this</span>.contents = new Array();
	<span class="reserved">this</span>.reloadIntervalHandlers = new Object();
	<span class="reserved">this</span>.contentScrollTopPositions = new Object();
	
	<span class="reserved">this</span>.parentRef = parentRef;
	var activeContentIndex;	<span class="comment">// Index of active content(default = 0)</span>
	<span class="reserved">this</span>.activeContentIndex = false;
	<span class="reserved">this</span>.slideIsInProgress = false;
	var objectIndex;			<span class="comment">// Index of this object in the variableStorage array</span>
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
}
DHTMLSuite.paneSplitterPane.<span class="reserved">prototype</span> =
{
	<span class="comment">// {{{ addDataSource()</span>
	<span class="comment">/**
	*	Add a data source to the pane
	*
	*	<span class="attrib">@param</span> paneModelRef - Object of class DHTMLSuite.paneSplitterpaneModelRef
	*	<span class="attrib">@public</span>
	*/</span>		
	addDataSource : <span class="reserved">function</span>(paneModelRef)
	{
		<span class="reserved">this</span>.paneModel = paneModelRef;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addContent()</span>
	<span class="comment">/**
	* 	 Add a content model to the pane. 
	*
	*	<span class="attrib">@param</span> DHTMLSuite.paneSplitterpaneContentModelObject paneContentModelObject - Object of class DHTMLSuite.paneSplitterpaneContentModelObject
	*	<span class="attrib">@param</span> String jsCodeToExecuteWhenComplete - JS code to execute/evaluate when content has been successfully loaded.
	*	<span class="attrib">@return</span> Boolean Success - true if content were added, false otherwise (i.e. content already exists)
	*
	*	<span class="attrib">@public</span>
	*/</span>		 
	addContent : <span class="reserved">function</span>(paneContentModelObject,jsCodeToExecuteWhenComplete)
	{
		var retValue = <span class="reserved">this</span>.paneModel.addContent(paneContentModelObject);
		
		<span class="reserved">if</span>(!retValue)<span class="reserved">return</span> false;	<span class="comment">// Content already exists - return from this method.</span>
		<span class="reserved">this</span>.__addOneContentDiv(paneContentModelObject,jsCodeToExecuteWhenComplete);
		<span class="reserved">this</span>.__updateTabContent();
		<span class="reserved">this</span>.__updateView();
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getCountContent()==1)<span class="reserved">this</span>.showContent(paneContentModelObject.id);
		<span class="reserved">return</span> retValue
	}
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ showContent()</span>
	<span class="comment">/**
	* 	Display content - the content with this id will be activated.(if content id doesn't exists, nothing is done)
	*
	*	<span class="attrib">@param</span> String idOfContentObject - Id of the content to show
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	showContent : <span class="reserved">function</span>(idOfContentObject)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.paneModel.contents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.contents[no].id==idOfContentObject){
				<span class="reserved">this</span>.__updatePaneView(no);				
				<span class="reserved">return</span>;
			}
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ loadContent()</span>
	<span class="comment">/**
	* 	loads content into a pane
	*
	*	<span class="attrib">@param</span> String idOfContentObject - Id of the content object - where new content should be appended
	*	<span class="attrib">@param</span> String url - url to content
	*	<span class="attrib">@param</span> Integer refreshAfterSeconds		- Reload url after number of seconds. 0 = no refresh ( also default)
	*	<span class="attrib">@param</span> internalCall Boolean	- Always false ( true only if this method is called by the script it's self )
	*	<span class="attrib">@param</span> String onCompleteJsCode - Js code to execute when content has been successfully loaded.
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	loadContent : <span class="reserved">function</span>(idOfContentObject,url,refreshAfterSeconds,internalCall,onCompleteJsCode)
	{
		<span class="reserved">if</span>(!url)<span class="reserved">return</span>;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.paneModel.contents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.contents[no].id==idOfContentObject){
				<span class="reserved">if</span>(internalCall &amp;&amp; !<span class="reserved">this</span>.paneModel.contents[no].refreshAfterSeconds)<span class="reserved">return</span>;	<span class="comment">// Refresh rate has been cleared - no reload.				</span>
				var ajaxWaitMsg = <span class="reserved">this</span>.parentRef.waitMessage;	<span class="comment">// Please wait message</span>
				<span class="reserved">this</span>.paneModel.contents[no].__setContentUrl(url);
				<span class="reserved">if</span>(refreshAfterSeconds &amp;&amp; !internalCall){
					<span class="reserved">this</span>.paneModel.contents[no].__setRefreshAfterSeconds(refreshAfterSeconds);					
				}
				<span class="reserved">if</span>(refreshAfterSeconds)<span class="reserved">this</span>.__handleContentReload(idOfContentObject,refreshAfterSeconds);
				try{
					var dynContent = new DHTMLSuite.dynamicContent();
				}catch(e){
					alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
				}
				dynContent.setWaitMessage(ajaxWaitMsg);
				dynContent.loadContent(<span class="reserved">this</span>.paneModel.contents[no].htmlElementId,url,onCompleteJsCode);		
				dynContent = false;	
				<span class="reserved">return</span>;
			}
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ isUrlLoadedInPane()</span>
	<span class="comment">/**
	* 	Check if url is allready loaded into a pane.
	*
	*	<span class="attrib">@param</span> String idOfContentObject - Id of content
	*	<span class="attrib">@param</span> String url - url to check
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	isUrlLoadedInPane : <span class="reserved">function</span>(idOfContentObject,url)
	{
		var contentIndex = <span class="reserved">this</span>.paneModel.__getIndexById(idOfContentObject);
		<span class="reserved">if</span>(contentIndex!==false){
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.contents[contentIndex].contentUrl==url)<span class="reserved">return</span> true;
		}
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ reloadContent()</span>
	<span class="comment">/**
	* 	Reloads content for a pane ( AJAX )
	*
	*	<span class="attrib">@param</span> String idOfContentObject - Id of the content object - where new content should be appended
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	reloadContent : <span class="reserved">function</span>(idOfContentObject)
	{
		var contentIndex = <span class="reserved">this</span>.paneModel.__getIndexById(idOfContentObject);
		<span class="reserved">if</span>(contentIndex!==false){
			<span class="reserved">this</span>.loadContent(idOfContentObject,<span class="reserved">this</span>.paneModel.contents[contentIndex].contentUrl);	
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setRefreshAfterSeconds()</span>
	<span class="comment">/**
	* 	Reloads content into a pane - sets a timeout for a new call to loadContent
	*
	*	<span class="attrib">@param</span> String idOfContentObject - Id of the content object - id of content
	*	<span class="attrib">@param</span> Integer refreshAfterSeconds - When to reload content, 0 = no reload of content.
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	setRefreshAfterSeconds : <span class="reserved">function</span>(idOfContentObject,refreshAfterSeconds)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.paneModel.contents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.contents[no].id==idOfContentObject){
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.contents[no].refreshAfterSeconds){
					<span class="reserved">this</span>.loadContent(idOfContentObject,<span class="reserved">this</span>.paneModel.contents[no].contentUrl,refreshAfterSeconds);	
				}
				<span class="reserved">this</span>.paneModel.contents[no].__setRefreshAfterSeconds(refreshAfterSeconds);	
				<span class="reserved">this</span>.__handleContentReload(idOfContentObject);			
			}
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setContentTitle()</span>
	<span class="comment">/**
	* 	New tab title of content - i.e. the heading
	*
	*	<span class="attrib">@param</span> String idOfContent - Id of content object
	*	<span class="attrib">@param</span> String newTitle - New tab title
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setContentTitle : <span class="reserved">function</span>(idOfContent, newTitle)
	{
		var contentModelIndex = <span class="reserved">this</span>.paneModel.__getIndexById(idOfContent);	<span class="comment">// Get a reference to the content object</span>
		<span class="reserved">if</span>(contentModelIndex!==false){
			var contentModelObj = <span class="reserved">this</span>.paneModel.contents[contentModelIndex];
			contentModelObj.__setTitle(newTitle);
			<span class="reserved">this</span>.__updateHeaderBar(<span class="reserved">this</span>.activeContentIndex);
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setContentTabTitle()</span>
	<span class="comment">/**
	* 	New tab title for a specific tab(the clickable tab)
	*
	*	<span class="attrib">@param</span> String idOfContent - Id of content object
	*	<span class="attrib">@param</span> String newTitle - New tab title
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setContentTabTitle : <span class="reserved">function</span>(idOfContent, newTitle)
	{
		var contentModelIndex = <span class="reserved">this</span>.paneModel.__getIndexById(idOfContent);	<span class="comment">// Get a reference to the content object</span>
		<span class="reserved">if</span>(contentModelIndex!==false){
			var contentModelObj = <span class="reserved">this</span>.paneModel.contents[contentModelIndex];
			contentModelObj.__setTabTitle(newTitle);
			<span class="reserved">this</span>.__updateTabContent();
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ hidePane()</span>
	<span class="comment">/**
	* 	Hides the pane
	*
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	hidePane : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.paneModel.__setVisible(false);	<span class="comment">// Update the data source property</span>
		<span class="reserved">this</span>.expand();			
		<span class="reserved">this</span>.divElement.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.__executeCallBack(<span class="literal">"hide"</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ showPane()</span>
	<span class="comment">/**
	* 	Make a pane visible
	*
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	showPane : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.paneModel.__setVisible(true);	
		<span class="reserved">this</span>.divElement.style.display=<span class="literal">'block'</span>;	
		<span class="reserved">this</span>.__executeCallBack(<span class="literal">"show"</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ collapse()</span>
	<span class="comment">/**
	* 	Collapses a pane
	*
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	collapse : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__collapse();
		<span class="reserved">if</span>(!<span class="reserved">this</span>.parentRef.dataModel.collapseButtonsInTitleBars)<span class="reserved">this</span>.parentRef.__toggleCollapseExpandButton(<span class="reserved">this</span>.paneModel.getPosition(),<span class="literal">'collapse'</span>);	
	}
	,
	<span class="comment">// {{{ expand()</span>
	<span class="comment">/**
	* 	Expands a pane
	*
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	expand : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__expand();	
		<span class="reserved">if</span>(!<span class="reserved">this</span>.parentRef.dataModel.collapseButtonsInTitleBars)<span class="reserved">this</span>.parentRef.__toggleCollapseExpandButton(<span class="reserved">this</span>.paneModel.getPosition(),<span class="literal">'expand'</span>);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getIdOfCurrentlyDisplayedContent()</span>
	<span class="comment">/**
	* 	Returns id of the content currently being displayed - active tab.
	*
	*	<span class="attrib">@return</span> String id of currently displayed content (active tab).
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	getIdOfCurrentlyDisplayedContent : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].id;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getHtmlElIdOfCurrentlyDisplayedContent()</span>
	<span class="comment">/**
	* 	Returns id of the HTML element for currently being displayed - active tab.
	*
	*	<span class="attrib">@return</span> String htmlElementId of currently displayed content (active tab).
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	getHtmlElIdOfCurrentlyDisplayedContent : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].htmlElementId;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getSizeOfPaneInPixels()</span>
	<span class="comment">/**
	*	Returns pane width in pixels
	*	<span class="attrib">@return</span> Array - associative array with the keys "width" and "height"
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__getSizeOfPaneInPixels : <span class="reserved">function</span>()
	{
		var retArray = new Object();
		retArray.width = <span class="reserved">this</span>.divElement.offsetWidth;
		retArray.height = <span class="reserved">this</span>.divElement.offsetHeight;
		<span class="reserved">return</span> retArray;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __reloadDisplayedContent()</span>
	<span class="comment">/**
	*	Reloads the displayed content if it got content url.
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__reloadDisplayedContent : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.reloadContent(<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].id);		
	}
	,	
	<span class="comment">// {{{ __getReferenceTomainDivEl()</span>
	<span class="comment">/**
	* 	Returns a reference to the main div element for this pane
	*
	*	<span class="attrib">@param</span> String divElement - Reference to pane div element(top div of pane)
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__getReferenceTomainDivEl : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.divElement;		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __executeResizeCallBack()</span>
	<span class="comment">/**
	* 	Execute a resize pane call back - this method is called from the pane splitter
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__executeResizeCallBack : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__executeCallBack(<span class="literal">'resize'</span>);
	}
	,	
	<span class="comment">// {{{ __executeCallBack()</span>
	<span class="comment">/**
	* 	Execute a call back function
	*
	*	<span class="attrib">@parem</span> whichCallBackAction - which call back - event.
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__executeCallBack : <span class="reserved">function</span>(whichCallBackAction,contentObj)
	{
		
		var callbackString = false;
		switch(whichCallBackAction){	<span class="comment">/* Which call back string */</span>			
			case <span class="literal">"show"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnShow)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnShow;
				break;
			case <span class="literal">"collapse"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnCollapse)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnCollapse;
				break;	
			case <span class="literal">"expand"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnExpand)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnExpand;
				break;	
			case <span class="literal">"hide"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnHide)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnHide;
				break;	
			case <span class="literal">"slideIn"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnSlideIn)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnSlideIn;
				break;	
			case <span class="literal">"slideOut"</span>:				
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnSlideOut)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnSlideOut;				
				break;	
			case <span class="literal">"closeContent"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnCloseContent)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnCloseContent;				
				break;
			case <span class="literal">"beforeCloseContent"</span>: 
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnBeforeCloseContent)<span class="reserved">return</span> true;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnBeforeCloseContent;	
				break;
			case <span class="literal">"tabSwitch"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnTabSwitch)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnTabSwitch;				
				break;	
			case <span class="literal">"resize"</span>:
				<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.callbackOnResize)<span class="reserved">return</span>;
				callbackString = <span class="reserved">this</span>.paneModel.callbackOnResize;
				break;			
		}		
		<span class="reserved">if</span>(!callbackString)<span class="reserved">return</span>;
		<span class="reserved">if</span>(!contentObj)contentObj=false;
		callbackString = <span class="reserved">this</span>.__getCallBackString(callbackString,whichCallBackAction,contentObj);
		<span class="reserved">return</span> <span class="reserved">this</span>.__executeCallBackString(callbackString,contentObj);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getCallBackString()</span>
	<span class="comment">/**
	* 	Parse a call back string. If parantheses are present, return it as it is, otherwise return  the name of the function and the paneModel as argument to that function
	*
	*	<span class="attrib">@param</span> String callbackString - Call back string to parse
	*	<span class="attrib">@param</span> String whichCallBackAction - Which callback action
	*	<span class="attrib">@param</span> Object contentObj - Reference to pane content object(model)
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__getCallBackString : <span class="reserved">function</span>(callbackString,whichCallBackAction,contentObj)
	{
		<span class="reserved">if</span>(callbackString.indexOf(<span class="literal">'('</span>)&gt;=0)<span class="reserved">return</span> callbackString;	
		<span class="reserved">if</span>(contentObj){	
			callbackString = callbackString + <span class="literal">'(this.paneModel,"'</span> + whichCallBackAction + <span class="literal">'",contentObj)'</span>;
		}<span class="reserved">else</span>{
			callbackString = callbackString + <span class="literal">'(this.paneModel,"'</span> + whichCallBackAction + <span class="literal">'")'</span>;
		}
		callbackString = callbackString;
		<span class="reserved">return</span> callbackString;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __executeCallBackString()</span>
	<span class="comment">/**
	* 	Reloads content into a pane - sets a timeout for a new call to loadContent
	*
	*	<span class="attrib">@param</span> String callbackString - Call back string to execute
	*	<span class="attrib">@param</span> Object contentObj - Reference to pane content object(model)
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__executeCallBackString : <span class="reserved">function</span>(callbackString,contentObj)
	{
		try{
			<span class="reserved">return</span> eval(callbackString);
		}catch(e){
			alert(<span class="literal">'Could not execute specified call back function:\n'</span> + callbackString + <span class="literal">'\n\nError:\n'</span> + e.name + <span class="literal">'\n'</span> + e.message + <span class="literal">'\n'</span> + <span class="literal">'\nMake sure that there aren\'</span>t any errors in your <span class="reserved">function</span>.\nAlso remember that contentObj would not be present when you click close on the last tab\n(In case a close tab event triggered <span class="reserved">this</span> callback <span class="reserved">function</span>)<span class="literal">');
		}			
	}	
	,
	// {{{ __handleContentReload()
	/**
	* 	Reloads content into a pane - sets a timeout for a new call to loadContent
	*
	*	@param String id - Id of the content object - id of content
	*
	*	@private
	*/			
	__handleContentReload : function(id)
	{
		var ind = this.objectIndex;		
		var contentIndex = this.paneModel.__getIndexById(id);
		if(contentIndex!==false){
			var contentRef = this.paneModel.contents[contentIndex];
			if(contentRef.refreshAfterSeconds){
				if(this.reloadIntervalHandlers[id])clearInterval(this.reloadIntervalHandlers[id]);
				this.reloadIntervalHandlers[id] = setInterval('</span>DHTMLSuite.variableStorage.arrayDSObjects[<span class="literal">' + ind + '</span>].loadContent(<span class="literal">"' + id + '"</span>,<span class="literal">"' + contentRef.contentUrl + '"</span>,<span class="literal">' + contentRef.refreshAfterSeconds + '</span>,true)<span class="literal">',(contentRef.refreshAfterSeconds*1000));
			}else{
				if(this.reloadIntervalHandlers[id])clearInterval(this.reloadIntervalHandlers[id]);
			}
		}		
	}
	// }}}
	,
	// {{{ __createPane()
	/**
	*	This method creates the div for a pane
	*
	*
	*	@private
	*/		
	__createPane : function()
	{
		this.divElement = document.createElement('</span>DIV<span class="literal">');	// Create the div for a pane.
		this.divElement.style.position = '</span>absolute<span class="literal">';
		this.divElement.className = '</span>DHTMLSuite_pane<span class="literal">';
		this.divElement.id = '</span>DHTMLSuite_pane_<span class="literal">' + this.paneModel.getPosition();
		document.body.appendChild(this.divElement);		
		this.__createHeaderBar();	// Create the header
		this.__createContentPane();	// Create content pane.
		this.__createTabBar();	// Create content pane.
		this.__createCollapsedPane();	// Create div element ( collapsed state)
		this.__createTransparentDivForResize();	// Create transparent div for the resize;
		this.__updateView();	// Update the view		
		this.__addContentDivs();
		this.__setSize();
	}
	// }}}
	,
	// {{{ __createTransparentDivForResize()
	/**
	*	Create div element used when content is being resized
	*
	*
	*	@private
	*/		
	__createTransparentDivForResize : function()
	{
		this.divTransparentForResize = document.createElement('</span>DIV<span class="literal">');
		var ref = this.divTransparentForResize;
		ref.style.opacity = '</span>0<span class="literal">';
		ref.style.display='</span>none<span class="literal">';
		ref.style.filter = '</span>alpha(opacity=0)<span class="literal">';
		ref.style.position = '</span>absolute<span class="literal">';
		ref.style.left = '</span>0px<span class="literal">';
		ref.style.top = this.headerDiv.offsetHeight + '</span>px<span class="literal">';
		ref.style.height = '</span>90%<span class="literal">';
		ref.style.width = '</span>100%<span class="literal">';
		ref.style.backgroundColor='</span>#FFF<span class="literal">';
		ref.style.zIndex = '</span>1000<span class="literal">';
		this.divElement.appendChild(ref);
		
	}
	// }}}
	,
	// {{{ __createCollapsedPane()
	/**
	*	Creates the div element - collapsed state
	*
	*
	*	@private
	*/		
	__createCollapsedPane : function()
	{
		var ind = this.objectIndex;
		var pos = this.paneModel.getPosition();
		var buttonSuffix = '</span>Vertical<span class="literal">';	// Suffix to the class names for the collapse and expand buttons
		if(pos=='</span>west<span class="literal">' || pos=='</span>east<span class="literal">')buttonSuffix = '</span>Horizontal<span class="literal">';
		if(pos=='</span>center<span class="literal">')buttonSuffix = '</span><span class="literal">';
				
		this.divElCollapsed = document.createElement('</span>DIV<span class="literal">');	
		
		
		var obj = this.divElCollapsed;

		obj.className = '</span>DHTMLSuite_pane_collapsed_<span class="literal">' + pos;
		obj.style.visibility='</span>hidden<span class="literal">';
		obj.style.position = '</span>absolute<span class="literal">';
		
		this.divElCollapsedInner = document.createElement('</span>DIV<span class="literal">');
		this.divElCollapsedInner.className= '</span>DHTMLSuite_pane_collapsedInner<span class="literal">';
		this.divElCollapsedInner.onmouseover = this.__mouseoverHeaderButton;
		this.divElCollapsedInner.onmouseout = this.__mouseoutHeaderButton;
		this.divElCollapsedInner.onclick = function(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__slidePane(e); }
		DHTMLSuite.commonObj.__addEventEl(this.divElCollapsedInner);	
		
		obj.appendChild(this.divElCollapsedInner);
			
		var buttonDiv = document.createElement('</span>DIV<span class="literal">');
		buttonDiv.className='</span>buttonDiv<span class="literal">';
		
		this.divElCollapsedInner.appendChild(buttonDiv);

		document.body.appendChild(obj);	
		
		if(this.parentRef.dataModel.collapseButtonsInTitleBars){
			if(this.paneModel.getPosition()=='</span>east<span class="literal">' || this.paneModel.getPosition()=='</span>west<span class="literal">'){
				this.divElCollapsedInner.style.width = (this.parentRef.paneSizeCollapsed - 6) + '</span>px<span class="literal">';
				this.divElCollapsed.style.width = (this.parentRef.paneSizeCollapsed) + '</span>px<span class="literal">';
				if(this.paneModel.getPosition()=='</span>east<span class="literal">'){
					this.divElCollapsedInner.style.marginLeft = '</span>3px<span class="literal">';
				}
			}else{
				this.divElCollapsedInner.style.height = (this.parentRef.paneSizeCollapsed - 6) + '</span>px<span class="literal">';
				this.divElCollapsed.style.height = (this.parentRef.paneSizeCollapsed) + '</span>px<span class="literal">';
				buttonDiv.style.cssText = '</span>float:right;clear:both<span class="literal">';	
			}
			var pos = this.paneModel.getPosition();
			// Creating expand button
			this.divExpand = document.createElement('</span>DIV<span class="literal">');
			if(pos=='</span>south<span class="literal">' || pos=='</span>east<span class="literal">')
				this.divExpand.className='</span>collapseButton<span class="literal">' + buttonSuffix;			
			else
				this.divExpand.className='</span>expandButton<span class="literal">' + buttonSuffix;				
			
				
			this.divExpand.onclick = function() { return DHTMLSuite.variableStorage.arrayDSObjects[ind].__expand(); } ;
			this.divExpand.onmouseover = this.__mouseoverHeaderButton;
			this.divExpand.onmouseout = this.__mouseoutHeaderButton;		
			DHTMLSuite.commonObj.__addEventEl(this.divExpand);		
			buttonDiv.appendChild(this.divExpand);
		}
	}
	// }}}	
	,
	// {{{ __autoSlideInPane()
	/**
	*	Automatically slide in a pane when click outside of the pane. This will happen if the pane is currently in "slide out" mode.
	*
	*
	*	@private
	*/	
	__autoSlideInPane : function(e)
	{
		if(document.all)e = event;
		var state = this.paneModel.__getState();	// Get state of pane
		if(state=='</span>collapsed<span class="literal">' &amp;&amp; this.divElement.style.visibility!='</span>hidden<span class="literal">'){	// Element is collapsed but showing(i.e. temporary expanded)
			if(!DHTMLSuite.commonObj.isObjectClicked(this.divElement,e))this.__slidePane(e,true);	// Slide in pane if element clicked is not the expanded pane			
		}
	}
	// }}}
	,	
	// {{{ __slidePane()
	/**
	*	The purpose of this method is to slide out a pane, but the state of the pane is still collapsed
	*
	*	@param Event e - Reference to event object
	*	@param Boolean forceSlide - force the slide action no matter which element the user clicked on. 
	*
	*	@private
	*/		
	__slidePane : function(e,forceSlide)
	{
		if(this.slideIsInProgress)return;
		this.parentRef.paneZIndexCounter++;
		if(document.all)e = event;	// IE
		var src = DHTMLSuite.commonObj.getSrcElement(e);	// Get a reference to the element triggering the event
		if(src.className=='</span>buttonDiv<span class="literal">')src = src.parentNode;
		if(src.className.indexOf('</span>collapsed<span class="literal">')&lt;0 &amp;&amp; !forceSlide)return;	// If a button on the collapsed pane triggered the event-&gt;Return from the method without doing anything.
		
		this.slideIsInProgress = true;
		var state = this.paneModel.__getState();	// Get state of pane.
		
		var hideWhenComplete = true;
		if(this.divElement.style.visibility=='</span>hidden<span class="literal">'){	// The pane is currently not visible, i.e. not slided out.
			this.__executeCallBack('</span>slideOut<span class="literal">',this.paneModel.contents[this.activeContentIndex]);
			this.__setSlideInitPosition();
			this.divElement.style.visibility='</span>visible<span class="literal">';
			this.divElement.style.zIndex = 16000 + this.parentRef.paneZIndexCounter;
			this.divElCollapsed.style.zIndex = 16000 + this.parentRef.paneZIndexCounter;
		
			var slideTo = this.__getSlideToCoordinates(true);	// Get coordinate, where to slide to
			hideWhenComplete = false;
			var slideSpeed = this.__getSlideSpeed(true); 
			
		}else{
			this.__executeCallBack('</span>slideIn<span class="literal">',this.paneModel.contents[this.activeContentIndex]);
			var slideTo = this.__getSlideToCoordinates(false);	// Get coordinate, where to slide to
			var slideSpeed = this.__getSlideSpeed(false);
		}		
		
		this.__processSlideByPixels(slideTo,slideSpeed*this.parentRef.slideSpeed,this.__getCurrentCoordinateInPixels(),hideWhenComplete);
		
	}
	// }}}
	,
	// {{{ __setSlideInitPosition()
	/**
	*	Set position of pane before slide.
	*
	*
	*	@private
	*/		
	__setSlideInitPosition : function()
	{
		var bw = DHTMLSuite.clientInfoObj.getBrowserWidth();
		var bh = DHTMLSuite.clientInfoObj.getBrowserHeight();
		var pos = this.paneModel.getPosition();
		switch(pos){
			case "west":
				this.divElement.style.left = (0 - this.paneModel.size)+ '</span>px<span class="literal">';				
				break;	
			case "east":
				this.divElement.style.left = bw + '</span>px<span class="literal">';
				break;
			case "north":
				this.divElement.style.top = (0 - this.paneModel.size)+ '</span>px<span class="literal">';	
				break;
			case "south":
				this.divElement.style.top = bh + '</span>px<span class="literal">';
				break;
		}		
	}
	// }}}
	,
	// {{{ __getCurrentCoordinateInPixels()
	/**
	*	Return pixel coordinates for this pane. For left and east, it would be the left position. For top and south, it would be the top position.
	*
	*	@return Integer currentCoordinate	= Current coordinate for a pane ( top or left)
	*
	*	@private
	*/		
	__getCurrentCoordinateInPixels : function()
	{
		var pos = this.paneModel.getPosition();
		var left = this.divElement.style.left.replace('</span>px<span class="literal">','</span><span class="literal">')/1;	
		var top = this.divElement.style.top.replace('</span>px<span class="literal">','</span><span class="literal">')/1;	
		switch(pos){
			case "west": return left;
			case "east": return left;	
			case "south": return top;	
			case "north": return top;				
		}		
	}
	// }}}
	,
	// {{{ __getSlideSpeed()
	/**
	*	Return pixel steps for the slide.
	*
	*	@param Boolean slideOut	= true if the element should slide out, false if it should slide back, i.e. be hidden.
	*
	*	@private
	*/	
	__getSlideSpeed : function(slideOut)
	{
		var pos = this.paneModel.getPosition();
		switch(pos){
			case "west": 
			case "north":
				if(slideOut)return 1;else return -1;
				break;
			case "south":
			case "east":
				if(slideOut)return -1;else return 1;	
		}				
	}
	
	// }}} 
	,
	// {{{ __processSlideByPixels()
	/**
	*	Slides in our out a pane - this method creates that animation
	*
	*	@param Integer slideTo	- coordinate where to slide to(top or left)	
	*	@param Integer slidePixels	- pixels to slide in each iteration of this method
	*	@param Integer currentPos	- current slide position
	*	@param Boolean hideWhenComplete	- Hide pane when completed ?
	*
	*	@private
	*/	
	__processSlideByPixels : function(slideTo,slidePixels,currentPos,hideWhenComplete)
	{
		var pos = this.paneModel.getPosition();
		currentPos = currentPos + slidePixels;
		var repeatSlide = true;	// Repeat one more time ?
		if(slidePixels&gt;0 &amp;&amp; currentPos&gt;slideTo){
			currentPos = slideTo;
			repeatSlide = false;
		}
		if(slidePixels&lt;0 &amp;&amp; currentPos&lt;slideTo){
			currentPos = slideTo;
			repeatSlide = false;
		}		
		switch(pos){
			case "west":
			case "east":
				this.divElement.style.left = currentPos + '</span>px<span class="literal">';
				break;
			case "north":
			case "south":
				this.divElement.style.top = currentPos + '</span>px<span class="literal">';	
		}
		
		if(repeatSlide){
			var ind = this.objectIndex;			
			setTimeout('</span>DHTMLSuite.variableStorage.arrayDSObjects[<span class="literal">' + ind + '</span>].__processSlideByPixels(<span class="literal">' + slideTo + '</span>,<span class="literal">' + slidePixels + '</span>,<span class="literal">' + currentPos + '</span>,<span class="literal">' + hideWhenComplete + '</span>)<span class="literal">',10);
		}else{
			if(hideWhenComplete){
				this.divElement.style.visibility='</span>hidden<span class="literal">';
				this.divElement.style.zIndex = 11000;
				this.divElCollapsed.style.zIndex = 12000;
			}				
			this.slideIsInProgress = false;
		}		
	}
	// }}}
	,
	// {{{ __getSlideToCoordinates()
	/**
	*	Return target coordinate for the slide, i.e. where to slide to
	*
	*	@param Boolean slideOut	= true if the element should slide out, false if it should slide back, i.e. be hidden.
	*
	*	@private
	*/
	__getSlideToCoordinates : function(slideOut)
	{
		var bw = DHTMLSuite.clientInfoObj.getBrowserWidth();
		var bh = DHTMLSuite.clientInfoObj.getBrowserHeight();		
		var pos = this.paneModel.getPosition();
			
		
		switch(pos){
			case "west":	
				if(slideOut)
					return this.parentRef.paneSizeCollapsed + this.parentRef.verticalSplitterSize;	// End position is
				else
					return (0 - this.paneModel.size);
			case "east":
				if(slideOut)
					return bw - this.parentRef.paneSizeCollapsed - this.paneModel.size - this.parentRef.verticalSplitterSize -1;
				else
					return bw;
			case "north":
				if(slideOut)
					return this.parentRef.paneSizeCollapsed + this.parentRef.horizontalSplitterSize;	// End position is
				else
					return (0 - this.paneModel.size);
			case "south":
				if(slideOut)	
					return bh - this.parentRef.paneSizeCollapsed  - this.paneModel.size - this.parentRef.horizontalSplitterSize -1;
				else
					return bh;
		}
		
	}
	
	// }}}	
	,
	// {{{ __updateCollapsedSize()
	/**
	*	Automatically figure out the size of the pane when it'</span>s collapsed(the height or width of the small bar)
	*
	*
	*	@private
	*/		
	__updateCollapsedSize : <span class="reserved">function</span>()
	{
		var pos = <span class="reserved">this</span>.paneModel.getPosition();
		var size;
		<span class="reserved">if</span>(pos==<span class="literal">'west'</span> || pos==<span class="literal">'east'</span>)size = <span class="reserved">this</span>.divElCollapsed.offsetWidth;
		<span class="reserved">if</span>(pos==<span class="literal">'north'</span> || pos==<span class="literal">'south'</span>)size = <span class="reserved">this</span>.divElCollapsed.offsetHeight;
		<span class="reserved">if</span>(size)<span class="reserved">this</span>.parentRef.__setPaneSizeCollapsed(size);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createHeaderBar()</span>
	<span class="comment">/**
	*	Creates the header bar for a pane
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__createHeaderBar : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;	<span class="comment">// Making it into a primitive variable</span>
		var pos = <span class="reserved">this</span>.paneModel.getPosition();	<span class="comment">// Get position of this pane</span>
		var buttonSuffix = <span class="literal">'Vertical'</span>;	<span class="comment">// Suffix to the class names for the collapse and expand buttons</span>
		<span class="reserved">if</span>(pos==<span class="literal">'west'</span> || pos==<span class="literal">'east'</span>)buttonSuffix = <span class="literal">'Horizontal'</span>;
		<span class="reserved">if</span>(pos==<span class="literal">'center'</span>)buttonSuffix = <span class="literal">''</span>;
		
		<span class="reserved">this</span>.headerDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.headerDiv.className = <span class="literal">'DHTMLSuite_paneHeader'</span>;
		<span class="reserved">this</span>.headerDiv.style.position = <span class="literal">'relative'</span>;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.headerDiv);
		
		<span class="reserved">this</span>.titleSpan = document.createElement(<span class="literal">'SPAN'</span>);
		<span class="reserved">this</span>.titleSpan.className = <span class="literal">'paneTitle'</span>;
		<span class="reserved">this</span>.headerDiv.appendChild(<span class="reserved">this</span>.titleSpan);
		
		var buttonDiv = document.createElement(<span class="literal">'DIV'</span>);
		buttonDiv.style.position = <span class="literal">'absolute'</span>;
		buttonDiv.style.right = <span class="literal">'0px'</span>;
		buttonDiv.style.top = <span class="literal">'0px'</span>;
		buttonDiv.style.width=<span class="literal">'50px'</span>;
		buttonDiv.className = <span class="literal">'DHTMLSuite_paneHeader_buttonDiv'</span>;
		<span class="reserved">this</span>.headerDiv.appendChild(buttonDiv);
	
		<span class="comment">// Creating close button</span>
		<span class="reserved">this</span>.divClose = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divClose.className = <span class="literal">'closeButton'</span>;
		<span class="reserved">this</span>.divClose.onmouseover = <span class="reserved">this</span>.__mouseoverHeaderButton;
		<span class="reserved">this</span>.divClose.onmouseout = <span class="reserved">this</span>.__mouseoutHeaderButton;
		<span class="reserved">this</span>.divClose.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divClose.onclick = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__close(); } ;
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divClose);	
		buttonDiv.appendChild(<span class="reserved">this</span>.divClose);
		
		<span class="comment">// Creating collapse button</span>
		<span class="reserved">if</span>(pos!=<span class="literal">'center'</span> &amp;&amp; <span class="reserved">this</span>.parentRef.dataModel.collapseButtonsInTitleBars){
			<span class="reserved">this</span>.divCollapse = document.createElement(<span class="literal">'DIV'</span>);
			<span class="reserved">if</span>(pos==<span class="literal">'south'</span> || pos==<span class="literal">'east'</span>)
				<span class="reserved">this</span>.divCollapse.className=<span class="literal">'expandButton'</span> + buttonSuffix;
			<span class="reserved">else</span>
				<span class="reserved">this</span>.divCollapse.className=<span class="literal">'collapseButton'</span> + buttonSuffix;
			<span class="reserved">this</span>.divCollapse.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;	
			<span class="reserved">this</span>.divCollapse.onclick = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapse(); } ;
			<span class="reserved">this</span>.divCollapse.onmouseover = <span class="reserved">this</span>.__mouseoverHeaderButton;
			<span class="reserved">this</span>.divCollapse.onmouseout = <span class="reserved">this</span>.__mouseoutHeaderButton;
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divCollapse);		
			buttonDiv.appendChild(<span class="reserved">this</span>.divCollapse);
		}

		
		<span class="comment">// Creating refresh button</span>
		<span class="reserved">this</span>.divRefresh = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divRefresh.className=<span class="literal">'refreshButton'</span>;
		<span class="reserved">this</span>.divRefresh.onmouseover = <span class="reserved">this</span>.__mouseoverHeaderButton;
		<span class="reserved">this</span>.divRefresh.onmouseout = <span class="reserved">this</span>.__mouseoutHeaderButton;
		<span class="reserved">this</span>.divRefresh.onclick = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__reloadDisplayedContent(); } ;		
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divRefresh);	
		buttonDiv.appendChild(<span class="reserved">this</span>.divRefresh);
				
		
		<span class="reserved">this</span>.headerDiv.onselectstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverHeaderButton()</span>
	<span class="comment">/**
	*	Mouse over effect - buttons
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__mouseoverHeaderButton : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.className.indexOf(<span class="literal">'Over'</span>)==-1)<span class="reserved">this</span>.className=<span class="reserved">this</span>.className + <span class="literal">'Over'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutHeaderButton()</span>
	<span class="comment">/**
	*	Mouse out effect - buttons
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__mouseoutHeaderButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className=<span class="reserved">this</span>.className.replace(<span class="literal">'Over'</span>,<span class="literal">''</span>);
	}
	,
	<span class="comment">// {{{ __close()</span>
	<span class="comment">/**
	*	Close a pane
	*
	*	<span class="attrib">@param</span> Event e = Reference to Event object
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__close : <span class="reserved">function</span>(e)
	{
		<span class="comment">// Check to see if there's an callbackOnBeforeCloseContent event</span>
		var id = <span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].id;
		var ok = <span class="reserved">this</span>.__getOnBeforeCloseResult(<span class="reserved">this</span>.activeContentIndex);
		<span class="reserved">if</span>(!ok)<span class="reserved">return</span>;
		
		<span class="reserved">if</span>(id){			
			<span class="reserved">this</span>.__executeCallBack(<span class="literal">'closeContent'</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);
			DHTMLSuite.discardElement(<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].htmlElementId);
		}
		<span class="reserved">this</span>.activeContentIndex = <span class="reserved">this</span>.paneModel.__deleteContent(<span class="reserved">this</span>.activeContentIndex);	
		<span class="reserved">if</span>(<span class="reserved">this</span>.activeContentIndex||<span class="reserved">this</span>.activeContentIndex==0){
			<span class="reserved">this</span>.__executeCallBack(<span class="literal">'tabSwitch'</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);
		}		
		<span class="reserved">this</span>.__updatePaneView(<span class="reserved">this</span>.activeContentIndex);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __closeAllClosableTabs()</span>
	<span class="comment">/**
	*	Close all closable tabs.
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__closeAllClosableTabs : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.paneModel.contents.length;no++){
			var closable = <span class="reserved">this</span>.paneModel.contents[no].__getClosable();	
			<span class="reserved">if</span>(closable){
				var id = <span class="reserved">this</span>.paneModel.contents[no].id;
				DHTMLSuite.discardElement(<span class="reserved">this</span>.paneModel.contents[no].htmlElementId);
				<span class="reserved">this</span>.activeContentIndex = <span class="reserved">this</span>.paneModel.__deleteContent(no);			
				<span class="reserved">this</span>.__updatePaneView(<span class="reserved">this</span>.activeContentIndex);		
				no--;		
			}		
		}			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getOnBeforeCloseResult()</span>
	<span class="comment">/**
	*	Return result of onBeforeClose callback
	*
	*	<span class="attrib">@param</span> Integer contentIndex - Index of content to close.
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__getOnBeforeCloseResult : <span class="reserved">function</span>(contentIndex)
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.__executeCallBack(<span class="literal">'beforeCloseContent'</span>,<span class="reserved">this</span>.paneModel.contents[contentIndex]);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteContentByIndex()</span>
	<span class="comment">/**
	*	Close a pane
	*
	*	<span class="attrib">@param</span> Integer index of content to delete
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__deleteContentByIndex : <span class="reserved">function</span>(contentIndex)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getCountContent()==0)<span class="reserved">return</span>;	<span class="comment">// No content to delete</span>
		<span class="reserved">if</span>(!<span class="reserved">this</span>.__getOnBeforeCloseResult(contentIndex))<span class="reserved">return</span>;
		
		var htmlId = <span class="reserved">this</span>.paneModel.contents[contentIndex].htmlElementId;
		<span class="reserved">if</span>(htmlId){
			try{
				DHTMLSuite.discardElement(htmlId);
			}catch(e){
			}
		}
		
		var tmpIndex = <span class="reserved">this</span>.paneModel.__deleteContent(contentIndex);		
		<span class="reserved">if</span>(contentIndex==<span class="reserved">this</span>.activeContentIndex)<span class="reserved">this</span>.activeContentIndex = tmpIndex;
		<span class="reserved">if</span>(<span class="reserved">this</span>.activeContentIndex &gt; contentIndex)<span class="reserved">this</span>.activeContentIndex--;
		<span class="reserved">if</span>(tmpIndex===false)<span class="reserved">this</span>.activeContentIndex=false;
			
		<span class="reserved">this</span>.__updatePaneView(<span class="reserved">this</span>.activeContentIndex);		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteContentById()</span>
	<span class="comment">/**
	*	Close/Delete content
	*
	*	<span class="attrib">@param</span> String id = Id of content to delete/close
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__deleteContentById : <span class="reserved">function</span>(id)
	{
		var index = <span class="reserved">this</span>.paneModel.__getIndexById(id);
		<span class="reserved">if</span>(index!==false)<span class="reserved">this</span>.__deleteContentByIndex(index);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __collapse()</span>
	<span class="comment">/**
	*	Collapse a pane.
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__collapse : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__updateCollapsedSize();
		<span class="reserved">this</span>.paneModel.__setState(<span class="literal">'collapsed'</span>);		<span class="comment">// Updating the state property</span>
		<span class="reserved">this</span>.divElCollapsed.style.visibility=<span class="literal">'visible'</span>;
		<span class="reserved">this</span>.divElement.style.visibility=<span class="literal">'hidden'</span>;
		<span class="reserved">this</span>.__updateView();
		<span class="reserved">this</span>.parentRef.__hideResizeHandle(<span class="reserved">this</span>.paneModel.getPosition());
		<span class="reserved">this</span>.parentRef.__positionPanes();	<span class="comment">// Calling the positionPanes method of parent object</span>
		<span class="reserved">this</span>.__executeCallBack(<span class="literal">"collapse"</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);
	}
	,
	<span class="comment">// {{{ __expand()</span>
	<span class="comment">/**
	*	Expand a pane
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__expand : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.paneModel.__setState(<span class="literal">'expanded'</span>);		<span class="comment">// Updating the state property</span>
		<span class="reserved">this</span>.divElCollapsed.style.visibility=<span class="literal">'hidden'</span>;
		<span class="reserved">this</span>.divElement.style.visibility=<span class="literal">'visible'</span>;
		<span class="reserved">this</span>.__updateView();		
		<span class="reserved">this</span>.parentRef.__showResizeHandle(<span class="reserved">this</span>.paneModel.getPosition());
		<span class="reserved">this</span>.parentRef.__positionPanes();	<span class="comment">// Calling the positionPanes method of parent object</span>
		<span class="reserved">this</span>.__executeCallBack(<span class="literal">"expand"</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateHeaderBar()</span>
	<span class="comment">/**
	*	This method will automatically update the buttons in the header bare depending on the setings specified for currently displayed content.
	*
	*	<span class="attrib">@param</span> Integer index - Index of currently displayed content
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__updateHeaderBar : <span class="reserved">function</span>(index)
	{
		<span class="reserved">if</span>(index===false){	<span class="comment">// No content in this pane</span>
			<span class="reserved">this</span>.divClose.style.display=<span class="literal">'none'</span>;	<span class="comment">// Hide close button</span>
			<span class="reserved">this</span>.divRefresh.style.display=<span class="literal">'none'</span>;
			try{
				<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getPosition()!=<span class="literal">'center'</span> &amp;&amp; <span class="reserved">this</span>.paneModel.collapsable)<span class="reserved">this</span>.divCollapse.style.display=<span class="literal">'block'</span>;<span class="reserved">else</span> <span class="reserved">this</span>.divCollapse.style.display=<span class="literal">'none'</span>;	<span class="comment">// Make collapse button visible for all panes except center</span>
			}catch(e){
			}
			<span class="reserved">this</span>.titleSpan.innerHTML = <span class="literal">''</span>;	<span class="comment">// Set title bar empty</span>
			<span class="reserved">return</span>;	<span class="comment">// Return from this method.</span>
		}
		<span class="reserved">this</span>.divClose.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.divRefresh.style.display=<span class="literal">'block'</span>;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.divCollapse)<span class="reserved">this</span>.divCollapse.style.display=<span class="literal">'block'</span>;	<span class="comment">// Center panes doesn't have collapse button, that's the reason for the if-statement</span>
		<span class="reserved">this</span>.titleSpan.innerHTML = <span class="reserved">this</span>.paneModel.contents[index].title;
		var contentObj = <span class="reserved">this</span>.paneModel.contents[index];
		<span class="reserved">if</span>(!contentObj.closable)<span class="reserved">this</span>.divClose.style.display=<span class="literal">'none'</span>;
		<span class="reserved">if</span>(!contentObj.displayRefreshButton || !contentObj.contentUrl)<span class="reserved">this</span>.divRefresh.style.display=<span class="literal">'none'</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.collapsable){	<span class="comment">// Pane is collapsable</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.divCollapse)<span class="reserved">this</span>.divCollapse.style.display=<span class="literal">'none'</span>;	<span class="comment">// Center panes doesn't have collapse button, that's the reason for the if-statement</span>
		}

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showButtons()</span>
	<span class="comment">/**
	*	Show the close and resize button - it is done by showing the parent element of these buttons
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__showButtons : <span class="reserved">function</span>()
	{
		var div = <span class="reserved">this</span>.headerDiv.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
		div.style.visibility=<span class="literal">'visible'</span>;		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __hideButtons()</span>
	<span class="comment">/**
	*	Hides the close and resize button - it is done by hiding the parent element of these buttons
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__hideButtons : <span class="reserved">function</span>()
	{
		var div = <span class="reserved">this</span>.headerDiv.getElementsByTagName(<span class="literal">'DIV'</span>)[0];
		div.style.visibility=<span class="literal">'hidden'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateView()</span>
	<span class="comment">/**
	* 	Hide or shows header div and tab div based on content
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__updateView : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getCountContent()&gt;0 &amp;&amp; <span class="reserved">this</span>.activeContentIndex===false)<span class="reserved">this</span>.activeContentIndex = 0;	<span class="comment">// No content existed, but content has been added.</span>
		<span class="reserved">this</span>.tabDiv.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.headerDiv.style.display=<span class="literal">'block'</span>;	
		
		var pos = <span class="reserved">this</span>.paneModel.getPosition();
		<span class="reserved">if</span>(pos==<span class="literal">'south'</span> || pos==<span class="literal">'north'</span>)<span class="reserved">this</span>.divElCollapsed.style.height = <span class="reserved">this</span>.parentRef.paneSizeCollapsed;

		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getCountContent()&lt;2)<span class="reserved">this</span>.tabDiv.style.display=<span class="literal">'none'</span>;		
		<span class="reserved">if</span>(<span class="reserved">this</span>.activeContentIndex!==false)<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].title)<span class="reserved">this</span>.headerDiv.style.display=<span class="literal">'none'</span>;	<span class="comment">// Active content without title, hide header bar.</span>
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.state==<span class="literal">'expanded'</span>)<span class="reserved">this</span>.__showButtons();<span class="reserved">else</span> <span class="reserved">this</span>.__hideButtons();
				
		<span class="reserved">this</span>.__setSize();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createContentPane()</span>
	<span class="comment">/**
	* 	Creates the content pane
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__createContentPane : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.contentDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.contentDiv.className = <span class="literal">'DHTMLSuite_paneContent'</span>;
		<span class="reserved">this</span>.contentDiv.id = <span class="literal">'DHTMLSuite_paneContent'</span> + <span class="reserved">this</span>.paneModel.getPosition();
		<span class="reserved">if</span>(!<span class="reserved">this</span>.paneModel.scrollbars)<span class="reserved">this</span>.contentDiv.style.overflow=<span class="literal">'hidden'</span>;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.contentDiv);		

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createTabBar()</span>
	<span class="comment">/**
	* 	Creates the top bar of a pane
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__createTabBar : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.tabDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.tabDiv.className = <span class="literal">'DHTMLSuite_paneTabs'</span>;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.tabDiv);
		<span class="reserved">this</span>.__updateTabContent();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateTabContent()</span>
	<span class="comment">/**
	* 	Reset and repaint the tabs of this pane
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>			
	__updateTabContent : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.tabDiv.innerHTML = <span class="literal">''</span>;	
		var tableObj = document.createElement(<span class="literal">'TABLE'</span>);
		
		tableObj.style.padding = <span class="literal">'0px'</span>;
		tableObj.style.margin = <span class="literal">'0px'</span>;
		tableObj.cellPadding = 0;
		tableObj.cellSpacing = 0;
		<span class="reserved">this</span>.tabDiv.appendChild(tableObj);
		var tbody = document.createElement(<span class="literal">'TBODY'</span>);
		tableObj.appendChild(tbody);
		
		var row = tbody.insertRow(0);
		
		var contents = <span class="reserved">this</span>.paneModel.getContents();
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">for</span>(var no=0;no&lt;contents.length;no++){
			var cell = row.insertCell(-1);			
			var divTag = document.createElement(<span class="literal">'DIV'</span>);
			divTag.className = <span class="literal">'paneSplitterInactiveTab'</span>;			
			cell.appendChild(divTag);			
			var aTag = document.createElement(<span class="literal">'A'</span>);
			aTag.title = contents[no].tabTitle;	<span class="comment">// Setting title of tab - useful when the tab isn't wide enough to show the label.</span>
			contents[no].tabTitle = contents[no].tabTitle + <span class="literal">''</span>;
			aTag.innerHTML = contents[no].tabTitle.replace(<span class="literal">' '</span>,<span class="literal">'&amp;nbsp;'</span>) + <span class="literal">''</span>;
			aTag.id = <span class="literal">'paneTabLink'</span> + no;
			aTag.href=<span class="literal">'#'</span>;
			aTag.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__tabClick(e); } ;
			divTag.appendChild(aTag);
			DHTMLSuite.commonObj.__addEventEl(aTag);			
			divTag.appendChild(document.createElement(<span class="literal">'SPAN'</span>));		
		}		
		<span class="reserved">this</span>.__updateTabView(0);
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __updateTabView()</span>
	<span class="comment">/**
	* 	 Updates the tab view. Sets inactive and active tabs.
	*
	*	<span class="attrib">@param</span> Integer activeTab - Index of active tab.
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__updateTabView : <span class="reserved">function</span>(activeTab)
	{
		var tabDivs = <span class="reserved">this</span>.tabDiv.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;tabDivs.length;no++){
			<span class="reserved">if</span>(no==activeTab){
				tabDivs[no].className = <span class="literal">'paneSplitterActiveTab'</span>;
			}<span class="reserved">else</span> tabDivs[no].className = <span class="literal">'paneSplitterInactiveTab'</span>;			
		}		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __tabClick()</span>
	<span class="comment">/**
	* 	 Click on a tab
	*
	*	<span class="attrib">@param</span> Event e - Reference to the object triggering the event. Content index is the numeric part of this elements id.
	*
	*	<span class="attrib">@private</span>
	*/</span>	
	__tabClick : <span class="reserved">function</span>(e)
	{
		<span class="comment">// contentScrollTopPositions</span>
		<span class="reserved">if</span>(document.all)e = event;
		
		var inputObj = DHTMLSuite.commonObj.getSrcElement(e);
		<span class="reserved">if</span>(inputObj.tagName!=<span class="literal">'A'</span>)inputObj = inputObj.parentNode;
		
		var numIdClickedTab = inputObj.id.replace(/[^0-9]/gi,<span class="literal">''</span>);
		<span class="reserved">if</span>(numIdClickedTab!=<span class="reserved">this</span>.activeContentIndex)<span class="reserved">this</span>.__updatePaneContentScrollTopPosition(<span class="reserved">this</span>.activeContentIndex,numIdClickedTab);		
		<span class="reserved">this</span>.__updatePaneView(numIdClickedTab);
		<span class="reserved">this</span>.__executeCallBack(<span class="literal">"tabSwitch"</span>,<span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex]);
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updatePaneContentScrollTopPosition()</span>
	<span class="comment">/**
	* 	Changes the scrollTop position of the pane. This is useful when you move from tab to tab. This object remembers the scrollTop position of all it's tab and changes the
	*	scrollTop attribute 
	*
	*	<span class="attrib">@param</span> String idOfContentToHide of content element to hide 
	*	<span class="attrib">@param</span> String idOfContentToShow of content element to show 
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__updatePaneContentScrollTopPosition : <span class="reserved">function</span>(idOfContentToHide,idOfContentToShow)
	{
		var newScrollTop = 0;
		<span class="reserved">if</span>(<span class="reserved">this</span>.contentScrollTopPositions[idOfContentToShow])newScrollTop = <span class="reserved">this</span>.contentScrollTopPositions[idOfContentToShow];
		var contentParentContainer = document.getElementById(<span class="reserved">this</span>.paneModel.contents[idOfContentToHide].htmlElementId).parentNode;
		<span class="reserved">this</span>.contentScrollTopPositions[idOfContentToHide] = contentParentContainer.scrollTop;
		setTimeout(<span class="literal">'document.getElementById("'</span> + contentParentContainer.id + <span class="literal">'").scrollTop = '</span> + newScrollTop,20);	<span class="comment">// A small delay so that content can be inserted into the div first.</span>
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __addContentDivs()</span>
	<span class="comment">/**
	* 	Add content div to a pane.
	*
	*	<span class="attrib">@param</span> String onCompleteJsCode - Js code to execute when content has been succesfully loaded into the pane
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__addContentDivs : <span class="reserved">function</span>(onCompleteJsCode)
	{
		var contents = <span class="reserved">this</span>.paneModel.getContents();
		<span class="reserved">for</span>(var no=0;no&lt;contents.length;no++){
			<span class="reserved">this</span>.__addOneContentDiv(<span class="reserved">this</span>.paneModel.contents[no],onCompleteJsCode);
		}			
		<span class="reserved">this</span>.__updatePaneView(<span class="reserved">this</span>.activeContentIndex);	<span class="comment">// Display initial data</span>
	}
	,
	<span class="comment">// {{{ __addSingleContentToPane()</span>
	<span class="comment">/**
	* 	
	*
	*	<span class="attrib">@param</span> Object contentObj PaneSplitterContentModel object.
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__addOneContentDiv : <span class="reserved">function</span>(contentObj,onCompleteJsCode)
	{
		var htmlElementId = contentObj.htmlElementId;	<span class="comment">// Get a reference to content id</span>
		var contentUrl = contentObj.contentUrl;	<span class="comment">// Get a reference to content id</span>
		var refreshAfterSeconds = contentObj.refreshAfterSeconds;	<span class="comment">// Get a reference to content id</span>
		<span class="reserved">if</span>(htmlElementId){
			try{
				<span class="reserved">this</span>.contentDiv.appendChild(document.getElementById(htmlElementId));
				document.getElementById(htmlElementId).className = <span class="literal">'DHTMLSuite_paneContentInner'</span>;
				document.getElementById(htmlElementId).style.display=<span class="literal">'none'</span>;		
			}catch(e){
			}		
		}
		<span class="reserved">if</span>(contentUrl){	<span class="comment">/* Url present */</span>
			<span class="reserved">if</span>(!contentObj.htmlElementId || htmlElementId.indexOf(<span class="literal">'dynamicCreatedDiv__'</span>)==-1){	<span class="comment">// Has this content been loaded before ? Might have to figure out a smarter way of checking this.</span>
				<span class="reserved">if</span>(!document.getElementById(htmlElementId)){				
					<span class="reserved">this</span>.__createAContentDivDynamically(contentObj);
					<span class="reserved">this</span>.loadContent(contentObj.id,contentUrl,refreshAfterSeconds,false,onCompleteJsCode);
				}
			}
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createAContentDivDynamically()</span>
	<span class="comment">/**
	* 	Create the div for a tab dynamically (in case no content exists, i.e. content loaded from external file)
	*
	*	<span class="attrib">@param</span> Object contentObj PaneSplitterContentModel object.
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__createAContentDivDynamically : <span class="reserved">function</span>(contentObj)
	{
		var d = new Date();	<span class="comment">// Create unique id for a new div</span>
		var divId = <span class="literal">'dynamicCreatedDiv__'</span> + d.getSeconds() + (Math.random()+<span class="literal">''</span>).replace(<span class="literal">'.'</span>,<span class="literal">''</span>);
		<span class="reserved">if</span>(!document.getElementById(contentObj.id))divId = contentObj.id;	<span class="comment">// Give it the id of the element it's self if it doesn't alredy exists on the page.</span>
		contentObj.__setIdOfContentElement(divId);
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.id = divId;
		div.className = <span class="literal">'DHTMLSuite_paneContentInner'</span>;
		<span class="reserved">if</span>(contentObj.contentUrl)div.innerHTML = <span class="reserved">this</span>.parentRef.waitMessage;	<span class="comment">// Content url present - Display wait message until content has been loaded.</span>
		<span class="reserved">this</span>.contentDiv.appendChild(div);
		div.style.display=<span class="literal">'none'</span>;			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showHideContentDiv()</span>
	<span class="comment">/**
	* 	Updates the pane view. New content has been selected. call methods for update of header bars, content divs and tabs.
	*
	*	<span class="attrib">@param</span> Integer index Index of active content ( false = no content exists)
	*
	*	<span class="attrib">@private</span>
	*/</span>			
	__updatePaneView : <span class="reserved">function</span>(index)
	{
		<span class="reserved">if</span>(!index &amp;&amp; index!==0)index=<span class="reserved">this</span>.activeContentIndex;
		<span class="reserved">this</span>.__updateTabContent();
		<span class="reserved">this</span>.__updateView();
		<span class="reserved">this</span>.__updateHeaderBar(index);
		<span class="reserved">this</span>.__showHideContentDiv(index);

		<span class="reserved">this</span>.__updateTabView(index);
		<span class="reserved">this</span>.activeContentIndex = index;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showHideContentDiv()</span>
	<span class="comment">/**
	*	Switch between content divs(the inner div inside a pane )
	*
	*	<span class="attrib">@param</span> Integer index Index of content to show(if false, then do nothing --- because there aren't any content in this pane)
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__showHideContentDiv : <span class="reserved">function</span>(index)
	{
		<span class="reserved">if</span>(index!==false){	<span class="comment">// Still content in this pane			</span>
			var htmlElementId = <span class="reserved">this</span>.paneModel.contents[<span class="reserved">this</span>.activeContentIndex].htmlElementId;	
			try{
				document.getElementById(htmlElementId).style.display=<span class="literal">'none'</span>;	
			}catch(e){
				
			}			
			var htmlElementId = <span class="reserved">this</span>.paneModel.contents[index].htmlElementId;
			<span class="reserved">if</span>(htmlElementId){
				try{
					document.getElementById(htmlElementId).style.display=<span class="literal">'block'</span>;		
				}catch(e){
				}
			}
		}		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setSize()</span>
	<span class="comment">/**
	*	Set some size attributes for the panes
	*
	*	<span class="attrib">@param</span> Boolean recursive
	*
	*	<span class="attrib">@private</span>
	*/</span>			
	__setSize : <span class="reserved">function</span>(recursive)
	{
		var pos = <span class="reserved">this</span>.paneModel.getPosition().toLowerCase();
		<span class="reserved">if</span>(pos==<span class="literal">'west'</span> || pos==<span class="literal">'east'</span>){
			<span class="reserved">this</span>.divElement.style.width = <span class="reserved">this</span>.paneModel.size + <span class="literal">'px'</span>;	
		}
		<span class="reserved">if</span>(pos==<span class="literal">'north'</span> || pos==<span class="literal">'south'</span>){
			<span class="reserved">this</span>.divElement.style.height = <span class="reserved">this</span>.paneModel.size + <span class="literal">'px'</span>;	
			<span class="reserved">this</span>.divElement.style.width = <span class="literal">'100%'</span>;
		}
		
		try{
			<span class="reserved">this</span>.contentDiv.style.height = (<span class="reserved">this</span>.divElement.clientHeight - <span class="reserved">this</span>.tabDiv.offsetHeight - <span class="reserved">this</span>.headerDiv.offsetHeight) + <span class="literal">'px'</span>;
		}catch(e){
		}
		
		<span class="reserved">if</span>(!recursive){
			window.obj = <span class="reserved">this</span>;
			setTimeout(<span class="literal">'window.obj.__setSize(true)'</span>,100);
		}
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setTopPosition()</span>
	<span class="comment">/**
	*	Set new top position for the pane
	*
	*	<span class="attrib">@param</span> Integer newTop
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setTopPosition : <span class="reserved">function</span>(newTop)
	{
		<span class="reserved">this</span>.divElement.style.top = newTop + <span class="literal">'px'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setLeftPosition()</span>
	<span class="comment">/**
	*	Set new left position for the pane
	*
	*	<span class="attrib">@param</span> Integer newLeft
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setLeftPosition : <span class="reserved">function</span>(newLeft)
	{
		<span class="reserved">this</span>.divElement.style.left = newLeft + <span class="literal">'px'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setWidth()</span>
	<span class="comment">/**
	*	Set width for the pane
	*
	*	<span class="attrib">@param</span> Integer newWidth
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setWidth : <span class="reserved">function</span>(newWidth)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getPosition()==<span class="literal">'west'</span> || <span class="reserved">this</span>.paneModel.getPosition()==<span class="literal">'east'</span>)<span class="reserved">this</span>.paneModel.setSize(newWidth);
		newWidth = newWidth + <span class="literal">''</span>;
		<span class="reserved">if</span>(newWidth.indexOf(<span class="literal">'%'</span>)==-1)newWidth = Math.max(1,newWidth) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElement.style.width = newWidth;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHeight()</span>
	<span class="comment">/**
	*	Set height for the pane
	*
	*	<span class="attrib">@param</span> Integer newHeight
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setHeight : <span class="reserved">function</span>(newHeight)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneModel.getPosition()==<span class="literal">'north'</span> || <span class="reserved">this</span>.paneModel.getPosition()==<span class="literal">'south'</span>)<span class="reserved">this</span>.paneModel.setSize(newHeight);
		<span class="reserved">this</span>.divElement.style.height = Math.max(1,newHeight) + <span class="literal">'px'</span>;		
		<span class="reserved">this</span>.__setSize();	<span class="comment">// Set size of inner elements.	</span>
	}
	,
	<span class="comment">// {{{ __showTransparentDivForResize()</span>
    <span class="comment">/**
     *	Show transparent div used to cover iframes during resize 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__showTransparentDivForResize : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divTransparentForResize.style.display = <span class="literal">'block'</span>;
		var ref = <span class="reserved">this</span>.divTransparentForResize;
		ref.style.height = <span class="reserved">this</span>.contentDiv.clientHeight + <span class="literal">'px'</span>;
		ref.style.width = <span class="reserved">this</span>.contentDiv.clientWidth + <span class="literal">'px'</span>;	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __hideTransparentDivForResize()</span>
    <span class="comment">/**
     *	Hide transparent div used to cover iframes during resize  
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__hideTransparentDivForResize : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divTransparentForResize.style.display = <span class="literal">'none'</span>;
	}
	<span class="comment">// }}}	</span>
}


<span class="comment">/************************************************************************************************************
*	DHTML pane splitter
*
*	Created:						November, 28th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Creates a pane splitter
*			
*	Css files used by this script:	pane-splitter.css
*
*	Demos of this class:			demo-pane-splitter.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates a pane splitter. (&lt;a href="../../demos/demo-pane-splitter.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.paneSplitter = <span class="reserved">function</span>()
{
	var dataModel;				<span class="comment">// An object of class DHTMLSuite.paneSplitterModel</span>
	var panes;					<span class="comment">// An array of DHTMLSuite.paneSplitterPane objects.</span>
	var panesAssociative;		<span class="comment">// An associative array of panes. used to get a quick access to the panes</span>
	var paneContent;			<span class="comment">// An array of DHTMLSuite.paneSplitterPaneView objects.</span>
	var layoutCSS;				<span class="comment">// Name/Path of css file</span>
	
	var horizontalSplitterSize;	<span class="comment">// Height of horizontal splitter</span>
	var horizontalSplitterBorderSize;	<span class="comment">// Height of horizontal splitter</span>
	
	var verticalSplitterSize;	<span class="comment">// </span>

	var paneSplitterHandles;				<span class="comment">// Associative array of pane splitter handles</span>
	var paneSplitterHandleOnResize;
	
	var resizeInProgress;					<span class="comment">// Variable indicating if resize is in progress</span>
	
	var resizeCounter;						<span class="comment">// Internal variable used while resizing (-1 = no resize, 0 = waiting for resize)</span>
	var currentResize;						<span class="comment">// Which pane is currently being resized ( string, "west", "east", "north" or "south"</span>
	var currentResize_min;
	var currentResize_max;
	
	var paneSizeCollapsed;					<span class="comment">// Size of pane when it's collapsed ( the bar )</span>
	var paneBorderLeftPlusRight;			<span class="comment">// Sum of border left and right for panes ( needed in a calculation)</span>
	
	var slideSpeed;							<span class="comment">// Slide of pane slide	</span>
	var waitMessage;						<span class="comment">// Ajax wait message</span>
	var collapseExpandButtons;				<span class="comment">// Reference to collapse and expand buttons</span>
	var paneZIndexCounter;
	
	<span class="reserved">this</span>.collapseExpandButtons = new Object();
	<span class="reserved">this</span>.resizeCounter = -1;
	<span class="reserved">this</span>.horizontalSplitterSize = 6;
	<span class="reserved">this</span>.verticalSplitterSize = 6;
	<span class="reserved">this</span>.paneBorderLeftPlusRight = 2;		<span class="comment">// 1 pixel border at the right of panes, 1 pixel to the left</span>
	<span class="reserved">this</span>.slideSpeed = 10;
	
	<span class="reserved">this</span>.horizontalSplitterBorderSize = 1;
	<span class="reserved">this</span>.resizeInProgress = false;
	<span class="reserved">this</span>.paneSplitterHandleOnResize = false;
	<span class="reserved">this</span>.paneSizeCollapsed = 18;
	
	<span class="reserved">this</span>.paneSplitterHandles = new Object();
	
	<span class="reserved">this</span>.dataModel = false;		<span class="comment">// Initial value</span>
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'pane-splitter.css'</span>;
	<span class="reserved">this</span>.waitMessage = <span class="literal">'Loading content - please wait'</span>;
	<span class="reserved">this</span>.panes = new Array();
	<span class="reserved">this</span>.panesAssociative = new Object();
	
	<span class="reserved">this</span>.paneZIndexCounter = 1;
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	var objectIndex;			<span class="comment">// Index of this object in the variableStorage array</span>
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
}

DHTMLSuite.paneSplitter.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addModel()</span>
	<span class="comment">/**
	*	Add datasource for the pane splitter
	*
	*	<span class="attrib">@param</span> Object newModel - Data source, object of class DHTMLSuite.paneSplitterModel
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	addModel : <span class="reserved">function</span>(newModel)
	{
		<span class="reserved">this</span>.dataModel = newModel;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
	<span class="comment">/**
	*	Specify name/path to a css file(default is 'pane-splitter.css')
	*
	*	<span class="attrib">@param</span> String layoutCSS = Name(or relative path) of new css path
	*	<span class="attrib">@public</span>
	*/</span>		
	setLayoutCss : <span class="reserved">function</span>(layoutCSS)
	{
		<span class="reserved">this</span>.layoutCSS = layoutCSS;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setAjaxWaitMessage()</span>
	<span class="comment">/**
	*	Specify ajax wait message - message displayed in the pane when content is being loaded from the server.
	*
	*	<span class="attrib">@param</span> String newWaitMessage = Wait message - plain text or HTML.
	*
	*	<span class="attrib">@public</span>
	*/</span>			
	setAjaxWaitMessage : <span class="reserved">function</span>(newWaitMessage)
	{
		<span class="reserved">this</span>.waitMessage = newWaitMessage;	
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSizeOfPane()</span>
	<span class="comment">/**
	*	Set new size of pane
	*
	*	<span class="attrib">@param</span> String panePosition = Position of pane(east,west,south or north)
	*	<span class="attrib">@param</span> Integer newSize = New size of pane in pixels.
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setSizeOfPane : <span class="reserved">function</span>(panePosition,newSize)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()])<span class="reserved">return</span>;
		<span class="reserved">if</span>(panePosition==<span class="literal">'east'</span> || panePosition==<span class="literal">'west'</span>){
			<span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()].__setWidth(newSize);
		}
		<span class="reserved">if</span>(panePosition==<span class="literal">'north'</span> || panePosition==<span class="literal">'south'</span>){
			<span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()].__setHeight(newSize);
		}
		<span class="reserved">this</span>.__positionPanes();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSlideSpeed()</span>
	<span class="comment">/**
	*	Set speed of slide animation.
	*
	*	<span class="attrib">@param</span> Integer slideSpeed = new slide speed ( higher = faster ) - default = 10
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	setSlideSpeed : <span class="reserved">function</span>(slideSpeed)
	{
		<span class="reserved">this</span>.slideSpeed = slideSpeed;
	}
	,
	<span class="comment">// {{{ init()</span>
	<span class="comment">/**
	*	Initializes the script
	*
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);	<span class="comment">// Load css.			</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars)<span class="reserved">this</span>.paneSizeCollapsed = 25;		
		<span class="reserved">this</span>.__createPanes();	<span class="comment">// Create the panes	</span>
		<span class="reserved">this</span>.__positionPanes();	<span class="comment">// Position panes</span>
		<span class="reserved">this</span>.__createResizeHandles();
		<span class="reserved">this</span>.__addEvents();
		<span class="reserved">this</span>.__initCollapsePanes();	
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> + <span class="reserved">this</span>.objectIndex + <span class="literal">"].__positionPanes();"</span>,100);
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> + <span class="reserved">this</span>.objectIndex + <span class="literal">"].__positionPanes();"</span>,500);
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> + <span class="reserved">this</span>.objectIndex + <span class="literal">"].__positionPanes();"</span>,1500);
	}
	<span class="comment">// }}}</span>
	,

	<span class="comment">// {{{ isUrlLoadedInPane()</span>
    <span class="comment">/**
     *	This method returns true if content with a specific url exists inside a specific content container.
     *
     *	<span class="attrib">@param</span> String id 		- id of content object
     *	<span class="attrib">@param</span> String url		- Url of file (Url to check on)
     *
     * <span class="attrib">@public</span>	
     */</span>		
    	
	isUrlLoadedInPane : <span class="reserved">function</span>(id,url)
	{		
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(id);	<span class="comment">// Get a reference to the pane where the content is.</span>
		<span class="reserved">if</span>(ref){	<span class="comment">// Pane found</span>
			<span class="reserved">return</span> ref.isUrlLoadedInPane(id,url);
		}<span class="reserved">else</span> <span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ loadContent()</span>
    <span class="comment">/**
     *	This method loads content from server and inserts it into the pane with the given id 
     *	If you want the content to be displayed directly, remember to call the showContent method too.
     *
     *	<span class="attrib">@param</span> String id - id of content object where the element should be inserted
     *	<span class="attrib">@param</span> String url		- Url of file (the content of this file will be inserted into the define pane)
	 *	<span class="attrib">@param</span> Integer refreshAfterSeconds		- Reload url after number of seconds. 0 = no refresh ( also default)
     *	<span class="attrib">@param</span> String onCompleteJsCode - Js code to evaluate when content has been successfully loaded(Callback) - example: "myFunction()". This string will be avaluated.
     *
     * <span class="attrib">@public</span>	
     */</span>		
    	
	loadContent : <span class="reserved">function</span>(id,url,refreshAfterSeconds,onCompleteJsCode)
	{		
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(id);	<span class="comment">// Get a reference to the pane where the content is.</span>
		<span class="reserved">if</span>(ref){	<span class="comment">// Pane found</span>
			ref.loadContent(id,url,refreshAfterSeconds,false,onCompleteJsCode);		<span class="comment">// Call the loadContent method of this object. </span>
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ reloadContent()</span>
    <span class="comment">/**
     *	Reloads ajax content
     *
     *	<span class="attrib">@param</span> String id - id of content object to reload.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	reloadContent : <span class="reserved">function</span>(id)
	{
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(id);	<span class="comment">// Get a reference to the pane where the content is.</span>
		<span class="reserved">if</span>(ref){	<span class="comment">// Pane found</span>
			ref.reloadContent(id);		<span class="comment">// Call the loadContent method of this object. </span>
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setRefreshAfterSeconds()</span>
    <span class="comment">/**
     *	Specify a new value for when content should be reloaded. 
     *
     *	<span class="attrib">@param</span> String idOfContentObject - id of content to add the value to
     *	<span class="attrib">@param</span> Integer refreshAfterSeconds - Refresh rate of content (0 = no refresh)
     *
     * <span class="attrib">@public</span>	
     */</span>	
	setRefreshAfterSeconds : <span class="reserved">function</span>(idOfContentObject,refreshAfterSeconds)
	{
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(idOfContentObject);	<span class="comment">// Get a reference to the pane where the content is.</span>
		<span class="reserved">if</span>(ref){	<span class="comment">// Pane found</span>
			ref.setRefreshAfterSeconds(idOfContentObject,refreshAfterSeconds);		<span class="comment">// Call the loadContent method of this object. </span>
		}		
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setContentTabTitle()</span>
    <span class="comment">/**
     *	New title of tab - i.e. the text inside the clickable tab.
     *
     *	<span class="attrib">@param</span> String idOfContentObject - id of content object
     *	<span class="attrib">@param</span> String newTitle - New title of tab	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setContentTabTitle : <span class="reserved">function</span>(idOfContentObject,newTitle)
	{
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(idOfContentObject);	<span class="comment">// Get a reference to the pane where the content is.</span>
		<span class="reserved">if</span>(ref)ref.setContentTabTitle(idOfContentObject,newTitle);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setContentTitle()</span>
    <span class="comment">/**
     *	New title of content - i.e. the heading
     *
     *	<span class="attrib">@param</span> String idOfContentObject - id of content object
     *	<span class="attrib">@param</span> String newTitle - New title of tab	
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setContentTitle : <span class="reserved">function</span>(idOfContentObject,newTitle)
	{
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(idOfContentObject);	<span class="comment">// Get a reference to the pane where the content is.</span>
		<span class="reserved">if</span>(ref)ref.setContentTitle(idOfContentObject,newTitle);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ showContent()</span>
    <span class="comment">/**
     *	Makes content with a specific id visible 
     *
     *	<span class="attrib">@param</span> String id - id of content to make visible(remember to have unique id's on each of your content objects)
     *
     * <span class="attrib">@public</span>	
     */</span>		
	showContent : <span class="reserved">function</span>(id)
	{
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(id);
		<span class="reserved">if</span>(ref)ref.showContent(id);
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ closeAllClosableTabs()</span>
	<span class="comment">/**
	*	Close all closable tabs, i.e. tabs where the closable attribute is set to true.
	*
	*	<span class="attrib">@param</span> String panePosition
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	closeAllClosableTabs : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()]) <span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()].__closeAllClosableTabs(); <span class="reserved">else</span> <span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addContent()</span>
	<span class="comment">/**
	*	Add content to a pane
	*
	*	<span class="attrib">@param</span> String panePosition - Position of pane(west,north,center,east or south)
	*	<span class="attrib">@param</span> Object contentModel - Object of type DHTMLSuite.paneSplitterContentModel
	*	<span class="attrib">@param</span> String onCompleteJsCode - Js code to execute when content is successfully loaded.
	*	<span class="attrib">@return</span> Boolean Success - true if content were added successfully, false otherwise - false means that the pane don't exists or that content with this id allready has been added.
	*	<span class="attrib">@public</span>
	*/</span>		
	addContent : <span class="reserved">function</span>(panePosition,contentModel,onCompleteJsCode)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()]) <span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()].addContent(contentModel,onCompleteJsCode); <span class="reserved">else</span> <span class="reserved">return</span> false;
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getState()</span>
	<span class="comment">/**
	*	Get state of pane
	*
	*	<span class="attrib">@param</span> String panePosition - Position of pane(west,north,center,east or south)
	*	<span class="attrib">@return</span> String state of pane - "collapsed" or "expanded".
	*	<span class="attrib">@public</span>
	*/</span>		
	getState : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()]) <span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition.toLowerCase()].paneModel.__getState();
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteContentById()</span>
	<span class="comment">/**
	*	Delete content from a pane by index
	*
	*	<span class="attrib">@param</span> String id - Id of content to delete.
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	deleteContentById : <span class="reserved">function</span>(id)
	{
		var ref = <span class="reserved">this</span>.__getPaneReferenceFromContentId(id);
		<span class="reserved">if</span>(ref)ref.__deleteContentById(id);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteContentByIndex()</span>
	<span class="comment">/**
	*	Delete content from a pane by index
	*
	*	<span class="attrib">@param</span> String panePosition - Position of pane(west,north,center,east or south)
	*	<span class="attrib">@param</span> Integer	contentIndex
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	deleteContentByIndex: <span class="reserved">function</span>(panePosition,contentIndex)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition]){<span class="comment">//Pane exists</span>
			<span class="reserved">this</span>.panesAssociative[panePosition].__deleteContentByIndex(contentIndex);		
		}		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ hidePane()</span>
	<span class="comment">/**
	*	Hide a pane
	*
	*	<span class="attrib">@param</span> String panePosition - Position of pane(west,north,center,east or south)
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	hidePane : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition] &amp;&amp; panePosition!=<span class="literal">'center'</span>){
			<span class="reserved">this</span>.panesAssociative[panePosition].hidePane();				 <span class="comment">// Call method in paneSplitterPane class</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[panePosition])<span class="reserved">this</span>.paneSplitterHandles[panePosition].style.display=<span class="literal">'none'</span>; <span class="comment">// Hide resize handle</span>
			<span class="reserved">this</span>.__positionPanes();										 <span class="comment">// Reposition panes 	</span>
		}<span class="reserved">else</span> <span class="reserved">return</span> false;
		
	}	
	,
	<span class="comment">// {{{ showPane()</span>
	<span class="comment">/**
	*	Show a previously hidden pane
	*
	*	<span class="attrib">@param</span> String panePosition - Position of pane(west,north,center,east or south)
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	showPane : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition] &amp;&amp; panePosition!=<span class="literal">'center'</span>){
			<span class="reserved">this</span>.panesAssociative[panePosition].showPane();					<span class="comment">// Call method in paneSplitterPane class</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[panePosition])<span class="reserved">this</span>.paneSplitterHandles[panePosition].style.display=<span class="literal">'block'</span>;	<span class="comment">// Show resize handle</span>
			<span class="reserved">this</span>.__positionPanes();											<span class="comment">// Reposition panes</span>
		}<span class="reserved">else</span> <span class="reserved">return</span> false;			
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getReferenceToMainDivElOfPane()</span>
	<span class="comment">/**
	*	Get reference to main div element of a pane. This can for example be useful if you're using the imageSelection class and want
	*	To restrict the area for a selection. Maybe you only want your users to start selection within the center pane, not the other panes.
	*
	*	<span class="attrib">@param</span> String panePosition - Position of pane(west,north,center,east or south)
	*
	*	<span class="attrib">@public</span>
	*/</span>	
	getReferenceToMainDivElOfPane : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition].__getReferenceTomainDivEl();
		<span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getIdOfCurrentlyDisplayedContent()</span>
	<span class="comment">/**
	* 	Returns id of the content currently being displayed - active tab.
	*
	*	<span class="attrib">@param</span> String position - which pane. ("west","east","center","north","south")
	*	<span class="attrib">@return</span> String id of currently displayed content (active tab).
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	getIdOfCurrentlyDisplayedContent : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition].getIdOfCurrentlyDisplayedContent();
		<span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getHtmlElIdOfCurrentlyDisplayedContent()</span>
	<span class="comment">/**
	* 	Returns html element id of the content currently being displayed - active tab.
	*
	*	<span class="attrib">@param</span> String position - which pane. ("west","east","center","north","south")
	*	<span class="attrib">@return</span> String id of currently displayed content(the HTML element) (active tab).
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	getHtmlElIdOfCurrentlyDisplayedContent : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition].getHtmlElIdOfCurrentlyDisplayedContent();
		<span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getSizeOfPaneInPixels()</span>
	<span class="comment">/**
	* 	Returns id of the content currently being displayed - active tab.
	*
	*	<span class="attrib">@param</span> String position - which pane. ("west","east","center","north","south")
	*	<span class="attrib">@return</span> Array - Assocative array representing width and height of the pane(keys in array: "width" and "height").
	*
	*	<span class="attrib">@public</span>
	*/</span>		
	getSizeOfPaneInPixels : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">return</span> <span class="reserved">this</span>.panesAssociative[panePosition].__getSizeOfPaneInPixels();
		<span class="reserved">return</span> false;			
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ expandPane()</span>
    <span class="comment">/**
     *	Use this method when you manually want to expand a pane
     *
     *	<span class="attrib">@param</span> String panePosition - Position of pane, west,east,north,south
     *
     * <span class="attrib">@public</span>	
     */</span>	
	expandPane : <span class="reserved">function</span>(panePosition)
	{		
		<span class="reserved">if</span>(panePosition==<span class="literal">'center'</span>)<span class="reserved">return</span>;		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">this</span>.panesAssociative[panePosition].__expand();
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars)<span class="reserved">this</span>.__toggleCollapseExpandButton(panePosition,<span class="literal">'expand'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ collapsePane()</span>
    <span class="comment">/**
     *	Use this method when you manually want to collapse a pane
     *
     *	<span class="attrib">@param</span> String panePosition - Position of pane, west,east,north,south
     *
     * <span class="attrib">@public</span>	
     */</span>		
	collapsePane : <span class="reserved">function</span>(panePosition)
	{
		<span class="reserved">if</span>(panePosition==<span class="literal">'center'</span>)<span class="reserved">return</span>;		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">this</span>.panesAssociative[panePosition].__collapse();
		<span class="reserved">if</span>(!<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars)<span class="reserved">this</span>.__toggleCollapseExpandButton(panePosition,<span class="literal">'collapse'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setPaneSizeCollapsed()</span>
	<span class="comment">/**
	*	Automatically set size of collapsed pane ( called by a pane - the size is the offsetWidth or offsetHeight of the pane in collapsed state)
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>		
	__setPaneSizeCollapsed : <span class="reserved">function</span>(newSize)
	{	
		<span class="reserved">return</span>;
		<span class="reserved">if</span>(newSize&gt;<span class="reserved">this</span>.paneSizeCollapsed){
			<span class="reserved">this</span>.paneSizeCollapsed = newSize;
		}
	}
	<span class="comment">// }}}</span>
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createPanes()</span>
	<span class="comment">/**
	*	Creates the panes
	*
	*
	*	<span class="attrib">@private</span>
	*/</span>			
	__createPanes : <span class="reserved">function</span>()
	{
		var dataObjects = <span class="reserved">this</span>.dataModel.getItems();	<span class="comment">// An array of data source objects, i.e. panes.</span>
		<span class="reserved">for</span>(var no=0;no&lt;dataObjects.length;no++){
			var index = <span class="reserved">this</span>.panes.length;
			<span class="reserved">this</span>.panes[index] = new DHTMLSuite.paneSplitterPane(<span class="reserved">this</span>);
			<span class="reserved">this</span>.panes[index].addDataSource(dataObjects[no]);
			<span class="reserved">this</span>.panes[index].__createPane();	
			<span class="reserved">this</span>.panesAssociative[dataObjects[no].position.toLowerCase()] = <span class="reserved">this</span>.panes[index];	<span class="comment">// Save this pane in the associative array			</span>
		}		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __collapseAPane()</span>
    <span class="comment">/**
     *	Collapse a pane from button
     *
     *	<span class="attrib">@param</span> Event e - Reference to event object, used to get a reference to the clicked butotn.
     *	<span class="attrib">@param</span> String panePosition - Position of pane, west,east,north,south
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__collapseAPane : <span class="reserved">function</span>(e,panePosition)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(document.all) e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		src.className = src.className.replace(<span class="literal">' DHTMLSuite_collapseExpandOver'</span>,<span class="literal">''</span>);
		<span class="reserved">this</span>.__toggleCollapseExpandButton(panePosition,<span class="literal">'collapse'</span>);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">this</span>.panesAssociative[panePosition].__collapse();
		src.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__expandAPane(e,panePosition); } ;	

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __toggleCollapseExpandButton()</span>
    <span class="comment">/**
     *	Toggle collapse/expand buttons
     *
     *	<span class="attrib">@param</span> String panePosition - Position of pane, west,east,north,south
     *	<span class="attrib">@param</span> String state	- expand or collapse
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__toggleCollapseExpandButton : <span class="reserved">function</span>(panePosition,state)
	{
		var src = <span class="reserved">this</span>.collapseExpandButtons[panePosition];
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(state==<span class="literal">'expand'</span>){
				
			switch(panePosition){
				case <span class="literal">"east"</span>:
					src.className = src.className.replace(<span class="literal">'Left'</span>,<span class="literal">'Right'</span>);
					src.parentNode.className = src.parentNode.className.replace(<span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>,<span class="literal">''</span>);
					break;
				case <span class="literal">"west"</span>:
					src.className = src.className.replace(<span class="literal">'Right'</span>,<span class="literal">'Left'</span>);
					src.parentNode.className = src.parentNode.className.replace(<span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>,<span class="literal">''</span>);
					break;
				case <span class="literal">"south"</span>:
					src.className = src.className.replace(<span class="literal">'Up'</span>,<span class="literal">'Down'</span>);
					src.parentNode.className = src.parentNode.className.replace(<span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>,<span class="literal">''</span>);
					break;
				case <span class="literal">"north"</span>:
					src.className = src.className.replace(<span class="literal">'Down'</span>,<span class="literal">'Up'</span>);
					src.parentNode.className = src.parentNode.className.replace(<span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>,<span class="literal">''</span>);
					break;
			}			
			src.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,panePosition); } ;	
		}		
		<span class="reserved">if</span>(state==<span class="literal">'collapse'</span>){
			
			switch(panePosition){
				case <span class="literal">"west"</span>:
					src.className = src.className.replace(<span class="literal">'Left'</span>,<span class="literal">'Right'</span>);
					src.parentNode.className = src.parentNode.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>;
					break;
				case <span class="literal">"east"</span>:
					src.className = src.className.replace(<span class="literal">'Right'</span>,<span class="literal">'Left'</span>);
					src.parentNode.className = src.parentNode.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>;
					break;
				case <span class="literal">"north"</span>:
					src.className = src.className.replace(<span class="literal">'Up'</span>,<span class="literal">'Down'</span>);
					src.parentNode.className = src.parentNode.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>;
					break;
				case <span class="literal">"south"</span>:
					src.className = src.className.replace(<span class="literal">'Down'</span>,<span class="literal">'Up'</span>);
					src.parentNode.className = src.parentNode.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>;
					break;
			}			
			src.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__expandAPane(e,panePosition); } ;	
			
		}
		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __expandAPane()</span>
    <span class="comment">/**
     *	Expand a pane by clicking on a button
     *
     *	<span class="attrib">@param</span> Event e - Event object - used to find reference to clicked button
     *	<span class="attrib">@param</span> String panePosition - Position of pane, west,east,north,south
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__expandAPane : <span class="reserved">function</span>(e,panePosition)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(document.all) e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		src.className = src.className.replace(<span class="literal">' DHTMLSuite_collapseExpandOver'</span>,<span class="literal">''</span>);
		<span class="reserved">this</span>.__toggleCollapseExpandButton(panePosition,<span class="literal">'expand'</span>);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[panePosition])<span class="reserved">this</span>.panesAssociative[panePosition].__expand();
		src.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,panePosition); } ;	
			
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createResizeHandles()</span>
    <span class="comment">/**
     *	Positions the resize handles correctly
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__createResizeHandles : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="comment">// Create splitter for the north pane</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>] &amp;&amp; (<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.resizable || (<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.collapsable &amp;&amp; !<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars))){
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>] = document.createElement(<span class="literal">'DIV'</span>);
			var obj = <span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>];
			obj.className = <span class="literal">'DHTMLSuite_paneSplitter_horizontal'</span>;
			obj.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
			obj.style.position = <span class="literal">'absolute'</span>;
			obj.style.height = <span class="reserved">this</span>.horizontalSplitterSize + <span class="literal">'px'</span>;
			obj.style.width = <span class="literal">'100%'</span>;
			obj.style.zIndex = 10000;
			obj.setAttribute(<span class="literal">'resizeHandle'</span>,<span class="literal">'1'</span>);
			DHTMLSuite.commonObj.addEvent(obj,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,<span class="literal">'north'</span>); });	
			document.body.appendChild(obj);		
			
			<span class="reserved">if</span>(!<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars){
				
				var subElement = document.createElement(<span class="literal">'DIV'</span>);
				subElement.className = <span class="literal">'DHTMLSuite_resizeButtonUp'</span>;
				subElement.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,<span class="literal">'north'</span>); } ;
				subElement.onmouseover = <span class="reserved">this</span>.__mouseoverCollapseButton;
				subElement.onmouseout = <span class="reserved">this</span>.__mouseoutCollapseButton;
				subElement.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;	
				DHTMLSuite.commonObj.__addEventEl(subElement);				
				obj.appendChild(subElement);
				<span class="reserved">this</span>.collapseExpandButtons[<span class="literal">'north'</span>] = subElement;
				
				<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.state==<span class="literal">'collapsed'</span>)<span class="reserved">this</span>.__toggleCollapseExpandButton(<span class="literal">'north'</span>,<span class="literal">'collapse'</span>);
				
				<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.collapsable){
					subElement.style.display=<span class="literal">'none'</span>;
					obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_expInTitle'</span>;
				}
			}<span class="reserved">else</span>{
				obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_expInTitle'</span>;
			}
			<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.resizable)obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>;	
		}
		<span class="comment">// Create splitter for the west pane</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>]){
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>] = document.createElement(<span class="literal">'DIV'</span>);
			var obj = <span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>];
			obj.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
			obj.className = <span class="literal">'DHTMLSuite_paneSplitter_vertical'</span>;
			obj.style.position = <span class="literal">'absolute'</span>;
			obj.style.width = <span class="reserved">this</span>.verticalSplitterSize + <span class="literal">'px'</span>;
			obj.style.zIndex = 11000;
			obj.setAttribute(<span class="literal">'resizeHandle'</span>,<span class="literal">'1'</span>);
			DHTMLSuite.commonObj.addEvent(obj,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,<span class="literal">'west'</span>); });	
			document.body.appendChild(obj);			
			
			<span class="reserved">if</span>(!<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars){
				var subElement = document.createElement(<span class="literal">'DIV'</span>);
				subElement.className = <span class="literal">'DHTMLSuite_resizeButtonLeft'</span>;			
				subElement.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,<span class="literal">'west'</span>); } ;
				DHTMLSuite.commonObj.__addEventEl(subElement);		
				subElement.onmouseover = <span class="reserved">this</span>.__mouseoverCollapseButton;
				subElement.onmouseout = <span class="reserved">this</span>.__mouseoutCollapseButton;		
				subElement.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;			
				obj.appendChild(subElement);
				<span class="reserved">this</span>.collapseExpandButtons[<span class="literal">'west'</span>] = subElement;
				<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.state==<span class="literal">'collapsed'</span>)<span class="reserved">this</span>.__toggleCollapseExpandButton(<span class="literal">'west'</span>,<span class="literal">'collapse'</span>);
				<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.collapsable){
					subElement.style.display=<span class="literal">'none'</span>;
					obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_expInTitle'</span>;				
				}
			}<span class="reserved">else</span>{
				obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_expInTitle'</span>;
			}
			
			<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.resizable){
				obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>;
			}
		}
		
		<span class="comment">// Create splitter for the east pane</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>]){
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>] = document.createElement(<span class="literal">'DIV'</span>);
			var obj = <span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>];
			obj.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
			obj.className = <span class="literal">'DHTMLSuite_paneSplitter_vertical'</span>;
			obj.style.position = <span class="literal">'absolute'</span>;
			obj.style.width = <span class="reserved">this</span>.verticalSplitterSize + <span class="literal">'px'</span>;
			obj.style.zIndex = 11000;		
			obj.setAttribute(<span class="literal">'resizeHandle'</span>,<span class="literal">'1'</span>);
			DHTMLSuite.commonObj.addEvent(obj,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,<span class="literal">'east'</span>); });			
			document.body.appendChild(obj);	
			
			<span class="reserved">if</span>(!<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars){
				var subElement = document.createElement(<span class="literal">'DIV'</span>);
				subElement.className = <span class="literal">'DHTMLSuite_resizeButtonRight'</span>;
				subElement.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,<span class="literal">'east'</span>); } ;
				subElement.onmouseover = <span class="reserved">this</span>.__mouseoverCollapseButton;
				subElement.onmouseout = <span class="reserved">this</span>.__mouseoutCollapseButton;
				subElement.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;	
				DHTMLSuite.commonObj.__addEventEl(subElement);				
				obj.appendChild(subElement);
				<span class="reserved">this</span>.collapseExpandButtons[<span class="literal">'east'</span>] = subElement;
				<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].paneModel.state==<span class="literal">'collapsed'</span>)<span class="reserved">this</span>.__toggleCollapseExpandButton(<span class="literal">'east'</span>,<span class="literal">'collapse'</span>);
				<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].paneModel.collapsable){
					subElement.style.display=<span class="literal">'none'</span>;
					obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_expInTitle'</span>;
				}
			}<span class="reserved">else</span>{
				obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_expInTitle'</span>;
			}
			<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].paneModel.resizable)obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>;					
		}
		
		
		<span class="comment">// Create splitter for the south pane</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>] &amp;&amp; (<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.resizable || (<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.collapsable &amp;&amp; !<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars))){
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'south'</span>] = document.createElement(<span class="literal">'DIV'</span>);
			var obj = <span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'south'</span>];
			obj.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
			obj.className = <span class="literal">'DHTMLSuite_paneSplitter_horizontal'</span>;
			obj.style.position = <span class="literal">'absolute'</span>;
			obj.style.height = <span class="reserved">this</span>.horizontalSplitterSize + <span class="literal">'px'</span>;
			obj.style.width = <span class="literal">'100%'</span>;
			obj.setAttribute(<span class="literal">'resizeHandle'</span>,<span class="literal">'1'</span>);
			obj.style.zIndex = 10000;
			DHTMLSuite.commonObj.addEvent(obj,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResizePane(e,<span class="literal">'south'</span>); });	
			document.body.appendChild(obj);	
			
			<span class="reserved">if</span>(!<span class="reserved">this</span>.dataModel.collapseButtonsInTitleBars){
				var subElement = document.createElement(<span class="literal">'DIV'</span>);
				subElement.style.position=<span class="literal">'absolute'</span>;
				subElement.className = <span class="literal">'DHTMLSuite_resizeButtonDown'</span>;
				subElement.onclick = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__collapseAPane(e,<span class="literal">'south'</span>); } ;
				subElement.onmouseover = <span class="reserved">this</span>.__mouseoverCollapseButton;
				subElement.onmouseout = <span class="reserved">this</span>.__mouseoutCollapseButton;
				subElement.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;	
				DHTMLSuite.commonObj.__addEventEl(subElement);				
				obj.appendChild(subElement);
				<span class="reserved">this</span>.collapseExpandButtons[<span class="literal">'south'</span>] = subElement;
				<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.state==<span class="literal">'collapsed'</span>)<span class="reserved">this</span>.__toggleCollapseExpandButton(<span class="literal">'south'</span>,<span class="literal">'collapse'</span>);
				<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.collapsable){
					subElement.style.display=<span class="literal">'none'</span>;
					obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_expInTitle'</span>;
				}
			}<span class="reserved">else</span>{
				obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_expInTitle'</span>;
			}
			<span class="reserved">if</span>(!<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.resizable)obj.className = obj.className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>;	
		}		
		
		<span class="comment">// Create onresize handle</span>
		<span class="reserved">this</span>.paneSplitterHandleOnResize = document.createElement(<span class="literal">'DIV'</span>);		
		var obj = <span class="reserved">this</span>.paneSplitterHandleOnResize;
		obj.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		obj.className = <span class="literal">'DHTMLSuite_paneSplitter_onResize'</span>;	
		obj.style.position = <span class="literal">'absolute'</span>;
		obj.style.zIndex = 955000;
		obj.style.display=<span class="literal">'none'</span>;
		document.body.appendChild(obj);
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverCollapseButton()</span>
    <span class="comment">/**
     *	Mouse over - collapse button
     *	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverCollapseButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_collapseExpandOver'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutCollapseButton()</span>
    <span class="comment">/**
     *	Mouse out - collapse butotn
     *	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutCollapseButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_collapseExpandOver'</span>,<span class="literal">''</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getPaneReferenceFromContentId()</span>
    <span class="comment">/**
     *	Returns a reference to a pane from content id
     *	
     *	<span class="attrib">@param</span> String id - id of content
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getPaneReferenceFromContentId : <span class="reserved">function</span>(id)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.panes.length;no++){
			var contents = <span class="reserved">this</span>.panes[no].paneModel.getContents();
			<span class="reserved">for</span>(var no2=0;no2&lt;contents.length;no2++){
				<span class="reserved">if</span>(contents[no2].id==id)<span class="reserved">return</span> <span class="reserved">this</span>.panes[no];
			}
		}
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initCollapsePanes()</span>
    <span class="comment">/**
     *	Initially collapse panes
     *	
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__initCollapsePanes : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.panes.length;no++){	<span class="comment">/* Loop through panes */</span>			
			<span class="reserved">if</span>(<span class="reserved">this</span>.panes[no].paneModel.state==<span class="literal">'collapsed'</span>){	<span class="comment">// State set to collapsed ?</span>
				<span class="reserved">this</span>.panes[no].__collapse();					
			}		
		}
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getMinimumPos()</span>
    <span class="comment">/**
     *	Returns mininum pos in pixels
     *	
     *	<span class="attrib">@param</span> String pos ("west","north","east","south")
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getMinimumPos : <span class="reserved">function</span>(pos)
	{
		var browserWidth = DHTMLSuite.clientInfoObj.getBrowserWidth();
		var browserHeight = DHTMLSuite.clientInfoObj.getBrowserHeight();
				
		<span class="reserved">if</span>(pos==<span class="literal">'west'</span> || pos == <span class="literal">'north'</span>){
			<span class="reserved">return</span> 	<span class="reserved">this</span>.panesAssociative[pos].paneModel.minSize;
		}<span class="reserved">else</span>{
			<span class="reserved">if</span>(pos==<span class="literal">'east'</span>)<span class="reserved">return</span> 	browserWidth - <span class="reserved">this</span>.panesAssociative[pos].paneModel.maxSize;
			<span class="reserved">if</span>(pos==<span class="literal">'south'</span>)<span class="reserved">return</span> 	browserHeight - <span class="reserved">this</span>.panesAssociative[pos].paneModel.maxSize;
		}
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __getMaximumPos()</span>
    <span class="comment">/**
     *	Returns maximum pos in pixels
     *	
     *	<span class="attrib">@param</span> String pos ("west","north","east","south")
     *
     * <span class="attrib">@private</span>	
     */</span>				
	__getMaximumPos : <span class="reserved">function</span>(pos)
	{
		var browserWidth = DHTMLSuite.clientInfoObj.getBrowserWidth();
		var browserHeight = DHTMLSuite.clientInfoObj.getBrowserHeight();
				
		<span class="reserved">if</span>(pos==<span class="literal">'west'</span> || pos == <span class="literal">'north'</span>){
			<span class="reserved">return</span> 	<span class="reserved">this</span>.panesAssociative[pos].paneModel.maxSize;
		}<span class="reserved">else</span>{
			<span class="reserved">if</span>(pos==<span class="literal">'east'</span>)<span class="reserved">return</span> 	browserWidth - <span class="reserved">this</span>.panesAssociative[pos].paneModel.minSize;
			<span class="reserved">if</span>(pos==<span class="literal">'south'</span>)<span class="reserved">return</span> 	browserHeight - <span class="reserved">this</span>.panesAssociative[pos].paneModel.minSize;
		}
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __initResizePane()</span>
    <span class="comment">/**
     *	Mouse down on resize handle.
     *	
     *	<span class="attrib">@param</span> String pos ("west","north","east","south")
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__initResizePane : <span class="reserved">function</span>(e,pos)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var obj = DHTMLSuite.commonObj.getSrcElement(e);	<span class="comment">// Reference to element triggering the event.</span>
		var attr = obj.getAttribute(<span class="literal">'resizeHandle'</span>);
		<span class="reserved">if</span>(!attr)attr = obj.resizeHandle;
		<span class="reserved">if</span>(!attr)<span class="reserved">return</span>;
		<span class="reserved">if</span>(obj.className.indexOf(<span class="literal">'noresize'</span>)&gt;=0)<span class="reserved">return</span>;
		<span class="reserved">this</span>.currentResize = pos;
		<span class="reserved">this</span>.currentResize_min = <span class="reserved">this</span>.__getMinimumPos(pos);
		<span class="reserved">this</span>.currentResize_max = <span class="reserved">this</span>.__getMaximumPos(pos);
		
		
		<span class="reserved">this</span>.paneSplitterHandleOnResize.style.left = <span class="reserved">this</span>.paneSplitterHandles[pos].style.left; 
		<span class="reserved">this</span>.paneSplitterHandleOnResize.style.top = <span class="reserved">this</span>.paneSplitterHandles[pos].style.top; 
		<span class="reserved">this</span>.paneSplitterHandleOnResize.style.width = <span class="reserved">this</span>.paneSplitterHandles[pos].offsetWidth + <span class="literal">'px'</span>; 
		<span class="reserved">this</span>.paneSplitterHandleOnResize.style.height = <span class="reserved">this</span>.paneSplitterHandles[pos].offsetHeight + <span class="literal">'px'</span>; 
		<span class="reserved">this</span>.paneSplitterHandleOnResize.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.resizeCounter = 0;
		DHTMLSuite.commonObj.__setTextSelOk(false);
		<span class="reserved">this</span>.__timerResizePane(pos);
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __timerResizePane()</span>
    <span class="comment">/**
     *	A small delay between mouse down and resize start
     *	
     *	<span class="attrib">@param</span> String pos - which pane to resize.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__timerResizePane : <span class="reserved">function</span>(pos)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeCounter&gt;=0 &amp;&amp; <span class="reserved">this</span>.resizeCounter&lt;5){
			<span class="reserved">this</span>.resizeCounter++;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + <span class="reserved">this</span>.objectIndex + <span class="literal">'].__timerResizePane()'</span>,2);
			<span class="reserved">return</span>;
		}	
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeCounter==5){
			<span class="reserved">this</span>.__showTransparentDivForResize(<span class="literal">'show'</span>);
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showTransparentDivForResize()</span>
    <span class="comment">/**
     *	Show transparent divs used to cover iframes during resize
     *
     *	This is a solution to the problem where you're unable to drag the resize handle over iframes.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__showTransparentDivForResize : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOpera)<span class="reserved">return</span>;	<span class="comment">// Opera doesn't support transparent div the same way as FF and IE.</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].__showTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].__showTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].__showTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].__showTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].__showTransparentDivForResize();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __hideTransparentDivForResize()</span>
    <span class="comment">/**
     *	Hide transparent divs used to cover iframes during resize
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__hideTransparentDivForResize : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].__hideTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].__hideTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].__hideTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].__hideTransparentDivForResize();
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].__hideTransparentDivForResize();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __resizePane()</span>
    <span class="comment">/**
     *	Position the resize handle 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__resizePane : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;	<span class="comment">// Get reference to event object.</span>

		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; e.button!=1)<span class="reserved">this</span>.__endResize();
	
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeCounter==5){	<span class="comment">/* Resize in progress */</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.currentResize==<span class="literal">'west'</span> || <span class="reserved">this</span>.currentResize==<span class="literal">'east'</span>){
				var leftPos = e.clientX;
				<span class="reserved">if</span>(leftPos&lt;<span class="reserved">this</span>.currentResize_min)leftPos = <span class="reserved">this</span>.currentResize_min;
				<span class="reserved">if</span>(leftPos&gt;<span class="reserved">this</span>.currentResize_max)leftPos = <span class="reserved">this</span>.currentResize_max;
				<span class="reserved">this</span>.paneSplitterHandleOnResize.style.left = leftPos + <span class="literal">'px'</span>;
			}<span class="reserved">else</span>{
				var topPos = e.clientY;
				<span class="reserved">if</span>(topPos&lt;<span class="reserved">this</span>.currentResize_min)topPos = <span class="reserved">this</span>.currentResize_min;
				<span class="reserved">if</span>(topPos&gt;<span class="reserved">this</span>.currentResize_max)topPos = <span class="reserved">this</span>.currentResize_max;				
				<span class="reserved">this</span>.paneSplitterHandleOnResize.style.top = topPos + <span class="literal">'px'</span>;
			}	
		}		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __endResize()</span>
    <span class="comment">/**
     *	End resizing	(mouse up event )
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__endResize : <span class="reserved">function</span>()
	{
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeCounter==5){	<span class="comment">// Resize completed </span>
			<span class="reserved">this</span>.__hideTransparentDivForResize();
			var browserWidth = DHTMLSuite.clientInfoObj.getBrowserWidth();
			var browserHeight = DHTMLSuite.clientInfoObj.getBrowserHeight();		
			var obj = <span class="reserved">this</span>.panesAssociative[<span class="reserved">this</span>.currentResize];
			switch(<span class="reserved">this</span>.currentResize){
				case <span class="literal">"west"</span>: 
					obj.__setWidth(<span class="reserved">this</span>.paneSplitterHandleOnResize.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1-2);					
					break;	
				case <span class="literal">"north"</span>:					
					obj.__setHeight(<span class="reserved">this</span>.paneSplitterHandleOnResize.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1);
					break;
				case <span class="literal">"east"</span>:
					obj.__setWidth(browserWidth - <span class="reserved">this</span>.paneSplitterHandleOnResize.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1-8);
					break;
				case <span class="literal">"south"</span>:
					obj.__setHeight(browserHeight - <span class="reserved">this</span>.paneSplitterHandleOnResize.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1-7);
					break;				
			}					
			<span class="reserved">this</span>.__positionPanes();
			obj.__executeResizeCallBack();

			<span class="reserved">this</span>.paneSplitterHandleOnResize.style.display=<span class="literal">'none'</span>;
			<span class="reserved">this</span>.resizeCounter = -1;
			DHTMLSuite.commonObj.__setTextSelOk(true);
					
		}		
		

	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __hideResizeHandle()</span>
    <span class="comment">/**
     *	Hide resize handle.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__hideResizeHandle : <span class="reserved">function</span>(pos){
		<span class="reserved">if</span>(!<span class="reserved">this</span>.paneSplitterHandles[pos])<span class="reserved">return</span>;
		switch(pos){
			case <span class="literal">"east"</span>:
			case <span class="literal">"west"</span>:
				<span class="reserved">this</span>.paneSplitterHandles[pos].className = <span class="reserved">this</span>.paneSplitterHandles[pos].className + <span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>;
				break;
			case <span class="literal">"north"</span>:
			case <span class="literal">"south"</span>:
				<span class="reserved">this</span>.paneSplitterHandles[pos].className = <span class="reserved">this</span>.paneSplitterHandles[pos].className + <span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>;
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showResizeHandle()</span>
    <span class="comment">/**
     *	Make resize handle visible
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__showResizeHandle : <span class="reserved">function</span>(pos){
		<span class="reserved">if</span>(!<span class="reserved">this</span>.paneSplitterHandles[pos])<span class="reserved">return</span>;
		switch(pos){
			case <span class="literal">"east"</span>:
			case <span class="literal">"west"</span>:
				<span class="reserved">this</span>.paneSplitterHandles[pos].className = <span class="reserved">this</span>.paneSplitterHandles[pos].className.replace(<span class="literal">' DHTMLSuite_paneSplitter_vertical_noresize'</span>,<span class="literal">''</span>);
				break;
			case <span class="literal">"north"</span>:
			case <span class="literal">"south"</span>:
				<span class="reserved">this</span>.paneSplitterHandles[pos].className = <span class="reserved">this</span>.paneSplitterHandles[pos].className.replace(<span class="literal">' DHTMLSuite_paneSplitter_horizontal_noresize'</span>,<span class="literal">''</span>);
		}	
				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionResizeHandles()</span>
    <span class="comment">/**
     *	Positions the resize handles correctly
     *	This method is called by the __positionPanes method. 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__positionResizeHandles : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>]){	<span class="comment">// Position north splitter handle</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.state==<span class="literal">'expanded'</span>){
				<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>].style.top = <span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].divElement.style.height.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)  + <span class="literal">'px'</span>;	
			}<span class="reserved">else</span>{
				<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>].style.top = <span class="reserved">this</span>.paneSizeCollapsed  + <span class="literal">'px'</span>;	
			}
		}
		var heightHandler = <span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].divElement.offsetHeight+1;	<span class="comment">// Initial height</span>
		var topPos=0;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>])topPos +=<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].divElement.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>]){
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>])heightHandler+=<span class="reserved">this</span>.horizontalSplitterBorderSize/2;			
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.state==<span class="literal">'expanded'</span>){			
				<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>].style.left = <span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].divElement.offsetWidth + <span class="literal">'px'</span>;	
			}<span class="reserved">else</span>{
				<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>].style.left = <span class="reserved">this</span>.paneSizeCollapsed + <span class="literal">'px'</span>;	
			}
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>].style.height = heightHandler + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>].style.top = topPos + <span class="literal">'px'</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>]){
			var leftPos = <span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].divElement.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1 + <span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].divElement.offsetWidth;
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>].style.left = leftPos + <span class="literal">'px'</span>;	
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>].style.height = heightHandler + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>].style.top = topPos + <span class="literal">'px'</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'south'</span>]){			
			var topPos = <span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElement.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
			topPos = topPos - <span class="reserved">this</span>.horizontalSplitterSize - <span class="reserved">this</span>.horizontalSplitterBorderSize;
			<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'south'</span>].style.top = topPos + <span class="literal">'px'</span>;	
		}
		<span class="reserved">this</span>.resizeInProgress = false;		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionPanes()</span>
    <span class="comment">/**
     *	Positions the panes correctly
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__positionPanes : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeInProgress)<span class="reserved">return</span>;
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.resizeInProgress = true;
		var browserWidth = DHTMLSuite.clientInfoObj.getBrowserWidth();
		var browserHeight = DHTMLSuite.clientInfoObj.getBrowserHeight();
		
		<span class="comment">// Position north pane</span>
		var posTopMiddlePanes = 0;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>] &amp;&amp; <span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.visible){
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.state==<span class="literal">'expanded'</span>){
				posTopMiddlePanes = <span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].divElement.offsetHeight;
				
				<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].__setHeight(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].divElement.offsetHeight);
			}<span class="reserved">else</span>{
				posTopMiddlePanes+=<span class="reserved">this</span>.paneSizeCollapsed;
			}	
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>])posTopMiddlePanes+=(<span class="reserved">this</span>.horizontalSplitterSize + <span class="reserved">this</span>.horizontalSplitterBorderSize);
		}
		
		<span class="comment">// Set top position of center,west and east pa</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].__setTopPosition(posTopMiddlePanes);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].__setTopPosition(posTopMiddlePanes);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].__setTopPosition(posTopMiddlePanes);
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].divElCollapsed.style.top = posTopMiddlePanes + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].divElCollapsed.style.top = posTopMiddlePanes + <span class="literal">'px'</span>;
		
		<span class="comment">// Position center pane</span>
		var posLeftCenterPane = 0;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>]){
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.state==<span class="literal">'expanded'</span>){	<span class="comment">// West panel is expanded.</span>
				posLeftCenterPane = <span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].divElement.offsetWidth;	
				<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].__setLeftPosition(0);	
					
			}<span class="reserved">else</span>{	<span class="comment">// West panel is not expanded.</span>
				posLeftCenterPane+=<span class="reserved">this</span>.paneSizeCollapsed  ;
			}	
			posLeftCenterPane+=(<span class="reserved">this</span>.verticalSplitterSize);	
		}

		<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].__setLeftPosition(posLeftCenterPane);

		<span class="comment">// Set size of center pane		</span>
		var sizeCenterPane = browserWidth;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>] &amp;&amp; <span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.visible){	<span class="comment">// Center pane exists and is visible - decrement width of center pane</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].paneModel.state==<span class="literal">'expanded'</span>)
				sizeCenterPane -= <span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].divElement.offsetWidth;
			<span class="reserved">else</span>
				sizeCenterPane -= <span class="reserved">this</span>.paneSizeCollapsed;
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>] &amp;&amp; <span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].paneModel.visible){	<span class="comment">// East pane exists and is visible - decrement width of center pane</span>
			 <span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].paneModel.state==<span class="literal">'expanded'</span>)
			 	sizeCenterPane -= <span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].divElement.offsetWidth;
			 <span class="reserved">else</span>{
			 	sizeCenterPane -= <span class="reserved">this</span>.paneSizeCollapsed;		
			 	<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isOldMSIE)sizeCenterPane-=4;
			 } 	
		}
		sizeCenterPane-=<span class="reserved">this</span>.paneBorderLeftPlusRight;
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'west'</span>])sizeCenterPane-=(<span class="reserved">this</span>.verticalSplitterSize);
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>])sizeCenterPane-=(<span class="reserved">this</span>.verticalSplitterSize);
		
		<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].__setWidth(sizeCenterPane);
		
		
		<span class="comment">// Position east pane</span>
		var posEastPane = posLeftCenterPane + <span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].divElement.offsetWidth;
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'east'</span>])posEastPane+=(<span class="reserved">this</span>.verticalSplitterSize);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>]){
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].paneModel.state==<span class="literal">'expanded'</span>)<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].__setLeftPosition(posEastPane);
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].divElCollapsed.style.left = <span class="literal">''</span>;
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].divElCollapsed.style.right = <span class="literal">'0px'</span>;
		}
		<span class="comment">// Set height of middle panes</span>
		var heightMiddleFrames = browserHeight;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>] &amp;&amp; <span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.visible){
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.state==<span class="literal">'expanded'</span>){
				heightMiddleFrames-= <span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].divElement.offsetHeight;	
				
			}<span class="reserved">else</span>
				heightMiddleFrames-= <span class="reserved">this</span>.paneSizeCollapsed;
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>])heightMiddleFrames-=(<span class="reserved">this</span>.horizontalSplitterSize + <span class="reserved">this</span>.horizontalSplitterBorderSize);
			
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>] &amp;&amp; <span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.visible){
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.state==<span class="literal">'expanded'</span>){
				heightMiddleFrames-=<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElement.offsetHeight;				
			}<span class="reserved">else</span>
				heightMiddleFrames-=<span class="reserved">this</span>.paneSizeCollapsed;
			<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'south'</span>])heightMiddleFrames-=(<span class="reserved">this</span>.horizontalSplitterSize + <span class="reserved">this</span>.horizontalSplitterBorderSize);
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'center'</span>].__setHeight(heightMiddleFrames);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].__setHeight(heightMiddleFrames);
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].__setHeight(heightMiddleFrames);		
		
		<span class="comment">// Position south pane</span>
		var posSouth = 0;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>]){	<span class="comment">/* Step 1 - get height of north pane */</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].paneModel.state==<span class="literal">'expanded'</span>){
				posSouth = <span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].divElement.offsetHeight;	
			}<span class="reserved">else</span>
				posSouth = <span class="reserved">this</span>.paneSizeCollapsed;
		}
			
		posSouth += heightMiddleFrames;			

		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'south'</span>]){
			posSouth+=(<span class="reserved">this</span>.horizontalSplitterSize + <span class="reserved">this</span>.horizontalSplitterBorderSize);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.paneSplitterHandles[<span class="literal">'north'</span>]){
			posSouth+=(<span class="reserved">this</span>.horizontalSplitterSize + <span class="reserved">this</span>.horizontalSplitterBorderSize);
		}		
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>]){
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].__setTopPosition(posSouth);
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.style.top = posSouth + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].__setWidth(<span class="literal">'100%'</span>);
		}
		try{
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>]){
				<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].divElCollapsed.style.height = (heightMiddleFrames) + <span class="literal">'px'</span>;
				<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].divElCollapsedInner.style.height = (heightMiddleFrames -1) + <span class="literal">'px'</span>;
			}
		}catch(e){
		
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>]){
			try{
				<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].divElCollapsed.style.height = heightMiddleFrames + <span class="literal">'px'</span>;
				<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].divElCollapsedInner.style.height = (heightMiddleFrames - 1) + <span class="literal">'px'</span>;
			}catch(e){
			}
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>]){
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.style.width = browserWidth + <span class="literal">'px'</span>;
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].paneModel.state==<span class="literal">'collapsed'</span> &amp;&amp; <span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.offsetHeight){	<span class="comment">// Increasing the size of the southern pane</span>
				
				var rest = browserHeight -  <span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1 - <span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.offsetHeight;

				<span class="reserved">if</span>(rest&gt;0)<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.style.height = (<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].divElCollapsed.offsetHeight + rest) + <span class="literal">'px'</span>;
			}
			
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>]){
			<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].divElCollapsed.style.width = browserWidth + <span class="literal">'px'</span>;
		}
		
	
		
		
		<span class="reserved">this</span>.__positionResizeHandles();
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__positionResizeHandles()'</span>,50);	<span class="comment">// To get the tabs positioned correctly.</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __autoSlideInPanes()</span>
    <span class="comment">/**
     *	Automatically slide in panes .
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__autoSlideInPanes : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'south'</span>].__autoSlideInPane(e);	
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'west'</span>].__autoSlideInPane(e);	
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'north'</span>].__autoSlideInPane(e);	
		<span class="reserved">if</span>(<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>])<span class="reserved">this</span>.panesAssociative[<span class="literal">'east'</span>].__autoSlideInPane(e);	
		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __addEvents()</span>
    <span class="comment">/**
     *	Add basic events for the paneSplitter widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__addEvents : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		DHTMLSuite.commonObj.addEvent(window,<span class="literal">'resize'</span>,<span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__positionPanes(); });
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mouseup'</span>,<span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__endResize(); });
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__resizePane(e); });		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'click'</span>,<span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[ind].__autoSlideInPanes(e); });	
		document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };
		DHTMLSuite.commonObj.__addEventEl(window);
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-listModel.js] */</span>
<span class="comment">/************************************************************************************************************
*	listModel
*
*	Created:						December, 14th, 2006
*	<span class="attrib">@class</span> Purpose of class:		An object storing a collection of values and texts
*			
*	Css files used by this script:	
*
*	Demos of this class:			
*
*	Uses classes:					DHTMLSuite.textEditModel
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	listModel (&lt;a href="../../demos/demo-text-edit.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>
DHTMLSuite.listModel = <span class="reserved">function</span>(inputArray)
{
	var options;
	<span class="reserved">this</span>.options = new Array();
}

DHTMLSuite.listModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addElement()</span>
    <span class="comment">/**
     *	Add a single element to the listModel
     *
     *  <span class="attrib">@param</span> String value = Value of element
     *  <span class="attrib">@param</span> String text = Text of element
     *
     *  <span class="attrib">@public</span>	
     */</span>		
	addElement : <span class="reserved">function</span>(value,text)
	{
		var index = <span class="reserved">this</span>.options.length;
		<span class="reserved">this</span>.options[index] = new Object();
		<span class="reserved">this</span>.options[index].value = value;
		<span class="reserved">this</span>.options[index].text = text;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteAll()</span>
    <span class="comment">/**
     *	Clear all options from the list
     *
     *  <span class="attrib">@public</span>	
     */</span>			
	deleteAll : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.options.length=0;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteOptionByValue()</span>
    <span class="comment">/**
     *	Delete option by value
     *	<span class="attrib">@param</span> String value - value of option to delete
     *
     *  <span class="attrib">@public</span>	
     */</span>		
	deleteOptionByValue : <span class="reserved">function</span>(value)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.options.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.options[no].value==value){
				<span class="reserved">this</span>.options.splice(no,1);		
				<span class="reserved">return</span>;
			}		
		}		
	}
	,
	<span class="comment">// {{{ createFromMarkupSelect()</span>
    <span class="comment">/**
     *	Create listModel object from Select tag. value and text of option tags becomes value and text in the listModel.
     *	This method hides the select box when done.
     *
     *  <span class="attrib">@param</span> String elId Id of SELECT tag
     *
     *  <span class="attrib">@public</span>	
     */</span>		
	createFromMarkupSelect : <span class="reserved">function</span>(elId)
	{
		var obj = document.getElementById(elId);
		<span class="reserved">if</span>(obj &amp;&amp; obj.tagName.toLowerCase()!=<span class="literal">'select'</span>)obj = false;
		<span class="reserved">if</span>(!obj){
			alert(<span class="literal">'Error in listModel.createFromMarkupSelect - cannot create elements from select box with id '</span> + elId);
			<span class="reserved">return</span>;
		}	
		<span class="reserved">for</span>(var no=0;no&lt;obj.options.length;no++){
			var index = <span class="reserved">this</span>.options.length;
			<span class="reserved">this</span>.options[index] = new Object();
			<span class="reserved">this</span>.options[index].value = obj.options[no].value;
			<span class="reserved">this</span>.options[index].text = obj.options[no].text;
		}	
		obj.style.display=<span class="literal">'none'</span>;	
	}
	,
	<span class="comment">// {{{ createFromMarkupUlLi()</span>
    <span class="comment">/**
     *	Create listModel object from UL,LI tags. the value is the title of the lis, text is innerHTML, example &lt;LI title="1"&gt;Norway&lt;/li&gt;
     *	This methods hides the UL object
     *
     *  <span class="attrib">@param</span> String elId Id of UL tag
     *
     *  <span class="attrib">@public</span>	
     */</span>		
	createFromMarkupUlLi : <span class="reserved">function</span>(elId)
	{
		var obj = document.getElementById(elId);
		<span class="reserved">if</span>(obj &amp;&amp; obj.tagName.toLowerCase()!=<span class="literal">'ul'</span>)obj = false;
		<span class="reserved">if</span>(!obj){
			alert(<span class="literal">'Error in listModel.createFromMarkupSelect - cannot create elements from select box with id '</span> + elId);
			<span class="reserved">return</span>;
		}			
		var lis = obj.getElementsByTagName(<span class="literal">'LI'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;lis.length;no++){
			var index = <span class="reserved">this</span>.options.length;
			<span class="reserved">this</span>.options[index] = new Object();
			<span class="reserved">this</span>.options[index].value = lis[no].getAttribute(<span class="literal">'title'</span>);
			<span class="reserved">if</span>(!<span class="reserved">this</span>.options[index].value)<span class="reserved">this</span>.options[index].value = lis[no].title;
			<span class="reserved">this</span>.options[index].text = lis[no].innerHTML;			
		}
		obj.style.display=<span class="literal">'none'</span>;
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-textEditModel.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML Text Edit Model Class
*
*	Created:						December, 14th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Data model for the textEdit class
*			
*	Css files used by this script:	
*
*	Demos of this class:			
*
*	Uses classes:					DHTMLSuite.listModel
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Data model for the textEdit class. (&lt;a href="../../demos/demo-text-edit.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>
DHTMLSuite.textEditModel = <span class="reserved">function</span>(inputArray)
{
	var labelId;				<span class="comment">// Id of label for editable element.</span>
	var targetId;				<span class="comment">// Id of editable element.</span>
	var serversideFile;			<span class="comment">// If individual serverside file should be used for this option</span>
	var optionObj;				<span class="comment">// Reference to object of class DHTMLSuite.listModel</span>
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
	<span class="reserved">if</span>(inputArray)<span class="reserved">this</span>.addElement(inputArray);
}

DHTMLSuite.textEditModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addElement()</span>
    <span class="comment">/**
     *	Add item
     *
     *  <span class="attrib">@param</span> Array inputArray - Associative array of properties, possible keys: labelId,elementId,serverFile,listModel
     *
     *  <span class="attrib">@public</span>	
     */</span>		
	addElement : <span class="reserved">function</span>(inputArray)
	{
		<span class="reserved">if</span>(inputArray[<span class="literal">'labelId'</span>])<span class="reserved">this</span>.labelId = inputArray[<span class="literal">'labelId'</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">'elementId'</span>])<span class="reserved">this</span>.elementId = inputArray[<span class="literal">'elementId'</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">'serverFile'</span>])<span class="reserved">this</span>.serverFile = inputArray[<span class="literal">'serverFile'</span>];	
		<span class="reserved">if</span>(inputArray[<span class="literal">'listModel'</span>])<span class="reserved">this</span>.listModel = inputArray[<span class="literal">'listModel'</span>];	
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-textEdit.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML Text Edit Class
*
*	Created:						November, 4th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Make standard HTML elements editable
*			
*	Css files used by this script:	text-edit.css
*
*	Demos of this class:			demo-text-edit.html
*
*	Uses classes:					DHTMLSuite.textEditModel
*									DHTMLSuite.listModel;
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Make standard HTML elements editable (&lt;a href="../../demos/demo-text-edit.html" target="_blank"&gt;Demo&lt;/a&gt;)
*							
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>
DHTMLSuite.textEdit = <span class="reserved">function</span>()
{
	var layoutCSS;			<span class="comment">// Name of css file</span>
	var elements;			<span class="comment">// Array of editable elements</span>
	var elementsAssociative;	<span class="comment">// Associative version of the array above - need two because of conflicts with Prototype library when using for in loops.</span>
	var serversideFile;		<span class="comment">// Path to file on the server where changes are sent.</span>
	var objectIndex;
	var inputObjects;		<span class="comment">// Array of inputs or select boxes</span>
	
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'text-edit.css'</span>;
	<span class="reserved">this</span>.elements = new Array();
	<span class="reserved">this</span>.elementsAssociative = new Object();
	<span class="reserved">this</span>.inputObjects = new Object();
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
}

DHTMLSuite.textEdit.<span class="reserved">prototype</span> = 
{	
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Add menu items
     *
     *  <span class="attrib">@param</span> String cssFileName Name of css file 	
     *
     *  <span class="attrib">@public</span>	
     */</span>	
	setLayoutCss : <span class="reserved">function</span>(layoutCSS)
	{
		<span class="reserved">this</span>.layoutCSS = layoutCSS;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setServersideFile()</span>
    <span class="comment">/**
     *	Specify server side file.
     *
     *  <span class="attrib">@param</span> String serversideFile 	Path to server side file where changes are sent. This file will be called with the following arguments: saveTextEdit=1 and textEditElementId=&lt;elementId&gt; and textEditValue=&lt;value&gt;
     *									This file should return OK when everything went fine with the request
     *				  
     *
     *	<span class="attrib">@type</span> void
     *  <span class="attrib">@public</span>	
     */</span>		
	setServersideFile : <span class="reserved">function</span>(serversideFile)
	{
		<span class="reserved">this</span>.serversideFile = serversideFile;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addElement()</span>
    <span class="comment">/**
     *	Add editable element
     *
     *  <span class="attrib">@param</span> Array Element description = Associative array, possible keys: labelId,elementId,listModel,serverFile
     *		if serverFile is given, this value will override the serversideFile property of this class for this particular element
     *
     *	<span class="attrib">@type</span> void
     *  <span class="attrib">@public</span>	
     */</span>	
	addElement : <span class="reserved">function</span>(inputArray)
	{
		var index = <span class="reserved">this</span>.elements.length;
		try{
			<span class="reserved">this</span>.elements[index] = new DHTMLSuite.textEditModel(inputArray);	
		}catch(e){
			alert(<span class="literal">'Error: You need to include dhtmlSuite-textEditModel.js in your html file'</span>);
		}
		<span class="reserved">this</span>.elementsAssociative[inputArray[<span class="literal">'elementId'</span>]] = <span class="reserved">this</span>.elements[index];	
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the widget
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);	
		
		var index = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.elements.length;no++){
			var obj = <span class="reserved">this</span>.elements[no];

			var label = document.getElementById(obj.labelId);
			<span class="reserved">if</span>(label){
				label.setAttribute(<span class="literal">'elementId'</span>,obj.elementId);
				<span class="reserved">if</span>(!label.getAttribute(<span class="literal">'elementId'</span>))label.elementId = obj.elementId;
			
				<span class="reserved">if</span>(label.className){
					label.setAttribute(<span class="literal">'origClassname'</span>,label.className);
					label.origClassname = label.className;
				}
				label.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[index].__clickOnLabel(e); }				
				DHTMLSuite.commonObj.__addEventEl(label);
			}
			
			var el = document.getElementById(obj.elementId);
			DHTMLSuite.commonObj.__addEventEl(el);
			<span class="reserved">if</span>(el){
				
				el.onclick = <span class="reserved">function</span>(e) { DHTMLSuite.variableStorage.arrayDSObjects[index].__clickOnElement(e); }
				
				<span class="reserved">if</span>(obj.listModel){	<span class="comment">/* List model exists - create select box */</span>
					<span class="reserved">this</span>.inputObjects[obj.elementId] = document.createElement(<span class="literal">'SELECT'</span>);
					var selObj = <span class="reserved">this</span>.inputObjects[obj.elementId];
					selObj.className = <span class="literal">'DHTMLSuite_textEdit_select'</span>;
					<span class="reserved">for</span>(var no2=0;no2&lt;obj.listModel.options.length;no2++){
						selObj.options[selObj.options.length] = new Option(obj.listModel.options[no2].text,obj.listModel.options[no2].value);					
					}
					selObj.id = <span class="literal">'input___'</span> + el.id;
					selObj.onblur = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[index].__exitEditMode(e); }
					DHTMLSuite.commonObj.__addEventEl(selObj);
					el.parentNode.insertBefore(selObj,el);
					selObj.style.display=<span class="literal">'none'</span>;
				}<span class="reserved">else</span>{
					<span class="reserved">this</span>.inputObjects[obj.elementId] = document.createElement(<span class="literal">'INPUT'</span>);
					var input = <span class="reserved">this</span>.inputObjects[obj.elementId];
					input.onblur = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[index].__exitEditMode(e); }
					DHTMLSuite.commonObj.__addEventEl(input);
										
					input.className = <span class="literal">'DHTMLSuite_textEdit_input'</span>;
					input.id = <span class="literal">'input___'</span> + el.id;
					input.value = el.innerHTML;
					el.parentNode.insertBefore(input,el);
					input.style.display=<span class="literal">'none'</span>;
						
				}				
				
			}				
		}	
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setLabelClassName()</span>
    <span class="comment">/**
     *	Update the class for the label
     *
     *  <span class="attrib">@param</span> Event e - Id of element
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__setLabelClassName : <span class="reserved">function</span>(obj,state)
	{
		<span class="reserved">if</span>(state==<span class="literal">'active'</span>)
			obj.className = <span class="literal">'DHTMLSuite_textEdit_label'</span>;	
		<span class="reserved">else</span>{
			var className = <span class="literal">''</span>;
			className = obj.getAttribute(<span class="literal">'origClassname'</span>);
			<span class="reserved">if</span>(!className)className = obj.origClassname;
			obj.className = className;	
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clickOnLabel()</span>
    <span class="comment">/**
     *	Click on label
     *
     *  <span class="attrib">@param</span> Event e - Id of element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__clickOnLabel : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var obj = DHTMLSuite.commonObj.getSrcElement(e);	<span class="comment">// Reference to element triggering the event.</span>
		<span class="reserved">this</span>.__setLabelClassName(obj,<span class="literal">'active'</span>);
		var elementId = obj.getAttribute(<span class="literal">'elementId'</span>);
		<span class="reserved">this</span>.__clickOnElement(false,document.getElementById(elementId));		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clickOnElement()</span>
    <span class="comment">/**
     *	Click on editable element
     *
     *  <span class="attrib">@param</span> Event e - Id of element
     *	<span class="attrib">@param</span> Object obj - Element triggering the event(this value is empty when the method is fired by an event)
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__clickOnElement : <span class="reserved">function</span>(e,obj)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">if</span>(!obj)var obj = DHTMLSuite.commonObj.getSrcElement(e);	<span class="comment">// Reference to element triggering the event.</span>
		var id = obj.id;
		var dataSource = <span class="reserved">this</span>.elementsAssociative[id];		
		<span class="reserved">if</span>(dataSource.listModel)<span class="reserved">this</span>.__setSelectBoxValue(id,obj.innerHTML);
		<span class="reserved">if</span>(dataSource.labelId)<span class="reserved">this</span>.__setLabelClassName(document.getElementById(dataSource.labelId),<span class="literal">'active'</span>);
		<span class="reserved">this</span>.inputObjects[id].style.display=<span class="literal">''</span>;
		<span class="reserved">this</span>.inputObjects[id].focus();
		<span class="reserved">if</span>(!dataSource.listModel)<span class="reserved">this</span>.inputObjects[id].select();
		obj.style.display=<span class="literal">'none'</span>;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setSelectBoxValue()</span>
    <span class="comment">/**
     *	Update select box to the value of the element
     *
     *  <span class="attrib">@param</span> String id - Id of element
     *	<span class="attrib">@param</span> String value - Value of element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setSelectBoxValue : <span class="reserved">function</span>(id,value)
	{
		var selObj = <span class="reserved">this</span>.inputObjects[id];
		<span class="reserved">for</span>(var no=0;no&lt;selObj.options.length;no++){
			<span class="reserved">if</span>(selObj.options[no].text==value){
				selObj.selectedIndex = no;
				<span class="reserved">return</span>;
			}
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __exitEditMode()</span>
    <span class="comment">/**
     *	Exit text edit mode
     *
     *  <span class="attrib">@param</span> Event e - Event
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__exitEditMode : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		
		var obj = DHTMLSuite.commonObj.getSrcElement(e);	<span class="comment">// Reference to element triggering the event.	</span>
		var elementId = obj.id.replace(<span class="literal">'input___'</span>,<span class="literal">''</span>);	
		
		var dataSource = <span class="reserved">this</span>.elementsAssociative[elementId];		
		
		var newValue;
		var valueToSendToAjax;
		<span class="reserved">if</span>(dataSource.listModel){
			 newValue = obj.options[obj.options.selectedIndex].text;
			 valueToSendToAjax = obj.options[obj.options.selectedIndex].value;
		}<span class="reserved">else</span>{
			newValue = obj.value;
			valueToSendToAjax = newValue;
		}
		<span class="reserved">if</span>(e.keyCode &amp;&amp; e.keyCode==27)newValue = document.getElementById(dataSource.elementId).innerHTML;
		<span class="reserved">if</span>(newValue &amp;&amp; newValue!=document.getElementById(dataSource.elementId).innerHTML)<span class="reserved">this</span>.__sendRequest(dataSource.elementId,valueToSendToAjax);	<span class="comment">// Send ajax request when changes has been made.</span>
		document.getElementById(dataSource.elementId).innerHTML = newValue;
		
		
		document.getElementById(dataSource.elementId).style.display=<span class="literal">''</span>;
		obj.style.display=<span class="literal">'none'</span>;
		<span class="reserved">if</span>(dataSource.labelId)<span class="reserved">this</span>.__setLabelClassName(document.getElementById(dataSource.labelId),<span class="literal">'inactive'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __sendRequest()</span>
    <span class="comment">/**
     *	Send textEdit changes to the server
     *
     *  <span class="attrib">@param</span> String elementId - Id of changed element
     *  <span class="attrib">@param</span> String value - Value of changed element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__sendRequest : <span class="reserved">function</span>(elementId,value)
	{
		var index = DHTMLSuite.variableStorage.ajaxObjects.length;	
		var ind = <span class="reserved">this</span>.objectIndex;
		try{
			DHTMLSuite.variableStorage.ajaxObjects[index] = new sack();
		}catch(e){	<span class="comment">// Unable to create ajax object - send alert message and return from sort method.</span>
			alert(<span class="literal">'Unable to create ajax object. Please make sure that the sack js file is included on your page'</span>);	
			<span class="reserved">return</span>;
		}
		
		var url;
		<span class="reserved">if</span>(<span class="reserved">this</span>.elementsAssociative[elementId].serverFile)url = <span class="reserved">this</span>.elementsAssociative[elementId].serverFile; <span class="reserved">else</span> url = <span class="reserved">this</span>.serversideFile;
		<span class="reserved">if</span>(url.indexOf(<span class="literal">'?'</span>)&gt;=0)url=url+<span class="literal">'&amp;'</span>; <span class="reserved">else</span> url=url+<span class="literal">'?'</span>;		
		url = url + <span class="literal">'saveTextEdit=1&amp;textEditElementId='</span> + elementId + <span class="literal">'&amp;textEditValue='</span>+escape(value);

		DHTMLSuite.variableStorage.ajaxObjects[index].requestFile = url;	<span class="comment">// Specifying which file to get</span>
		DHTMLSuite.variableStorage.ajaxObjects[index].onCompletion = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__handleServerSideResponse(index,url); };	<span class="comment">// Specify function that will be executed after file has been found</span>
		DHTMLSuite.variableStorage.ajaxObjects[index].onError = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__handleAjaxError(index,url); };	<span class="comment">// Specify function that will be executed after file has been found</span>
		DHTMLSuite.variableStorage.ajaxObjects[index].runAJAX();		<span class="comment">// Execute AJAX function			</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleServerSideResponse()</span>
    <span class="comment">/**
     *	Verify response from ajax.
     *
     *  <span class="attrib">@param</span> Integer ajaxIndex - Index of used sack() object
     *  <span class="attrib">@param</span> String url - Failing url
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__handleServerSideResponse : <span class="reserved">function</span>(ajaxIndex,url)
	{
		<span class="reserved">if</span>(DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].response!=<span class="literal">'OK'</span>){
			alert(<span class="literal">'An error occured in the textEdit widget when calling the url\n'</span> + url);	
		}	
		DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex] = null;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleAjaxError()</span>
    <span class="comment">/**
     *	Ajax request failed
     *
     *  <span class="attrib">@param</span> Integer ajaxIndex - Index of used sack() object
     *  <span class="attrib">@param</span> String url - Failing url
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__handleAjaxError : <span class="reserved">function</span>(ajaxIndex,url)
	{
		alert(<span class="literal">'Error when calling the url:\n'</span> + url);
		DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex] = null;	
	}	
	
}

<span class="comment">/*[FILE_START:dhtmlSuite-contextMenu.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML context menu class
*
*	Created:						November, 4th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Creates a context menu
*			
*	Css files used by this script:	context-menu.css
*
*	Demos of this class:			demo-context-menu.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates a context menu. (&lt;a href="../../demos/demo-context-menu.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

var referenceToDHTMLSuiteContextMenu;


DHTMLSuite.contextMenu = <span class="reserved">function</span>()
{
	var menuModels;
	var defaultMenuModel;
	var menuItems;	
	var menuObject;			<span class="comment">// Reference to context menu div</span>
	var layoutCSS;
	var menuUls;			<span class="comment">// Array of &lt;ul&gt; elements</span>
	var width;				<span class="comment">// Width of context menu</span>
	var srcElement;			<span class="comment">// Reference to the element which triggered the context menu, i.e. the element which caused the context menu to be displayed.</span>
	var indexCurrentlyDisplayedMenuModel;	<span class="comment">// Index of currently displayed menu model.</span>
	var menuBar;	
	<span class="reserved">this</span>.menuModels = new Object();
	<span class="reserved">this</span>.menuObject = false;
	<span class="reserved">this</span>.menuUls = new Array();
	<span class="reserved">this</span>.width = 100;
	<span class="reserved">this</span>.srcElement = false;
	<span class="reserved">this</span>.indexCurrentlyDisplayedMenuModel = false;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	var objectIndex;
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
}

DHTMLSuite.contextMenu.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setWidth()</span>
    <span class="comment">/**
     *	Set width of context menu
     *
     *  <span class="attrib">@param</span> Integer newWidth - Width of context menu
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setWidth : <span class="reserved">function</span>(newWidth)
	{
		<span class="reserved">this</span>.width = newWidth;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Add menu items
     *	<span class="attrib">@deprecated</span>
     *  <span class="attrib">@param</span> String cssFileName Name of css file 	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	setLayoutCss : <span class="reserved">function</span>(cssFileName)
	{
		<span class="comment">// this.layoutCSS = cssFileName;	</span>
	}	
	<span class="comment">// }}}	</span>
	,	
	<span class="comment">// {{{ attachToElement()</span>
    <span class="comment">/**
     *  <span class="attrib">@deprecated</span>
     *	Add menu items
     *
     *  <span class="attrib">@param</span> Object HTML Element = Reference to html element
     *  <span class="attrib">@param</span> String elementId = String id of element(optional). An alternative to HTML Element	
     *  <span class="attrib">@param</span> DHTMLSuite.menuModel menuModel = Menu model to use on this HTML element	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	attachToElement : <span class="reserved">function</span>(element,elementId,menuModel)
	{
		window.refToThisContextMenu = <span class="reserved">this</span>;
		<span class="reserved">if</span>(!element &amp;&amp; elementId)element = document.getElementById(elementId);
		<span class="reserved">if</span>(!element.id){
			element.id = <span class="literal">'context_menu'</span> + Math.random();
			element.id = element.id.replace(<span class="literal">'.'</span>,<span class="literal">''</span>);
		}
		<span class="reserved">this</span>.menuModels[element.id] = menuModel;
		menuModel.setSubMenuType(1,<span class="literal">'sub'</span>);
		menuModel.setMainMenuGroupWidth(<span class="reserved">this</span>.width);	
		<span class="reserved">if</span>(!<span class="reserved">this</span>.defaultMenuModel)<span class="reserved">this</span>.defaultMenuModel = menuModel;
		element.oncontextmenu = <span class="reserved">this</span>.__displayContextMenu;
		element.onmousedown = <span class="reserved">function</span>() { window.refToThisContextMenu.__setReference(window.refToThisContextMenu); };
		DHTMLSuite.commonObj.__addEventEl(element)
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">"click"</span>,<span class="reserved">this</span>.__hideContextMenu);		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ attachTo()</span>
    <span class="comment">/**
     *	Add menu items
     *
     *  <span class="attrib">@param</span> Object HTML Element = Reference to html element
     *  <span class="attrib">@param</span> DHTMLSuite.menuModel menuModel = Menu model to use on this HTML element	
     *
     * <span class="attrib">@public</span>	
     */</span>		
    attachTo : <span class="reserved">function</span>(el,menuModel)
    {
    	el = DHTMLSuite.commonObj.getEl(el);
    	<span class="reserved">this</span>.attachToElement(el,false,menuModel);	
    }    
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setReference()</span>
    <span class="comment">/**
     *	Creates a reference to current context menu object. (Note: This method should be deprecated as only one context menu object is needed)
     *
     *  <span class="attrib">@param</span> Object context menu object = Reference to context menu object
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setReference : <span class="reserved">function</span>(obj)
	{	
		referenceToDHTMLSuiteContextMenu = obj;	
	}
	,
	<span class="comment">// {{{ __displayContextMenu()</span>
    <span class="comment">/**
     *	Displays the context menu
     *
     *  <span class="attrib">@param</span> Event e
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__displayContextMenu : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;		

		var ref = referenceToDHTMLSuiteContextMenu;
		<span class="reserved">if</span>(ref.isContextMenuBusy)<span class="reserved">return</span>;
		ref.isContextMenuBusy = true;
				
		ref.srcElement = DHTMLSuite.commonObj.getSrcElement(e);
		
		<span class="reserved">if</span>(!ref.indexCurrentlyDisplayedMenuModel || ref.indexCurrentlyDisplayedMenuModel!=<span class="reserved">this</span>.id){			
			<span class="reserved">if</span>(ref.indexCurrentlyDisplayedMenuModel){
				ref.menuObject.innerHTML = <span class="literal">''</span>;				
			}<span class="reserved">else</span>{
				ref.__createDivs();
			}
			ref.menuItems = ref.menuModels[<span class="reserved">this</span>.id].getItems();			
			ref.__createMenuItems(ref.menuModels[<span class="reserved">this</span>.id]);	
		}
		ref.indexCurrentlyDisplayedMenuModel=<span class="reserved">this</span>.id;
		
		ref.menuObject.style.left = (e.clientX + Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)) + <span class="literal">'px'</span>;
		ref.menuObject.style.top = (e.clientY + Math.max(document.body.scrollTop,document.documentElement.scrollTop)) + <span class="literal">'px'</span>;
		ref.menuObject.style.display=<span class="literal">'block'</span>;
		
		
		
		setTimeout(<span class="literal">'referenceToDHTMLSuiteContextMenu.isContextMenuBusy=false'</span>,20);
		<span class="reserved">return</span> false;
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __displayContextMenu()</span>
    <span class="comment">/**
     *	Add menu items
     *
     *  <span class="attrib">@param</span> Event e
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__hideContextMenu : <span class="reserved">function</span>()
	{
		var ref = referenceToDHTMLSuiteContextMenu;
		<span class="reserved">if</span>(!ref)<span class="reserved">return</span>;
		<span class="reserved">if</span>(ref.menuObject)ref.menuObject.style.display = <span class="literal">'none'</span>;
		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createDivs()</span>
    <span class="comment">/**
     *	Creates general divs for the menu
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createDivs : <span class="reserved">function</span>()
	{
		var firstChild = false;
		var firstChilds = document.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">if</span>(firstChilds.length&gt;0)firstChild = firstChilds[0];
		<span class="reserved">this</span>.menuObject = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.menuObject.style.cssText = <span class="literal">'position:absolute;z-index:100000;'</span>;
		<span class="reserved">this</span>.menuObject.className = <span class="literal">'DHTMLSuite_contextMenu'</span>;
		<span class="reserved">this</span>.menuObject.id = <span class="literal">'DHTMLSuite_contextMenu'</span> + DHTMLSuite.commonObj.getUniqueId();
		<span class="reserved">this</span>.menuObject.style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' + DHTMLSuite.configObj.imagePath + '</span>context-menu/context-menu-gradient.gif<span class="literal">' + '</span>\<span class="literal">')'</span>;
		<span class="reserved">this</span>.menuObject.style.backgroundRepeat = <span class="literal">'repeat-y'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.width)<span class="reserved">this</span>.menuObject.style.width = <span class="reserved">this</span>.width + <span class="literal">'px'</span>;
		
		<span class="reserved">if</span>(firstChild){
			firstChild.parentNode.insertBefore(<span class="reserved">this</span>.menuObject,firstChild);
		}<span class="reserved">else</span>{
			document.body.appendChild(<span class="reserved">this</span>.menuObject);
		}
						
		
		<span class="reserved">this</span>.menuBar = new DHTMLSuite.menuBar();
		<span class="reserved">this</span>.menuBar.setActiveSubItemsOnMouseOver(true);
		<span class="reserved">this</span>.menuBar.setTarget(<span class="reserved">this</span>.menuObject.id);	
		<span class="reserved">this</span>.menuBar.addMenuItems(<span class="reserved">this</span>.defaultMenuModel);		
		<span class="reserved">this</span>.menuBar.init();
	}
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __mouseOver()</span>
    <span class="comment">/**
     *	Display mouse over effect when moving the mouse over a menu item
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseOver : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="literal">'DHTMLSuite_item_mouseover'</span>;	
		<span class="reserved">if</span>(!document.all){
			<span class="reserved">this</span>.style.backgroundPosition = <span class="literal">'left center'</span>;
		}
									
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseOut()</span>
    <span class="comment">/**
     *	Remove mouse over effect when moving the mouse away from a menu item
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseOut : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="literal">''</span>;
		<span class="reserved">if</span>(!document.all){
			<span class="reserved">this</span>.style.backgroundPosition = <span class="literal">'1px center'</span>;
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createMenuItems()</span>
    <span class="comment">/**
     *	Create menu items
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMenuItems : <span class="reserved">function</span>(menuModel)
	{		
		<span class="reserved">this</span>.menuBar.deleteAllMenuItems();			
		<span class="reserved">this</span>.menuBar.addMenuItems(menuModel);
		<span class="reserved">this</span>.menuBar.init();
	}	
}

<span class="comment">/*[FILE_START:dhtmlSuite-mediaModel.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML context menu class
*
*	Created:						January, 7th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Data sources for image gallery scripts
*			
*
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates a image object - store data about an image.
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.mediaModel = <span class="reserved">function</span>(inputArray)
{
	var id;
	var thumbnailPathSmall;
	var thumbnailPath;
	var largeImagePath;
	var title;
	var caption;	
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
	<span class="reserved">if</span>(inputArray)<span class="reserved">this</span>.addItem(inputArray);
}

DHTMLSuite.mediaModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addItem()</span>
    <span class="comment">/**
     *	Display image
     *
     *	<span class="attrib">@param</span> Array mediaProperties - associative array of properties. keys: id, thumbnailPath, thumnbailPath_small,largeImagePath,title,caption
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addItem : <span class="reserved">function</span>(inputArray)
	{
		<span class="reserved">this</span>.id = inputArray[<span class="literal">'id'</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">'thumbnailPathSmall'</span>])<span class="reserved">this</span>.thumbnailPathSmall = inputArray[<span class="literal">'thumbnailPathSmall'</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">'thumbnailPath'</span>])<span class="reserved">this</span>.thumbnailPath = inputArray[<span class="literal">'thumbnailPath'</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">'largeImagePath'</span>])<span class="reserved">this</span>.largeImagePath = inputArray[<span class="literal">'largeImagePath'</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">'title'</span>])<span class="reserved">this</span>.title = inputArray[<span class="literal">'title'</span>];
		<span class="reserved">if</span>(inputArray[<span class="literal">'caption'</span>])<span class="reserved">this</span>.caption = inputArray[<span class="literal">'caption'</span>];
	}	
}

DHTMLSuite.mediaCollection = <span class="reserved">function</span>()
{
	var mediaObjects;		<span class="comment">// Array of DHTMLSuite.mediaModel objects</span>
	<span class="reserved">this</span>.mediaObjects = new Array();
}

DHTMLSuite.mediaCollection.<span class="reserved">prototype</span> = {
	
	<span class="comment">// {{{ addItemsFromMarkup()</span>
    <span class="comment">/**
     *	Create image objects from HTML markup(UL,LI) list on the page
     *	The ul element will be hidden by this method.
     *	
     *	<span class="attrib">@param</span> String elementId - Reference to UL tag on the page
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addItemsFromMarkup : <span class="reserved">function</span>(elementId)
	{
		var ul = document.getElementById(elementId);
		var lis = ul.getElementsByTagName(<span class="literal">'LI'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;lis.length;no++){
			
			var img = lis[no].getElementsByTagName(<span class="literal">'IMG'</span>)[0];
			var index = <span class="reserved">this</span>.mediaObjects.length;	
			
			var mediaArray = new Object();
			mediaArray.id = lis[no].id;
			<span class="reserved">if</span>(img){
				mediaArray.thumbnailPath = img.src;	

			}
			mediaArray.title = lis[no].title;
			mediaArray.caption = lis[no].getAttribute(<span class="literal">'caption'</span>);	
			mediaArray.largeImagePath = lis[no].getAttribute(<span class="literal">'largeImagePath'</span>);		
			mediaArray.thumbnailPathSmall = lis[no].getAttribute(<span class="literal">'thumbnailPathSmall'</span>);		
			<span class="reserved">this</span>.mediaObjects[index] = new DHTMLSuite.mediaModel(mediaArray);
			
		}	
		DHTMLSuite.discardElement(ul);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __removeImage()</span>
    <span class="comment">/**
     *	Remove an image from the gallery
     *	
     *	<span class="attrib">@param</span> String idOfMedia - Id of image
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__removeImage : <span class="reserved">function</span>(idOfMedia)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.mediaObjects.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.mediaObjects[no].id==idOfMedia){
				var retVal = <span class="reserved">this</span>.mediaObjects[no].id;
				<span class="reserved">this</span>.mediaObjects.splice(no,1);
				<span class="reserved">return</span> retVal;
			}
		}	
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getMediaById()</span>
    <span class="comment">/**
     *	Return reference to media by id
     *	
     *	<span class="attrib">@param</span> String idOfMedia - Id of image
     *
     * <span class="attrib">@public</span>	
     */</span>		
	getMediaById : <span class="reserved">function</span>(idOfMedia)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.mediaObjects.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.mediaObjects[no].id==idOfMedia){
				<span class="reserved">return</span> <span class="reserved">this</span>.mediaObjects[no];
			}
		}	
		<span class="reserved">return</span> false;			
		
	}
	
}

<span class="comment">/*[FILE_START:dhtmlSuite-floatingGallery.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML context menu class
*
*	Created:						January, 12th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Floating gallery widget
*			
*
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Creates a floating gallery widget.(&lt;a href="../../demos/demo-image-gallery-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.floatingGallery = <span class="reserved">function</span>()
{
	var collectionModel;		<span class="comment">// Reference to an object of class DHTMLSuite.mediaCollection	</span>
	var layoutCSS;
	var divElement;				<span class="comment">// Reference to parent div element.</span>
	var divElementImageBoxes;	<span class="comment">// Array of div elements for the images	</span>
	var idOfParentElementToGallery;	<span class="comment">// Id of parent element</span>
	
	<span class="comment">// Strings - callback functions.</span>
	var callBackFunction_onClick;			<span class="comment">// Call back on click</span>
	var callBackFunction_onDblClick;		<span class="comment">// Call back on dbl click</span>
	var callBackFunction_onMouseOver;		<span class="comment">// Call back on mouse over</span>
	var callBackFunction_onMouseMove;		<span class="comment">// Call back mouse move</span>
	
	var imageSelectionObj;					<span class="comment">// Object of class DHTMLSuite.imageSelection</span>
	var objectIndex;
	
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'floating-gallery.css'</span>;	
	<span class="reserved">this</span>.divElementImageBoxes = new Array();
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
		
}

DHTMLSuite.floatingGallery.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setMediaCollectionRef()</span>
    <span class="comment">/**
     *	Specify reference to DHTMLSuite.mediaCollection
     *
     *	<span class="attrib">@param</span> Object mediaCollectionRef -Object of class DHTMLSuite.mediaCollection
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setMediaCollectionRef : <span class="reserved">function</span>(mediaCollectionRef)
	{
		<span class="reserved">this</span>.collectionModel = mediaCollectionRef;
	}	
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the widget
     *
     *
     * <span class="attrib">@public</span>	
     */</span>			
	init : <span class="reserved">function</span>()
	{
		try{
			DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);	
		}catch(e){
			alert(<span class="literal">'loadCSS method missing. You need to include dhtmlSuite-common.js'</span>);
		}
		<span class="reserved">this</span>.__createMainDivEl();
		<span class="reserved">this</span>.__createImageBoxes();	
		<span class="reserved">this</span>.__initiallyHandleimageSelection();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setTargetId()</span>
    <span class="comment">/**
     *	Specify id of element where the gallery will be placed inside.
     *
     *	<span class="attrib">@param</span> idOfParentElementToGallery - ID of HTML element - this widget will be inserted as child element.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setTargetId : <span class="reserved">function</span>(idOfParentElementToGallery)
	{
		<span class="reserved">this</span>.idOfParentElementToGallery = idOfParentElementToGallery;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallBackFunctionOnClick()</span>
    <span class="comment">/**
     *	Specify function to call when users clicks on an image
     *
     *	<span class="attrib">@param</span> functionName - only the name of the image. an image object(DHTMLSuite.mediaModel) will be sent to this function(representing the image clicked on).
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallBackFunctionOnClick : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callBackFunction_onClick = functionName;
		
	}
	,
	<span class="comment">// {{{ setCallBackFunctionOnDblClick()</span>
    <span class="comment">/**
     *	Specify function to call when users clicks on an image
     *
     *	<span class="attrib">@param</span> functionName - only the name of the image. an image object(DHTMLSuite.mediaModel) will be sent to this function(representing the image clicked on).
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallBackFunctionOnDblClick : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callBackFunction_onDblClick = functionName;
		
	}
	,
	<span class="comment">// {{{ setCallBackFunctionOnMouseOver()</span>
    <span class="comment">/**
     *	Specify function to call when the mouse pointer "enters" an image
     *
     *	<span class="attrib">@param</span> functionName - only the name of the image. an image object(DHTMLSuite.mediaModel) will be sent to this function(representing the image the mouse rolled over).
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallBackFunctionOnMouseOver : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callBackFunction_onMouseOver = functionName;
		
	}
	,
	<span class="comment">// {{{ setCallBackFunctionOnMouseMove()</span>
    <span class="comment">/**
     *	Specify function to call when the mouse moves over on an image
     *
     *	<span class="attrib">@param</span> functionName - only the name of the image. an image object(DHTMLSuite.mediaModel) will be sent to this function(representing the image the mouse rolled over).
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallBackFunctionOnMouseMove : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callBackFunction_onMouseMove = functionName;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteImageFromGallery()</span>
    <span class="comment">/**
     *	Removes an image from the gallery. The image is removed from the view and from the media model.
     *
     *	<span class="attrib">@param</span> String idOfImage - Id of image/media to delete, example: "image1"
     *
     * <span class="attrib">@public</span>	
     */</span>			
	deleteImageFromGallery : <span class="reserved">function</span>(idOfImage)
	{
		var retId = <span class="reserved">this</span>.collectionModel.__removeImage(idOfImage);
		<span class="reserved">if</span>(retId){	<span class="comment">// media model image exists with this id ?</span>
			var obj = document.getElementById(retId);
			DHTMLSuite.discardElement(obj);
		}<span class="reserved">else</span>{	<span class="comment">// id doesn't match id in media collection model. loop through div elements and check each one by id.</span>
			<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.divElementImageBoxes.length;no++){
				<span class="reserved">if</span>(<span class="reserved">this</span>.divElementImageBoxes[no].id == idOfImage){	<span class="comment">// Match found</span>
					var mediaRefId = <span class="reserved">this</span>.divElementImageBoxes[no].getAttribute(<span class="literal">'mediaRefId'</span>);	<span class="comment">// get a media reference.</span>
					<span class="reserved">if</span>(!mediaRefId)mediaRefId = <span class="reserved">this</span>.divElementImageBoxes[no].mediaRefId;
					var mediaRef = <span class="reserved">this</span>.collectionModel.getMediaById(mediaRefId); 
					<span class="reserved">this</span>.collectionModel.__removeImage(mediaRef.id);	<span class="comment">// Remove media from collection mode.</span>
					DHTMLSuite.discardElement(<span class="reserved">this</span>.divElementImageBoxes[no]);
				}
			}
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ destroy()</span>
    <span class="comment">/**
     *	Delete the gallery HTML elements
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	destroy : <span class="reserved">function</span>()
	{
		DHTMLSuite.discardElement(<span class="reserved">this</span>.divElement);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addImageSelectionObject()</span>
    <span class="comment">/**
     *	Add image selection feature to this gallery. Argument to this method is an object of class DHTMLSuite.imageSelection
     *
     *	<span class="attrib">@param</span> Object imageSelectionObj - Object of class DHTMLSuite.imageSelection
     *
     * <span class="attrib">@private</span>	
     */</span>		
	addImageSelectionObject : <span class="reserved">function</span>(imageSelectionObj)
	{
		<span class="reserved">this</span>.imageSelectionObj = imageSelectionObj;		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __createMainDivEl()</span>
    <span class="comment">/**
     *	Create  main div for this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMainDivEl : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.className = <span class="literal">'DHTMLSuite_floatingGalleryContainer'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.idOfParentElementToGallery)
			document.getElementById(<span class="reserved">this</span>.idOfParentElementToGallery).appendChild(<span class="reserved">this</span>.divElement);
		<span class="reserved">else</span>
			document.body.appendChild(<span class="reserved">this</span>.divElement);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createImageBoxes()</span>
    <span class="comment">/**
     *	Create divs for each image
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createImageBoxes : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.collectionModel.mediaObjects.length;no++){
			<span class="reserved">this</span>.divElementImageBoxes[no] = document.createElement(<span class="literal">'DIV'</span>);
			<span class="reserved">this</span>.divElementImageBoxes[no].className=<span class="literal">'DHTMLSuite_floatingGalleryImageBox'</span>;
			<span class="reserved">this</span>.divElementImageBoxes[no].id=<span class="reserved">this</span>.collectionModel.mediaObjects[no].id;
			<span class="reserved">this</span>.divElementImageBoxes[no].style.backgroundImage = <span class="literal">'url("'</span> + <span class="reserved">this</span>.collectionModel.mediaObjects[no].thumbnailPath + <span class="literal">'")'</span>;
			<span class="reserved">this</span>.divElementImageBoxes[no].setAttribute(<span class="literal">'mediaRefId'</span>,<span class="reserved">this</span>.collectionModel.mediaObjects[no].id);
			<span class="reserved">this</span>.divElementImageBoxes[no].mediaRefId = <span class="reserved">this</span>.collectionModel.mediaObjects[no].id;
			<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.divElementImageBoxes[no]);
			
			var titleDiv = document.createElement(<span class="literal">'DIV'</span>);
			titleDiv.className=<span class="literal">'DHTMLSuite_floatingGalleryImageTitle'</span>;
			titleDiv.innerHTML = <span class="reserved">this</span>.collectionModel.mediaObjects[no].title;
			<span class="reserved">this</span>.divElementImageBoxes[no].appendChild(titleDiv);
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.callBackFunction_onClick)eval(<span class="literal">"DHTMLSuite.commonObj.addEvent(this.divElementImageBoxes[no],'click',function(){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__parseCallBackFunction('click',"</span> + no+ <span class="literal">"); });"</span>);
			<span class="reserved">if</span>(<span class="reserved">this</span>.callBackFunction_onDblClick)eval(<span class="literal">"DHTMLSuite.commonObj.addEvent(this.divElementImageBoxes[no],'dblclick',function(){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__parseCallBackFunction('dblClick',"</span> + no+ <span class="literal">"); });"</span>);
			<span class="reserved">if</span>(<span class="reserved">this</span>.callBackFunction_onMouseOver)eval(<span class="literal">"DHTMLSuite.commonObj.addEvent(this.divElementImageBoxes[no],'mouseover',function(){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__parseCallBackFunction('mouseOver',"</span> + no+ <span class="literal">"); });"</span>);
			<span class="reserved">if</span>(<span class="reserved">this</span>.callBackFunction_onMouseMove)eval(<span class="literal">"DHTMLSuite.commonObj.addEvent(this.divElementImageBoxes[no],'mousemove',function(){ DHTMLSuite.variableStorage.arrayDSObjects["</span> + ind + <span class="literal">"].__parseCallBackFunction('mouseOver',"</span> + no+ <span class="literal">"); });"</span>);
	
			
		}	
		
		var clearingDiv = document.createElement(<span class="literal">'DIV'</span>);
		clearingDiv.style.clear = <span class="literal">'both'</span>;
		<span class="reserved">this</span>.divElement.appendChild(clearingDiv);	
	}
	,
	<span class="comment">// {{{ __parseCallBackFunction()</span>
    <span class="comment">/**
     *	Parses callback string
     *
     *	<span class="attrib">@param</span> String action -Which callback action
     *	<span class="attrib">@param</span> Integer no - Index of media
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__parseCallBackFunction : <span class="reserved">function</span>(action,mediaIndex)
	{
		var callBackString=false;
		switch(action){
			case <span class="literal">"click"</span>:
				callBackString=<span class="reserved">this</span>.callBackFunction_onClick;
				break;	
			case <span class="literal">"dblClick"</span>:
				callBackString=<span class="reserved">this</span>.callBackFunction_onDblClick;
				break;	
			case <span class="literal">"mouseOver"</span>:
				callBackString = <span class="reserved">this</span>.callBackFunction_onMouseOver;
				break;
			case <span class="literal">"mouseMove"</span>:
				callBackString = <span class="reserved">this</span>.callBackFunction_onMouseMove;
				break;
		}	
		<span class="reserved">if</span>(callBackString)callBackString = callBackString + <span class="literal">'(this.collectionModel.mediaObjects['</span> + mediaIndex + <span class="literal">'])'</span>;
		<span class="reserved">if</span>(!callBackString)<span class="reserved">return</span>;
		try{
			eval(callBackString);
		}catch(e){
			alert(<span class="literal">'Error in callback :\n'</span> + callBackString + <span class="literal">'\n'</span> + e.message);
		}		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __parseCallBackFunction()</span>
    <span class="comment">/**
     *	Parses callback string
     *
     *	<span class="attrib">@param</span> String action -Which callback action
     *	<span class="attrib">@param</span> Integer no - Index of media
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__initiallyHandleimageSelection : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.imageSelectionObj)<span class="reserved">return</span>;
		<span class="reserved">this</span>.imageSelectionObj.__setMediaCollectionModelReference(<span class="reserved">this</span>.collectionModel);
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.divElementImageBoxes.length;no++){
			<span class="reserved">this</span>.imageSelectionObj.addSelectableElement(<span class="reserved">this</span>.divElementImageBoxes[no]);
			<span class="reserved">this</span>.divElementImageBoxes[no].onselectstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElementImageBoxes[no]);	
			var subs = <span class="reserved">this</span>.divElementImageBoxes[no].getElementsByTagName(<span class="literal">'*'</span>);
			<span class="reserved">for</span>(var no2=0;no2&lt;subs.length;no2++){
				subs[no2].onselectstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
				DHTMLSuite.commonObj.__addEventEl(subs[no2]);	
			}
		}
	}
}


<span class="comment">/*[FILE_START:dhtmlSuite-imageSelection.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML Image enlarger.
*
*	Created:						January, 14th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Tool for selecting and dragging images
*			
*	Css files used by this script:	image-selection.css
*
*	Demos of this class:			
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Tool to select objects(example: images) by dragging a rectangle around them. The objects will be made dragable&lt;br&gt;
*	Demo: (&lt;a href="../../demos/demo-image-gallery-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
*
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.imageSelection = <span class="reserved">function</span>(){	
	var layoutCSS;	
	var callBackFunction_onDrop;		<span class="comment">// Call back function on drop	</span>
	var objectIndex;
	var divElementSelection;
	var divElementSelection_transparent;
	var selectableEls;
	var selectedEls;					<span class="comment">// Array of selected elements</span>
	var selectableElsScreenProps;
	var collectionModelReference;		<span class="comment">// Reference to media collection ( data source for images )</span>
	var destinationEls;					<span class="comment">// Array of destination elements.</span>
	var currentDestEl;					<span class="comment">// Reference to current destination element</span>
	
	var selectionStatus;				<span class="comment">// -1 when selection isn't in progress, 0 when it's being initialized, 5 when it's ready</span>
	var dragStatus;						<span class="comment">// -1 = drag not started, 0-5 = drag initializing, 5 = drag in process.</span>
	var startCoordinates;
	var selectionResizeInProgress;		<span class="comment">// variable which is true when code for the selection area is running</span>
	var selectionStartArea;				<span class="comment">// Selection can only starts within this element</span>
	var selectionOrDragStartEl;			<span class="comment">// Element triggering drag or selection</span>
	
	<span class="reserved">this</span>.selectionResizeInProgress = false;
	<span class="reserved">this</span>.selectionStatus = -1;
	<span class="reserved">this</span>.dragStatus = -1;
	<span class="reserved">this</span>.startCoordinates = new Object();
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'image-selection.css'</span>;
	<span class="reserved">this</span>.selectableEls = new Array();
	<span class="reserved">this</span>.destinationEls = new Array();
	<span class="reserved">this</span>.collectionModelReference = false;
	<span class="reserved">this</span>.selectableElsScreenProps = new Object();
	<span class="reserved">this</span>.selectedEls = new Array();
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	

	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
	
}

DHTMLSuite.imageSelection.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the script
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	init : <span class="reserved">function</span>()
	{
		try{
			DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		}catch(e){
			alert(<span class="literal">'Unable to load css file dynamically. You need to include dhtmlSuite-common.js'</span>);
		}
		<span class="reserved">this</span>.__createdivElementsForSelection();
		<span class="reserved">this</span>.__createdivElementsForDrag();
		<span class="reserved">this</span>.__addEvents();
		<span class="reserved">this</span>.__setSelectableElsScreenProps();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addDestinationElement()</span>
    <span class="comment">/**
     *	Add single destination element
     *
     *	Object elementReference - Element reference, id of element or the element it's self.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addDestinationElement : <span class="reserved">function</span>(elementReference)
	{
		elementReference = DHTMLSuite.commonObj.getEl(elementReference);
		<span class="reserved">this</span>.destinationEls[<span class="reserved">this</span>.destinationEls.length] = elementReference;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addselectableEls()</span>
    <span class="comment">/**
     *	Add selectable elements
     *
     *	<span class="attrib">@param</span> Object parentElementReference - id of parent html element or the parent element it's self. all direct children will be dragable
     *	<span class="attrib">@param</span> String tagName - Which tag, example "td","li" or "a"
     *	<span class="attrib">@param</span> String className - optional element
     *	<span class="attrib">@return</span> Boolean success - true if parent element was found, false otherwise.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addDestinationElementsByTagName : <span class="reserved">function</span>(parentElementReference,tagName,className)
	{
		parentElementReference = DHTMLSuite.commonObj.getEl(parentElementReference);
		<span class="reserved">if</span>(!parentElementReference){
			<span class="reserved">return</span> false;
		}
		var subs = parentElementReference.getElementsByTagName(tagName);
		<span class="reserved">for</span>(var no=0;no&lt;subs.length;no++){
			<span class="reserved">if</span>(className &amp;&amp; subs[no].className!=className)continue;
			<span class="reserved">this</span>.destinationEls[<span class="reserved">this</span>.destinationEls.length] = subs[no];	
		}
		<span class="reserved">this</span>.__addEventsTodestinationEls(subs);
		<span class="reserved">return</span> true;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addSelectableElements()</span>
    <span class="comment">/**
     *	Add selectable elements
     *
     *	Object parentElementReference - id of parent html element or the parent element it's self. all direct children will be dragable
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addSelectableElements : <span class="reserved">function</span>(parentElementReference)
	{
		var obj = DHTMLSuite.commonObj.getEl(parentElementReference);
		var subElement = obj.getElementsByTagName(<span class="literal">'*'</span>)[0];		
		<span class="reserved">while</span>(subElement){
			<span class="reserved">this</span>.selectableEls[<span class="reserved">this</span>.selectableEls.length] = subElement;
			<span class="reserved">this</span>.__addPropertiesToSelectableElement(subElement);
			subElement = subElement.nextSibling;	
		}		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addSelectableElement()</span>
    <span class="comment">/**
     *	Add single selectable element
     *
     *	Object elementReference - id of html element or the reference to the element it's self. all direct children will be dragable
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addSelectableElement : <span class="reserved">function</span>(elementReference)
	{
		<span class="reserved">this</span>.selectableEls[<span class="reserved">this</span>.selectableEls.length] = DHTMLSuite.commonObj.getEl(elementReference);
		<span class="reserved">this</span>.__addPropertiesToSelectableElement(elementReference);
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallBackFunctionOnDrop()</span>
    <span class="comment">/**
     *	Specify call back function - on drop 
     *	This function will be called when elements are dropped on a destination node
     *	Arguments to this function will be an array of the dragged elements and a reference to the destionation object.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallBackFunctionOnDrop : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callBackFunction_onDrop = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSelectionStartArea()</span>
    <span class="comment">/**
     *	Restrict where the selection may start.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setSelectionStartArea : <span class="reserved">function</span>(elementReference)
	{
		elementReference = DHTMLSuite.commonObj.getEl(elementReference);
		<span class="reserved">this</span>.selectionStartArea = elementReference;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createdivElementSelectionsForSelection()</span>
    <span class="comment">/**
     *	Create div elements for the selection
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createdivElementsForSelection : <span class="reserved">function</span>()
	{
		<span class="comment">/* Div elements for selection */</span>
		<span class="reserved">this</span>.divElementSelection = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElementSelection.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElementSelection.id = <span class="literal">'DHTMLSuite_imageSelectionSel'</span>;	
		<span class="reserved">this</span>.divElementSelection.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		document.body.insertBefore(<span class="reserved">this</span>.divElementSelection,document.body.firstChild);
		<span class="reserved">this</span>.divElementSelection_transparent = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElementSelection_transparent.id = <span class="literal">'DHTMLSuite_imageSelection_transparentDiv'</span>;
		<span class="reserved">this</span>.divElementSelection.appendChild(<span class="reserved">this</span>.divElementSelection_transparent);
		<span class="reserved">this</span>.divElementSelection_transparent.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setMediaCollectionModelReference()</span>
    <span class="comment">/**
     *	Specify media collection model reference. 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__setMediaCollectionModelReference : <span class="reserved">function</span>(collectionModelReference){
		<span class="reserved">this</span>.collectionModelReference = collectionModelReference;
	}
	,
	<span class="comment">// {{{ __createdivElementsForDrag()</span>
    <span class="comment">/**
     *	Create div elements for the drag
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createdivElementsForDrag : <span class="reserved">function</span>()
	{
		<span class="comment">/* Div elements for selection */</span>
		<span class="reserved">this</span>.divElementDrag = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElementDrag.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElementDrag.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElementDrag.id = <span class="literal">'DHTMLSuite_imageSelectionDrag'</span>;
		document.body.insertBefore(<span class="reserved">this</span>.divElementDrag,document.body.firstChild);	
		
		<span class="reserved">this</span>.divElementDragContent = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElementDragContent.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElementDragContent.id = <span class="literal">'DHTMLSuite_imageSelectionDragContent'</span>;
		<span class="reserved">this</span>.divElementDrag.appendChild(<span class="reserved">this</span>.divElementDragContent);
		
		var divElementTrans = document.createElement(<span class="literal">'DIV'</span>);
		divElementTrans.className = <span class="literal">'DHTMLSuite_imageSelectionDrag_transparentDiv'</span>;
		<span class="reserved">this</span>.divElementDrag.appendChild(divElementTrans);
		
	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initImageSelection()</span>
    <span class="comment">/**
     *	Mouse down - start selection or drag.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__initImageSelection : <span class="reserved">function</span>(e)
	{
		var initImageSelector;
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		
		<span class="reserved">if</span>(src.onmousedown){	<span class="comment">/* Exception for the drag */</span>		
			<span class="comment">//if(src.onmousedown.toString().indexOf('initImageSelector')&lt;0)return;	</span>
		}
		<span class="reserved">if</span>(src.className.indexOf(<span class="literal">'paneSplitter_vertical'</span>)&gt;=0 || src.className.indexOf(<span class="literal">'paneSplitter_horizontal'</span>)&gt;=0 ){	<span class="comment">/* Exception for the drag */</span>
			<span class="reserved">return</span>;	
		}
		
		<span class="reserved">this</span>.selectionOrDragStartEl = src;
		<span class="reserved">this</span>.startCoordinates.x = e.clientX + document.documentElement.scrollLeft + 3;
		<span class="reserved">this</span>.startCoordinates.y = e.clientY + document.documentElement.scrollTop + 3; 
					
		<span class="reserved">if</span>(!<span class="reserved">this</span>.__isReadyForDrag(e)){	<span class="comment">/* Image selection */</span>
			<span class="reserved">if</span>(!e.shiftKey &amp;&amp; !e.ctrlKey)<span class="reserved">this</span>.__clearselectedElsArray();
			<span class="reserved">this</span>.selectionStatus = 0;
			<span class="reserved">this</span>.divElementSelection.style.left = <span class="reserved">this</span>.startCoordinates.x + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.divElementSelection.style.top = <span class="reserved">this</span>.startCoordinates.y + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.divElementSelection.style.width = <span class="literal">'1px'</span>;
			<span class="reserved">this</span>.divElementSelection.style.height = <span class="literal">'1px'</span>;
			<span class="reserved">this</span>.__setSelectableElsScreenProps();
			<span class="reserved">this</span>.__countDownToSelectionStart();
			
		}<span class="reserved">else</span>{	<span class="comment">/* Drag selected images */</span>
			<span class="reserved">this</span>.divElementDrag.style.left = <span class="reserved">this</span>.startCoordinates.x + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.divElementDrag.style.top = <span class="reserved">this</span>.startCoordinates.y + <span class="literal">'px'</span>;			
			<span class="reserved">this</span>.dragStatus = 0;	
			<span class="reserved">this</span>.__countDownToDragStart();
			
			
		}	
		
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __isReadyForDrag()</span>
    <span class="comment">/**
     *	A small delay before selection starts.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__isReadyForDrag : <span class="reserved">function</span>(e)
	{
		var src = DHTMLSuite.commonObj.getObjectByAttribute(e,<span class="literal">'DHTMLSuite_selectableElement'</span>);
		<span class="reserved">if</span>(!src)<span class="reserved">return</span> false;
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectedEls.length&gt;0)<span class="reserved">return</span> true;
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __countDownToDragStart()</span>
    <span class="comment">/**
     *	A small delay before drag starts.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__countDownToDragStart : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus&gt;=0 &amp;&amp; <span class="reserved">this</span>.dragStatus&lt;5){
			var ind = <span class="reserved">this</span>.objectIndex;
			<span class="reserved">this</span>.dragStatus++;
			var timeOut=60;
			<span class="reserved">if</span>(<span class="reserved">this</span>.selectedEls.length&gt;1)timeOut=10;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__countDownToDragStart()'</span>,timeOut);				
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus==5){
			<span class="reserved">this</span>.__fillDragBoxWithSelectedItems();
			<span class="reserved">this</span>.divElementDrag.style.display=<span class="literal">'block'</span>;	<span class="comment">// Show selection box.</span>
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __fillDragBoxWithSelectedItems()</span>
    <span class="comment">/**
     *	Fill drag box with selected items.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__fillDragBoxWithSelectedItems : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElementDragContent.innerHTML = <span class="literal">''</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.collectionModelReference){	<span class="comment">/* Media model exists */</span>
			
			<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectedEls.length;no++){
				var obj = <span class="reserved">this</span>.selectedEls[no];
				var mediaRefId = obj.getAttribute(<span class="literal">'mediaRefId'</span>);
				<span class="reserved">if</span>(!mediaRef)mediaRef = obj.mediaRefId;
				var mediaRef = <span class="reserved">this</span>.collectionModelReference.getMediaById(mediaRefId);
			

				var div = document.createElement(<span class="literal">'DIV'</span>);
				div.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
				div.className = <span class="literal">'DHTMLSuite_imageSelectionDragBox'</span>;
				div.style.backgroundImage = <span class="literal">'url(\'</span><span class="literal">' + mediaRef.thumbnailPathSmall + '</span>\<span class="literal">')'</span>;
				<span class="reserved">this</span>.divElementDragContent.appendChild(div);
			}			
		}<span class="reserved">else</span>{	<span class="comment">/* No media model - Just clone the node - May have to figure out something more clever here as this hasn't been tested fully yet */</span>
			<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectedEls.length;no++){
				var el = <span class="reserved">this</span>.selectedEls.cloneNode(true);	
				<span class="reserved">this</span>.divElementDragContent.appendChild(el);				
			}			
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __countDownToSelectionStart()</span>
    <span class="comment">/**
     *	A small delay before selectino starts.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__countDownToSelectionStart : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectionStatus&gt;=0 &amp;&amp; <span class="reserved">this</span>.selectionStatus&lt;5){
			var ind = <span class="reserved">this</span>.objectIndex;
			<span class="reserved">this</span>.selectionStatus++;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__countDownToSelectionStart()'</span>,10);	
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectionStatus==5)<span class="reserved">this</span>.divElementSelection.style.display=<span class="literal">'block'</span>;	<span class="comment">// Show selection box.</span>
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveDragBox()</span>
    <span class="comment">/**
     *	Move div with the dragged elements
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__moveDragBox : <span class="reserved">function</span>(e)
	{		
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus&lt;5)<span class="reserved">return</span>;	
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">this</span>.divElementDrag.style.left = (<span class="reserved">this</span>.startCoordinates.x + (e.clientX + 3 - <span class="reserved">this</span>.startCoordinates.x)) + <span class="literal">'px'</span>;			
		<span class="reserved">this</span>.divElementDrag.style.top = (<span class="reserved">this</span>.startCoordinates.y + (e.clientY + 3 - <span class="reserved">this</span>.startCoordinates.y)) + <span class="literal">'px'</span>;			
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __resizeSelectionDivBox()</span>
    <span class="comment">/**
     *	Resize selection div box.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__resizeSelectionDivBox : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectionStatus&lt;5)<span class="reserved">return</span>;	<span class="comment">// Selection in progress ?</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectionResizeInProgress)<span class="reserved">return</span>;	<span class="comment">// If this function is allready running, don't start another iteration until it's finished.</span>
					
		<span class="reserved">this</span>.selectionResizeInProgress = true;	<span class="comment">// Selection code is running!</span>

		<span class="reserved">if</span>(document.all)e = event;
		var width = e.clientX - <span class="reserved">this</span>.startCoordinates.x;
		var height = e.clientY + document.documentElement.scrollTop - <span class="reserved">this</span>.startCoordinates.y;
		
		<span class="reserved">if</span>(width&gt;0){
			<span class="reserved">this</span>.divElementSelection.style.left = (<span class="reserved">this</span>.startCoordinates.x) + <span class="literal">'px'</span>; 	
			<span class="reserved">this</span>.divElementSelection.style.width = width + <span class="literal">'px'</span>; 	
				
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElementSelection.style.width = (<span class="reserved">this</span>.startCoordinates.x - (<span class="reserved">this</span>.startCoordinates.x + width)) + <span class="literal">'px'</span>; 	
			<span class="reserved">this</span>.divElementSelection.style.left =(<span class="reserved">this</span>.startCoordinates.x + width) + <span class="literal">'px'</span>; 
		}			
		<span class="reserved">if</span>(height&gt;0){
			<span class="reserved">this</span>.divElementSelection.style.top = (<span class="reserved">this</span>.startCoordinates.y) + <span class="literal">'px'</span>; 	
			<span class="reserved">this</span>.divElementSelection.style.height = height + <span class="literal">'px'</span>; 
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElementSelection.style.height = (<span class="reserved">this</span>.startCoordinates.y - (<span class="reserved">this</span>.startCoordinates.y + height)) + <span class="literal">'px'</span>; 	
			<span class="reserved">this</span>.divElementSelection.style.top =(<span class="reserved">this</span>.startCoordinates.y + height) + <span class="literal">'px'</span>; 
		}
		<span class="comment">// this.__clearselectedElsArray();</span>
		<span class="reserved">this</span>.__highlightElementsWithinSelectionArea();
		<span class="reserved">this</span>.selectionResizeInProgress = false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearSingleElementFromSelectedArray()</span>
    <span class="comment">/**
     *	Clear a single element from the selected array
     *
     *  <span class="attrib">@param</span> Object - HTML element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__clearSingleElementFromSelectedArray : <span class="reserved">function</span>(el)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectedEls.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.selectedEls[no]==el){
				<span class="reserved">this</span>.selectedEls[no].className = <span class="reserved">this</span>.selectedEls[no].className.replace(<span class="literal">' imageSelection'</span>,<span class="literal">''</span>);
				<span class="reserved">this</span>.selectedEls.splice(no,1);
				<span class="reserved">return</span>;
			}
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearselectedElsArray()</span>
    <span class="comment">/**
     *	Remove highlight effect from all previous selected elements.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__clearselectedElsArray : <span class="reserved">function</span>()
	{
		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectedEls.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.selectedEls[no].className.indexOf(<span class="literal">'imageSelection'</span>)&gt;=0)<span class="reserved">this</span>.selectedEls[no].className = <span class="reserved">this</span>.selectedEls[no].className.replace(<span class="literal">' imageSelection'</span>,<span class="literal">''</span>);
		}	
		<span class="reserved">this</span>.selectedEls = new Array();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __highlightElementsWithinSelectionArea()</span>
    <span class="comment">/**
     *	Loop through selectable elements and highlight those within the selection area.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__highlightElementsWithinSelectionArea : <span class="reserved">function</span>()
	{		
		var x1 = <span class="reserved">this</span>.divElementSelection.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		var y1 = <span class="reserved">this</span>.divElementSelection.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		var x2 = x1 + <span class="reserved">this</span>.divElementSelection.style.width.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		var y2 = y1 + <span class="reserved">this</span>.divElementSelection.style.height.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectableEls.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.__isElementWithinSelectionArea(<span class="reserved">this</span>.selectableEls[no],x1,y1,x2,y2)){
				<span class="reserved">this</span>.__addSelectedElement(<span class="reserved">this</span>.selectableEls[no]);
			}<span class="reserved">else</span>{
				<span class="reserved">this</span>.__clearSingleElementFromSelectedArray(<span class="reserved">this</span>.selectableEls[no]);
			}
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __isElementInSelectedArray()</span>
    <span class="comment">/**
     *	Is element allready added to the selected item array ?
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__isElementInSelectedArray : <span class="reserved">function</span>(el)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectedEls.length;no++){	<span class="comment">/* element allready added ? */</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.selectedEls[no]==el)<span class="reserved">return</span> true;
		}		
		<span class="reserved">return</span> false;		
	}
	,
	<span class="comment">// {{{ __addSelectedElement()</span>
    <span class="comment">/**
     *	Highlight element and add it to the collection of selected elements.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__addSelectedElement : <span class="reserved">function</span>(el)
	{
		<span class="reserved">if</span>(el.className.indexOf(<span class="literal">'imageSelection'</span>)==-1){
			<span class="reserved">if</span>(el.className)
				el.className = el.className + <span class="literal">' imageSelection'</span>;	<span class="comment">// Adding " imageSelection" to the class name</span>
			<span class="reserved">else</span>
				el.className = <span class="literal">'imageSelection'</span>;
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.__isElementInSelectedArray(el))<span class="reserved">return</span>;	
		<span class="reserved">this</span>.selectedEls[<span class="reserved">this</span>.selectedEls.length] = el;	<span class="comment">// Add element to selected elements array</span>
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setSelectableElsScreenProps()</span>
    <span class="comment">/**
     *	Save selectable elements x,y, width and height - this is done when the selection process is initiated. 
     *
     *	<span class="attrib">@return</span> Boolean element within selection area. If the selection box is over an element, return true, otherwise return false
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__isElementWithinSelectionArea : <span class="reserved">function</span>(el,x1,y1,x2,y2)
	{		
		var elX1 = <span class="reserved">this</span>.selectableElsScreenProps[el.id].x;
		var elY1 = <span class="reserved">this</span>.selectableElsScreenProps[el.id].y;
		var elX2 = <span class="reserved">this</span>.selectableElsScreenProps[el.id].x + <span class="reserved">this</span>.selectableElsScreenProps[el.id].width;
		var elY2 = <span class="reserved">this</span>.selectableElsScreenProps[el.id].y + <span class="reserved">this</span>.selectableElsScreenProps[el.id].height;
		
		<span class="comment">/*		
		ILLUSTRATION - Image boxes within the boundaries of a selection area.
		
		|-----------|   |-----------|   |-----------|
		|	BOX		|	|	BOX		|	|	BOX		|
		|	|-----------------------------------|	|
		|	|		|	|			|	|		|	|
		|---|-------|   |-----------|	|-----------|
			|	SELECTION AREA					|	
			|									|	
		|-----------|	|-----------|	|-----------|
		|	|	BOX	|	|	BOX		|	|	BOX	|	|
		|	|		|	|			|	|		|	|
		|	|		|	|			|	|		|	|
		|-----------|	|-----------|	|-----------|
			|									|
			|									|	
		|-----------|	|-----------|	|-----------|
		|	|		|	|			|	|		|	|
		|	|-------|---|-----------|---|-------|	|
		|BOX		|	|BOX		|	|	BOX	|	|
		|-----------|	|-----------|	|-----------|		
		
		*/</span>
		<span class="reserved">if</span>(elX2&lt;x1)<span class="reserved">return</span> false;
		<span class="reserved">if</span>(elY2&lt;y1)<span class="reserved">return</span> false;
		<span class="reserved">if</span>(elX1&gt;x2)<span class="reserved">return</span> false;
		<span class="reserved">if</span>(elY1&gt;y2)<span class="reserved">return</span> false;
		<span class="reserved">if</span>((elY1&lt;=y1 &amp;&amp; elY2&gt;=y1) || (elY1&gt;=y1 &amp;&amp; elY2&lt;=y2) || (elY1&lt;=y2 &amp;&amp; elY2&gt;=y2)){	<span class="comment">/* Y coordinates of element within selection area */</span>
			<span class="reserved">if</span>(elX1&lt;=x1 &amp;&amp; elX2&gt;=x1)<span class="reserved">return</span> true;	<span class="comment">/* left edge of element at the left of selection area, but right edge within */</span>
			<span class="reserved">if</span>(elX1&gt;=x1 &amp;&amp; elX2&lt;=x2)<span class="reserved">return</span> true;	<span class="comment">/* Both left and right edge of element within selection area */</span>
			<span class="reserved">if</span>(elX1&lt;=x2 &amp;&amp; elX2&gt;=x2)<span class="reserved">return</span> true;	<span class="comment">/* Left edge of element within selection area, but right element outside */</span>	
		}
		
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setSelectableElsScreenProps()</span>
    <span class="comment">/**
     *	Save selectable elements x,y, width and height - this is done when the selection process is initiated. 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setSelectableElsScreenProps : <span class="reserved">function</span>()
	{

		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.selectableEls.length;no++){
			var obj = <span class="reserved">this</span>.selectableEls[no];
			<span class="reserved">if</span>(!obj.parentNode){	<span class="comment">// Element has been deleted from the view ?</span>
				<span class="reserved">this</span>.selectableEls.splice(no,1);
				<span class="reserved">this</span>.__setSelectableElsScreenProps();
				<span class="reserved">return</span>;				
			}
			var id = obj.id;
			<span class="reserved">this</span>.selectableElsScreenProps[id] = new Object();
			var ref = <span class="reserved">this</span>.selectableElsScreenProps[id];
			ref.x = DHTMLSuite.commonObj.getLeftPos(obj);
			ref.y = DHTMLSuite.commonObj.getTopPos(obj);
			ref.width = obj.offsetWidth;
			ref.height = obj.offsetHeight;
		}
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __endImageSelection()</span>
    <span class="comment">/**
     *	Mouse up event - hide the rectangle
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__endImageSelection : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectionStatus&gt;=0){
			<span class="reserved">this</span>.divElementSelection.style.display=<span class="literal">'none'</span>;
			<span class="reserved">if</span>(<span class="reserved">this</span>.__isReadyForDrag(e) &amp;&amp; <span class="reserved">this</span>.selectionStatus==-1)<span class="reserved">this</span>.__clearselectedElsArray();
			<span class="reserved">this</span>.selectionStatus = -1;	
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus&gt;=0){			
			var src = DHTMLSuite.commonObj.getSrcElement(e);
			<span class="reserved">if</span>(<span class="reserved">this</span>.currentDestEl)<span class="reserved">this</span>.__handleCallBackFunctions(<span class="literal">'drop'</span>);	
			<span class="reserved">this</span>.divElementDrag.style.display=<span class="literal">'none'</span>;				
			<span class="reserved">if</span>(src!=<span class="reserved">this</span>.selectionOrDragStartEl || !src.className)<span class="reserved">this</span>.__clearselectedElsArray();	
			<span class="reserved">this</span>.__deselectDestinationElement();	
			<span class="reserved">this</span>.dragStatus = -1;				
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallBackFunctions()</span>
    <span class="comment">/**
     *	Handle call back function, i.e. evaluate js
     *	 
     *	String action - Which call back
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__handleCallBackFunctions : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action)
		{
			case <span class="literal">'drop'</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callBackFunction_onDrop)callbackString = <span class="reserved">this</span>.callBackFunction_onDrop;
				break;
				
		}
		
		<span class="reserved">if</span>(callbackString)eval(callbackString + <span class="literal">'(this.selectedEls,this.currentDestEl)'</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deselectDestinationElement()</span>
    <span class="comment">/**
     *	Mouse away from destination element
     *	Deselect it and clear the property currentDestEl  
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__deselectDestinationElement : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus&lt;5)<span class="reserved">return</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.currentDestEl)<span class="reserved">return</span>;
		<span class="reserved">if</span>(document.all)e = event;
		
		<span class="reserved">if</span>(e &amp;&amp; !DHTMLSuite.commonObj.isObjectClicked(<span class="reserved">this</span>.currentDestEl,e))<span class="reserved">return</span>;
		
		<span class="reserved">this</span>.currentDestEl.className = <span class="reserved">this</span>.currentDestEl.className.replace(<span class="literal">' imageSelection'</span>,<span class="literal">''</span>);
		<span class="reserved">this</span>.currentDestEl.className = <span class="reserved">this</span>.currentDestEl.className.replace(<span class="literal">'imageSelection'</span>,<span class="literal">''</span>);
		<span class="reserved">this</span>.currentDestEl = false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __selectDestinationElement()</span>
    <span class="comment">/**
     *	Mouse over a destination element. 
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__selectDestinationElement : <span class="reserved">function</span>(e){
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus&lt;5)<span class="reserved">return</span>;
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getObjectByAttribute(e,<span class="literal">'imageSelectionDestination'</span>);
		<span class="reserved">this</span>.currentDestEl = src;
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentDestEl.className)
			<span class="reserved">this</span>.currentDestEl.className = <span class="reserved">this</span>.currentDestEl.className + <span class="literal">' imageSelection'</span>;
		<span class="reserved">else</span>
			<span class="reserved">this</span>.currentDestEl.className = <span class="literal">'imageSelection'</span>;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __selectSingleElement()</span>
    <span class="comment">/**
     *	Mouse down on a specific element
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__selectSingleElement : <span class="reserved">function</span>(e,eventType)
	{
		
		<span class="reserved">if</span>(document.all) e = event;
		var src = DHTMLSuite.commonObj.getObjectByAttribute(e,<span class="literal">'DHTMLSuite_selectableElement'</span>);
		
		var elementAllreadyInSelectedArray =<span class="reserved">this</span>.__isElementInSelectedArray(src); 
		<span class="reserved">if</span>(!e.ctrlKey &amp;&amp; !elementAllreadyInSelectedArray)<span class="reserved">this</span>.__clearselectedElsArray();
		<span class="reserved">if</span>(e.ctrlKey &amp;&amp; elementAllreadyInSelectedArray){
			<span class="reserved">this</span>.__clearSingleElementFromSelectedArray(src);			
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.__addSelectedElement(src);	
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addPropertiesToSelectableElement()</span>
    <span class="comment">/**
     *	Add mouse down event and assigne custom property to selectable element.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__addPropertiesToSelectableElement : <span class="reserved">function</span>(elementReference)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		elementReference.onmousedown = <span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__selectSingleElement(e); };
		<span class="comment">//DHTMLSuite.commonObj.addEvent(elementReference,'mousedown',function(e){ return DHTMLSuite.variableStorage.arrayDSObjects[ind].__selectSingleElement(e,'mousedown'); });	// Add click event to single element</span>
		elementReference.setAttribute(<span class="literal">'DHTMLSuite_selectableElement'</span>,<span class="literal">'1'</span>);	
		<span class="reserved">this</span>.__addOnScrollEventsToSelectableEls(elementReference);		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addEventsTodestinationEls()</span>
    <span class="comment">/**
     *	Add mouse over event to destination objects.
     *	
     *	<span class="attrib">@param</span> Array inputElements - optional - if given, only these elements will be parsed, if not give, all destination elements will be parsed
     * <span class="attrib">@private</span>	
     */</span>		
	__addEventsTodestinationEls : <span class="reserved">function</span>(inputElements)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">if</span>(inputElements){
			<span class="reserved">for</span>(var no=0;no&lt;inputElements.length;no++){
				inputElements[no].onmouseover = <span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__selectDestinationElement(e); };
				inputElements[no].onmouseout = <span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__deselectDestinationElement(e); };
				inputElements[no].setAttribute(<span class="literal">'imageSelectionDestination'</span>,<span class="literal">'1'</span>);
				inputElements[no].imageSelectionDestination = <span class="literal">'1'</span>;	
				DHTMLSuite.commonObj.__addEventEl(inputElements[no]);	
			}			
		}<span class="reserved">else</span>{
			<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.destinationEls.length;no++){
				<span class="reserved">this</span>.destinationEls[no].onmouseover = <span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__selectDestinationElement(e); };
				<span class="reserved">this</span>.destinationEls[no].onmouseout = <span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__deselectDestinationElement(e); };
				DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.destinationEls[no]);	
				<span class="reserved">this</span>.destinationEls[no].setAttribute(<span class="literal">'imageSelectionDestination'</span>,<span class="literal">'1'</span>);
				<span class="reserved">this</span>.destinationEls[no].imageSelectionDestination = <span class="literal">'1'</span>;
				
			}
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addOnScrollEventsToSelectableEls()</span>
    <span class="comment">/**
     *	Don't allow selection on scroll
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__addOnScrollEventsToSelectableEls : <span class="reserved">function</span>(el)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var src = el;
		<span class="reserved">while</span>(src &amp;&amp; src.tagName.toLowerCase()!=<span class="literal">'body'</span>){
			src = src.parentNode;	
			<span class="reserved">if</span>(!src.onscroll)DHTMLSuite.commonObj.addEvent(src,<span class="literal">'scroll'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__endImageSelection(e); });
		}			
	}
	<span class="comment">// }}}}</span>
	,
	<span class="comment">// {{{ __addEvents()</span>
    <span class="comment">/**
     *	Add basic events for this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__addEvents : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		document.documentElement.onselectstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };	<span class="comment">// disable text selection</span>
		DHTMLSuite.commonObj.__addEventEl(document.documentElement.onselectstart);
		
		<span class="reserved">this</span>.destinationEls[no]
		<span class="reserved">if</span>(<span class="reserved">this</span>.selectionStartArea){
			DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.selectionStartArea,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__initImageSelection(e); });
		}<span class="reserved">else</span>{
			DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__initImageSelection(e); });
		}
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__resizeSelectionDivBox(e); });
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveDragBox(e); });
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mouseup'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__endImageSelection(e); });
		DHTMLSuite.commonObj.addEvent(window,<span class="literal">'resize'</span>,<span class="reserved">function</span>(){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__setSelectableElsScreenProps(); });
		
		var imgs = document.getElementsByTagName(<span class="literal">'IMG'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;imgs.length;no++){
			imgs[no].ondragstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
			<span class="reserved">if</span>(!imgs[no].onmousedown)imgs[no].onmousedown = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
			DHTMLSuite.commonObj.__addEventEl(imgs[no]);
		}
		
		<span class="reserved">this</span>.__addEventsTodestinationEls();

	}
	
}

<span class="comment">/*[FILE_START:dhtmlSuite-imageEnlarger.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML Image enlarger.
*
*	Created:						January, 7th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Enlarge an image and displays it at the center of the screen
*			
*	Css files used by this script:	image-enlarger.css
*
*	Demos of this class:			demo-image-enlarger.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Enlarge an image and displays it at the center of the screen. (&lt;a href="../../demos/demo-image-enlarger.html" target="_blank"&gt;Demo&lt;/a&gt;)&lt;br&gt;
*		The constructor accepts an associative array of properties as argument. Possible keys in this array:&lt;br&gt;
*		isDragable - true if the image is drabable&lt;br&gt;
*		isModal - true if the image should be modal&lt;br&gt;
*		closeLinkTxt - Text of close links&lt;br&gt;
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.imageEnlarger = <span class="reserved">function</span>(props){
	
	var layoutCSS;
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'image-enlarger.css'</span>;
	var divElement;
	var divElementImageBox;
	var divElInner;
	var iframeEl;
	
	var currentImagePath;
	var objectIndex;
	var transparentDiv;
	var captionDiv;
	var msieOpacity;
	var isDragable;
	var isModal;
	
	<span class="reserved">this</span>.isDragable = false;
	<span class="reserved">this</span>.msieOpacity = 50;
	<span class="reserved">this</span>.isModal = true;
	
	var resizeTransparentAllowed;
	var closeLinkTxt;
	var dragObject;
	var dragOffsetX;
	var dragOffsetY;
	
	<span class="reserved">this</span>.dragOffsetX = 0;
	<span class="reserved">this</span>.dragOffsetY = 0;
	
	<span class="reserved">this</span>.closeLinkTxt = <span class="literal">'Close'</span>;
	
	<span class="reserved">this</span>.resizeTransparentAllowed = true;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	

	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
	
	<span class="reserved">if</span>(props)<span class="reserved">this</span>.__setInitProps(props);
	
}

DHTMLSuite.imageEnlarger.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     *	Set initial properties
     *
     *	<span class="attrib">@param</span> Array props - Associative array of properties
     *
     * <span class="attrib">@public</span>	
     */</span>		
	__setInitProps : <span class="reserved">function</span>(props)
	{
		<span class="reserved">if</span>(props.closeLinkTxt)<span class="reserved">this</span>.closeLinkTxt = props.closeLinkTxt;
		<span class="reserved">if</span>(props.isDragable)<span class="reserved">this</span>.isDragable = props.isDragable;
		<span class="reserved">if</span>(props.isModal || props.isModal===false)<span class="reserved">this</span>.isModal = props.isModal;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ displayImage()</span>
    <span class="comment">/**
     *	Display image
     *
     *	<span class="attrib">@param</span> String imagePath - Path to image
     *	<span class="attrib">@param</span> String title - Title of image
     *	<span class="attrib">@param</span> String description - Description/Caption of image.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	displayImage : <span class="reserved">function</span>(imagePath,title,description)
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">if</span>(!<span class="reserved">this</span>.divElement)<span class="reserved">this</span>.__createHTMLElements();
		<span class="reserved">this</span>.__resizeTransparentDiv();
		<span class="reserved">this</span>.__clearHTMLElement();
		<span class="reserved">this</span>.__addImageElement(imagePath);		
		<span class="reserved">this</span>.__setCaptionText(title,description);
		<span class="reserved">this</span>.__displayDivElement();		
		<span class="reserved">this</span>.currentImagePath = imagePath;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setIsDragable()</span>
    <span class="comment">/**
     *	Specify if the image should be dragable, default = false;
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setIsDragable : <span class="reserved">function</span>(isDragable)
	{
		<span class="reserved">this</span>.isDragable = isDragable;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ isModal()</span>
    <span class="comment">/**
     *	Specify if the window should be modal, i.e. a transparent div behind the image.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setIsModal : <span class="reserved">function</span>(isModal)
	{
		<span class="reserved">this</span>.isModal = isModal;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ setDragOffset()</span>
    <span class="comment">/**
     *	If drag is enabled, you can set drag offset here. It is useful if you experience some "jumping" when this script is initialized.
     *	That jumping is caused by the drag script not being able to determine the position of the element correctly.
     *
     *	<span class="attrib">@param</span> Integer offsetX - offset position
     *	<span class="attrib">@param</span> Integer offsetY - offset position
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setDragOffset : <span class="reserved">function</span>(dragOffsetX,dragOffsetY)
	{
		<span class="reserved">this</span>.dragOffsetX = dragOffsetX;
		<span class="reserved">this</span>.dragOffsetY = dragOffsetY;
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ hide()</span>
    <span class="comment">/**
     *	Hide the image
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	hide : <span class="reserved">function</span>()
	{
		<span class="comment">// Call private hideDivElement method.</span>
		<span class="reserved">this</span>.__hideDivElement();
		<span class="reserved">return</span> false;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCloseLinkTxt()</span>
    <span class="comment">/**
     *	Set text for close link text
     *	
     *	<span class="attrib">@param</span> String closeLinkTxt - Label of close link - If you pass in false or empty string, no close link will be displayed.
     *
     * <span class="attrib">@public</span>	
     */</span>			
	setCloseLinkTxt : <span class="reserved">function</span>(closeLinkTxt)
	{
		<span class="reserved">this</span>.closeLinkTxt = closeLinkTxt;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Specify new relative path/name to css file(default is image-enlarger.css)
     *	The complete path to this file will be the path set by the DHTMLSuite-config object + this value
     *	
     *	<span class="attrib">@param</span> String newLayoutCss - Name (or path) to new css file
     *
     * <span class="attrib">@public</span>	
     */</span>			
	setLayoutCss : <span class="reserved">function</span>(newLayoutCss)
	{
		<span class="reserved">this</span>.layoutCSS = newLayoutCss;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __createHTMLElements()</span>
    <span class="comment">/**
     *	Create html elements used by this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createHTMLElements : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
				
		<span class="comment">// Create main div element. </span>
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.className=<span class="literal">'DHTMLSuite_imageEnlarger'</span>;
		<span class="reserved">this</span>.divElement.ondragstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElement);
		
		document.body.appendChild(<span class="reserved">this</span>.divElement);	
		
		<span class="reserved">this</span>.divElInner = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElInner.className = <span class="literal">'DHTMLSuite_imageEnlarger_imageBox'</span>;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.divElInner);
		
		<span class="comment">// Create div element for the image</span>
		<span class="reserved">this</span>.divElementImageBox = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElInner.appendChild(<span class="reserved">this</span>.divElementImageBox);	
		
		<span class="comment">// Create transparent div</span>
		<span class="reserved">this</span>.transparentDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.transparentDiv.className = <span class="literal">'DHTMLSuite_imageEnlarger_transparentDivs'</span>;
		document.body.appendChild(<span class="reserved">this</span>.transparentDiv);
		<span class="reserved">this</span>.transparentDiv.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.transparentDiv.style.filter = <span class="literal">'alpha(opacity='</span> + <span class="reserved">this</span>.msieOpacity + <span class="literal">')'</span>;
		DHTMLSuite.commonObj.addEvent(window,<span class="literal">'resize'</span>,<span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__resizeTransparentDiv(); });
		
		<span class="comment">// Create close button</span>
		var closeButton = document.createElement(<span class="literal">'DIV'</span>);
		closeButton.className = <span class="literal">'DHTMLSuite_imageEnlarger_close'</span>;
		closeButton.onmouseover = <span class="reserved">this</span>.__mouseOverEffectCloseButton;
		closeButton.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarButton;
		closeButton.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].hide(); };
		DHTMLSuite.commonObj.__addEventEl(closeButton);
		<span class="reserved">this</span>.divElInner.appendChild(closeButton);	
		
		<span class="comment">// Create caption</span>
		<span class="reserved">this</span>.captionDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.captionDiv.className = <span class="literal">'DHTMLSuite_imageEnlarger_caption'</span>;	
		<span class="reserved">this</span>.divElInner.appendChild(<span class="reserved">this</span>.captionDiv);	
		
		<span class="comment">// Iframe element</span>
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
		
			<span class="reserved">this</span>.iframeEl = document.createElement(<span class="literal">'&lt;iframe frameborder=0 src="about:blank" scrolling="no"&gt;'</span>);
			<span class="reserved">this</span>.iframeEl.className = <span class="literal">'DHTMLSuite_imageEnlarger_iframe'</span>;
			<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.iframeEl);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.isDragable){
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__makeElementDragable()'</span>,1);
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __makeElementDragable()</span>
    <span class="comment">/**
     *	Make an element dragable
     *
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__makeElementDragable : <span class="reserved">function</span>()
	{
		try{
			<span class="reserved">this</span>.dragObject = new DHTMLSuite.dragDropSimple({ elementReference: <span class="reserved">this</span>.divElement, offsetX : <span class="reserved">this</span>.dragOffsetX,offsetY: <span class="reserved">this</span>.dragOffsetY,cloneNode:false });	
		}catch(e){
			alert(<span class="literal">'You need to include DHTMLSuite-dragDropSimple.js for the drag feature'</span>);
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createHTMLElements()</span>
    <span class="comment">/**
     *	Create html elements used by this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseOverEffectCloseButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="literal">'DHTMLSuite_imageEnlarger_closeOver'</span>;
	}
	,
	<span class="comment">// {{{ __createHTMLElements()</span>
    <span class="comment">/**
     *	Create html elements used by this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutCalendarButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="literal">'DHTMLSuite_imageEnlarger_close'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearHTMLElement()</span>
    <span class="comment">/**
     *	Clear image tag from div
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__clearHTMLElement : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElementImageBox.innerHTML = <span class="literal">''</span>;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __displayDivElement()</span>
    <span class="comment">/**
     *	Display div elements for this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__displayDivElement : <span class="reserved">function</span>()
	{
	
		<span class="reserved">this</span>.divElement.style.visibility = <span class="literal">'hidden'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.isModal)<span class="reserved">this</span>.transparentDiv.style.display=<span class="literal">'block'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl)<span class="reserved">this</span>.iframeEl.style.display=<span class="literal">'block'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __hideDivElement()</span>
    <span class="comment">/**
     *	Hide div elements for this widget
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__hideDivElement : <span class="reserved">function</span>()
	{
		DHTMLSuite.discardElement(<span class="reserved">this</span>.divElement);
		DHTMLSuite.discardElement(<span class="reserved">this</span>.transparentDiv);
		<span class="reserved">this</span>.divElement = false
		<span class="comment">/*
		this.divElement.style.visibility = 'hidden';
		this.transparentDiv.style.display='none';		
		
		if(this.iframeEl){
			this.iframeEl.style.display='none';
			this.iframeEl.style.height = '1px';
			this.iframeEl.style.width = '1px';				
		}	
		*/</span>	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __resizeTransparentDiv()</span>
    <span class="comment">/**
     *	Resize transparent div according to document width and height
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__resizeTransparentDiv : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.resizeTransparentAllowed)<span class="reserved">return</span>;
		<span class="reserved">this</span>.resizeTransparentAllowed = false;
		var divHeight = Math.max(DHTMLSuite.clientInfoObj.getBrowserHeight(),document.documentElement.scrollHeight);
		var divWidth = Math.max(DHTMLSuite.clientInfoObj.getBrowserWidth(),document.documentElement.scrollWidth);		

		<span class="reserved">this</span>.transparentDiv.style.width = divWidth + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.transparentDiv.style.height = divHeight + <span class="literal">'px'</span>;	
			
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].resizeTransparentAllowed=true'</span>,10);	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addImageElement()</span>
    <span class="comment">/**
     *	Create img element
     *
     *	<span class="attrib">@param</span> String imagePath - Path to image
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__addImageElement : <span class="reserved">function</span>(imagePath)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var img = document.createElement(<span class="literal">'IMG'</span>);
		<span class="reserved">this</span>.divElementImageBox.appendChild(img);
		img.onresize = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__repositionHTMLElement(); };
		img.onload = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__repositionHTMLElement(); };
		DHTMLSuite.commonObj.__addEventEl(img);
		img.src = imagePath;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setCaptionText()</span>
    <span class="comment">/**
     *	Put title and caption into the caption div
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setCaptionText : <span class="reserved">function</span>(title,description)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var txt = <span class="literal">''</span>;
		<span class="reserved">if</span>(title)txt = <span class="literal">'&lt;span class="DHTMLSuite_imageEnlarger_captionTitle"&gt;'</span> + title + <span class="literal">'&lt;/span&gt;'</span>
		<span class="reserved">if</span>(description)txt = txt + <span class="literal">'&lt;span class="DHTMLSuite_imageEnlarger_captionDescription"&gt;'</span> + description + <span class="literal">'&lt;/span&gt;'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.closeLinkTxt)txt = txt + <span class="literal">'&lt;a class="DHTMLSuite_imageEnlarger_closeLink" href="#" onclick="return DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].hide()"&gt;'</span> + <span class="reserved">this</span>.closeLinkTxt + <span class="literal">'&lt;/a&gt;'</span>;
		<span class="reserved">this</span>.captionDiv.innerHTML = txt;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __repositionHTMLElement()</span>
    <span class="comment">/**
     *	Reposition div elements when the image is fully loaded.
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__repositionHTMLElement : <span class="reserved">function</span>(internalCall)
	{
		
		var ind = <span class="reserved">this</span>.objectIndex;
		var imgs = <span class="reserved">this</span>.divElementImageBox.getElementsByTagName(<span class="literal">'IMG'</span>);
		var img = imgs[0];
		<span class="reserved">this</span>.divElementImageBox.style.width = img.width + <span class="literal">'px'</span>;	
		<span class="reserved">this</span>.divElementImageBox.style.height = img.height + <span class="literal">'px'</span>;	

		<span class="reserved">this</span>.divElement.style.width = (<span class="reserved">this</span>.divElInner.offsetWidth) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElement.style.height = (<span class="reserved">this</span>.divElInner.offsetHeight) + <span class="literal">'px'</span>;

		<span class="reserved">this</span>.divElInner.style.width = <span class="reserved">this</span>.divElementImageBox.offsetWidth + <span class="literal">'px'</span>; 
		<span class="reserved">this</span>.divElInner.style.height = (<span class="reserved">this</span>.divElementImageBox.offsetHeight + <span class="reserved">this</span>.captionDiv.offsetHeight) + <span class="literal">'px'</span>;

		<span class="reserved">if</span>(<span class="reserved">this</span>.isDragable){
			<span class="reserved">this</span>.divElement.style.left = (DHTMLSuite.clientInfoObj.getBrowserWidth()/2 - <span class="reserved">this</span>.divElement.offsetWidth/2) + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.divElement.style.top = (DHTMLSuite.clientInfoObj.getBrowserHeight()/2 - <span class="reserved">this</span>.divElement.offsetHeight/2) + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.divElement.style.marginLeft = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.divElement.style.marginTop = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.divElement.style.cursor = <span class="literal">'move'</span>;
			
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElement.style.marginLeft = Math.round(<span class="reserved">this</span>.divElementImageBox.offsetWidth/2 *-1) + <span class="literal">'px'</span>;
			<span class="reserved">this</span>.divElement.style.marginTop = Math.round(<span class="reserved">this</span>.divElementImageBox.offsetHeight/2 *-1) + <span class="literal">'px'</span>;
		}
				
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl){
			<span class="reserved">this</span>.iframeEl.style.width = <span class="reserved">this</span>.divElInner.style.width;
			<span class="reserved">this</span>.iframeEl.style.height = <span class="reserved">this</span>.divElInner.style.height;			
		}	
		
		<span class="reserved">if</span>(!internalCall){
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__repositionHTMLElement(true)'</span>,50);	
		}<span class="reserved">else</span> <span class="reserved">this</span>.divElement.style.visibility = <span class="literal">'visible'</span>;
	}
	
	
}

<span class="comment">/*[FILE_START:dhtmlSuite-calendar.js] */</span>
<span class="comment">/************************************************************************************************************
*	Calendar model
*
*	Created:						January, 20th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Handle language parameters for a calendar
*			
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Store language specific data for calendar.&lt;br&gt;
*	Demo: (&lt;a href="../../demos/demo-calendar-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>
DHTMLSuite.calendarLanguageModel = <span class="reserved">function</span>(languageCode){
	
	var monthArray;							<span class="comment">// An array of months.</span>
	var monthArrayShort;					<span class="comment">// An array of the months, short version</span>
	var dayArray;							<span class="comment">// An array of the days in a week</span>
	var weekString;							<span class="comment">// String representation of the string "Week"</span>
	var todayString;						<span class="comment">// String representatinon of the string "Today"</span>
	var todayIsString;						<span class="comment">// String representation of the string "Today is"</span>
	var timeString;							<span class="comment">// String representation of the string "Time"</span>
	<span class="reserved">this</span>.monthArray = new Array();
	<span class="reserved">this</span>.monthArrayShort = new Array();
	<span class="reserved">this</span>.dayArray = new Array();
	
	<span class="reserved">if</span>(!languageCode)languageCode = <span class="literal">'en'</span>;
	<span class="reserved">this</span>.languageCode = languageCode;
	<span class="reserved">this</span>.__setCalendarProperties();	
}

DHTMLSuite.calendarLanguageModel.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ __setCalendarProperties()</span>
    <span class="comment">/**
     *	Fill object with string values according to chosen language
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__setCalendarProperties : <span class="reserved">function</span>()
	{
		switch(<span class="reserved">this</span>.languageCode){
			case <span class="literal">"fi"</span>: <span class="comment">/* Finnish */</span>
				<span class="reserved">this</span>.monthArray =[<span class="literal">'Tammikuu'</span>,<span class="literal">'Helmikuu'</span>,<span class="literal">'Maaliskuu'</span>,<span class="literal">'Huhtikuu'</span>,<span class="literal">'Toukokuu'</span>,<span class="literal">'Kes&amp;auml;kuu'</span>,<span class="literal">'Hein&amp;auml;kuu'</span>,<span class="literal">'Elokuu'</span>,<span class="literal">'Syyskuu'</span>,<span class="literal">'Lokakuu'</span>,<span class="literal">'Marraskuu'</span>,<span class="literal">'Joulukuu'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Tam'</span>,<span class="literal">'Hel'</span>,<span class="literal">'Maa'</span>,<span class="literal">'Huh'</span>,<span class="literal">'Tou'</span>,<span class="literal">'Kes'</span>,<span class="literal">'Hei'</span>,<span class="literal">'Elo'</span>,<span class="literal">'Syy'</span>,<span class="literal">'Lok'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Jou'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Maa'</span>,<span class="literal">'Tii'</span>,<span class="literal">'Kes'</span>,<span class="literal">'Tor'</span>,<span class="literal">'Per'</span>,<span class="literal">'Lau'</span>,<span class="literal">'Sun'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Viikko'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'T&amp;auml;n&amp;auml;&amp;auml;n on'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'T&amp;auml;n&amp;auml;&amp;auml;n'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">'Kello'</span>;
				break;			
			case <span class="literal">"ge"</span>:	<span class="comment">/* German */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Januar'</span>,<span class="literal">'Februar'</span>,<span class="literal">'Mrz'</span>,<span class="literal">'April'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Juni'</span>,<span class="literal">'Juli'</span>,<span class="literal">'August'</span>,<span class="literal">'September'</span>,<span class="literal">'Oktober'</span>,<span class="literal">'November'</span>,<span class="literal">'Dezember'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Apr'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Aug'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Okt'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dez'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Mon'</span>,<span class="literal">'Die'</span>,<span class="literal">'Mit'</span>,<span class="literal">'Don'</span>,<span class="literal">'Fre'</span>,<span class="literal">'Sam'</span>,<span class="literal">'Son'</span>];	
				<span class="reserved">this</span>.weekString = <span class="literal">'Woche'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Heute'</span>;		
				<span class="reserved">this</span>.todayString = <span class="literal">'Heute'</span>;		
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;
				break;
			case <span class="literal">"no"</span>:	<span class="comment">/* Norwegian */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Januar'</span>,<span class="literal">'Februar'</span>,<span class="literal">'Mars'</span>,<span class="literal">'April'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Juni'</span>,<span class="literal">'Juli'</span>,<span class="literal">'August'</span>,<span class="literal">'September'</span>,<span class="literal">'Oktober'</span>,<span class="literal">'November'</span>,<span class="literal">'Desember'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Apr'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Aug'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Okt'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Des'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Man'</span>,<span class="literal">'Tir'</span>,<span class="literal">'Ons'</span>,<span class="literal">'Tor'</span>,<span class="literal">'Fre'</span>,<span class="literal">'L&amp;oslash;r'</span>,<span class="literal">'S&amp;oslash;n'</span>];	
				<span class="reserved">this</span>.weekString = <span class="literal">'Uke'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Dagen i dag er'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'I dag'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">'Tid'</span>;
				break;	
			case <span class="literal">"nl"</span>:	<span class="comment">/* Dutch */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Januari'</span>,<span class="literal">'Februari'</span>,<span class="literal">'Maart'</span>,<span class="literal">'April'</span>,<span class="literal">'Mei'</span>,<span class="literal">'Juni'</span>,<span class="literal">'Juli'</span>,<span class="literal">'Augustus'</span>,<span class="literal">'September'</span>,<span class="literal">'Oktober'</span>,<span class="literal">'November'</span>,<span class="literal">'December'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Apr'</span>,<span class="literal">'Mei'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Aug'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Okt'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dec'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Ma'</span>,<span class="literal">'Di'</span>,<span class="literal">'Wo'</span>,<span class="literal">'Do'</span>,<span class="literal">'Vr'</span>,<span class="literal">'Za'</span>,<span class="literal">'Zo'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Week'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Vandaag'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Vandaag'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;
				break;	
			case <span class="literal">"es"</span>: <span class="comment">/* Spanish */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Enero'</span>,<span class="literal">'Febrero'</span>,<span class="literal">'Marzo'</span>,<span class="literal">'April'</span>,<span class="literal">'Mayo'</span>,<span class="literal">'Junio'</span>,<span class="literal">'Julio'</span>,<span class="literal">'Agosto'</span>,<span class="literal">'Septiembre'</span>,<span class="literal">'Octubre'</span>,<span class="literal">'Noviembre'</span>,<span class="literal">'Diciembre'</span>];
				<span class="reserved">this</span>.monthArrayShort =[<span class="literal">'Ene'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Abr'</span>,<span class="literal">'May'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Ago'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Oct'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dic'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Lun'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Mie'</span>,<span class="literal">'Jue'</span>,<span class="literal">'Vie'</span>,<span class="literal">'Sab'</span>,<span class="literal">'Dom'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Semana'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Hoy es'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Hoy'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;
				break; 	
			case <span class="literal">"pt-br"</span>:  <span class="comment">/* Brazilian portuguese (pt-br) */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Janeiro'</span>,<span class="literal">'Fevereiro'</span>,<span class="literal">'Mar&amp;ccedil;o'</span>,<span class="literal">'Abril'</span>,<span class="literal">'Maio'</span>,<span class="literal">'Junho'</span>,<span class="literal">'Julho'</span>,<span class="literal">'Agosto'</span>,<span class="literal">'Setembro'</span>,<span class="literal">'Outubro'</span>,<span class="literal">'Novembro'</span>,<span class="literal">'Dezembro'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Fev'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Abr'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Ago'</span>,<span class="literal">'Set'</span>,<span class="literal">'Out'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dez'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Seg'</span>,<span class="literal">'Ter'</span>,<span class="literal">'Qua'</span>,<span class="literal">'Qui'</span>,<span class="literal">'Sex'</span>,<span class="literal">'S&amp;aacute;b'</span>,<span class="literal">'Dom'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Sem.'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Hoje &amp;eacute;'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Hoje'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;				
				break;
			case <span class="literal">"fr"</span>:      <span class="comment">/* French */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Janvier'</span>,<span class="literal">'Fvrier'</span>,<span class="literal">'Mars'</span>,<span class="literal">'Avril'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Juin'</span>,<span class="literal">'Juillet'</span>,<span class="literal">'Aot'</span>,<span class="literal">'Septembre'</span>,<span class="literal">'Octobre'</span>,<span class="literal">'Novembre'</span>,<span class="literal">'Dcembre'</span>];		
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Fev'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Avr'</span>,<span class="literal">'Mai'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Aou'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Oct'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dec'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Lun'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Mer'</span>,<span class="literal">'Jeu'</span>,<span class="literal">'Ven'</span>,<span class="literal">'Sam'</span>,<span class="literal">'Dim'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Sem'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">"Aujourd'hui"</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Aujourd'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;
				break; 	
			case <span class="literal">"da"</span>: <span class="comment">/*Danish*/</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'januar'</span>,<span class="literal">'februar'</span>,<span class="literal">'marts'</span>,<span class="literal">'april'</span>,<span class="literal">'maj'</span>,<span class="literal">'juni'</span>,<span class="literal">'juli'</span>,<span class="literal">'august'</span>,<span class="literal">'september'</span>,<span class="literal">'oktober'</span>,<span class="literal">'november'</span>,<span class="literal">'december'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'jan'</span>,<span class="literal">'feb'</span>,<span class="literal">'mar'</span>,<span class="literal">'apr'</span>,<span class="literal">'maj'</span>,<span class="literal">'jun'</span>,<span class="literal">'jul'</span>,<span class="literal">'aug'</span>,<span class="literal">'sep'</span>,<span class="literal">'okt'</span>,<span class="literal">'nov'</span>,<span class="literal">'dec'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'man'</span>,<span class="literal">'tirs'</span>,<span class="literal">'ons'</span>,<span class="literal">'tors'</span>,<span class="literal">'fre'</span>,<span class="literal">'l&amp;oslash;r'</span>,<span class="literal">'s&amp;oslash;n'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Uge'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'I dag er den'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'I dag'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">'Tid'</span>;
				break;	
			case <span class="literal">"it"</span>:	<span class="comment">/* Italian*/</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Gennaio'</span>,<span class="literal">'Febbraio'</span>,<span class="literal">'Marzo'</span>,<span class="literal">'Aprile'</span>,<span class="literal">'Maggio'</span>,<span class="literal">'Giugno'</span>,<span class="literal">'Luglio'</span>,<span class="literal">'Agosto'</span>,<span class="literal">'Settembre'</span>,<span class="literal">'Ottobre'</span>,<span class="literal">'Novembre'</span>,<span class="literal">'Dicembre'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Gen'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Apr'</span>,<span class="literal">'Mag'</span>,<span class="literal">'Giu'</span>,<span class="literal">'Lugl'</span>,<span class="literal">'Ago'</span>,<span class="literal">'Set'</span>,<span class="literal">'Ott'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dic'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Lun'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Mer'</span>,<span class="literal">'Gio'</span>,<span class="literal">'Ven'</span>,<span class="literal">'Sab'</span>,<span class="literal">'Dom'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Sett'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Oggi &amp;egrave; il'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Oggi &amp;egrave; il'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;
				break;		
			case <span class="literal">"sv"</span>:	<span class="comment">/* Swedish */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'Januari'</span>,<span class="literal">'Februari'</span>,<span class="literal">'Mars'</span>,<span class="literal">'April'</span>,<span class="literal">'Maj'</span>,<span class="literal">'Juni'</span>,<span class="literal">'Juli'</span>,<span class="literal">'Augusti'</span>,<span class="literal">'September'</span>,<span class="literal">'Oktober'</span>,<span class="literal">'November'</span>,<span class="literal">'December'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Apr'</span>,<span class="literal">'Maj'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Aug'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Okt'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dec'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'M&amp;aring;n'</span>,<span class="literal">'Tis'</span>,<span class="literal">'Ons'</span>,<span class="literal">'Tor'</span>,<span class="literal">'Fre'</span>,<span class="literal">'L&amp;ouml;r'</span>,<span class="literal">'S&amp;ouml;n'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Vecka'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">'Idag &amp;auml;r det den'</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Idag &amp;auml;r det den'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">''</span>;
				break;
			default:	<span class="comment">/* English */</span>
				<span class="reserved">this</span>.monthArray = [<span class="literal">'January'</span>,<span class="literal">'February'</span>,<span class="literal">'March'</span>,<span class="literal">'April'</span>,<span class="literal">'May'</span>,<span class="literal">'June'</span>,<span class="literal">'July'</span>,<span class="literal">'August'</span>,<span class="literal">'September'</span>,<span class="literal">'October'</span>,<span class="literal">'November'</span>,<span class="literal">'December'</span>];
				<span class="reserved">this</span>.monthArrayShort = [<span class="literal">'Jan'</span>,<span class="literal">'Feb'</span>,<span class="literal">'Mar'</span>,<span class="literal">'Apr'</span>,<span class="literal">'May'</span>,<span class="literal">'Jun'</span>,<span class="literal">'Jul'</span>,<span class="literal">'Aug'</span>,<span class="literal">'Sep'</span>,<span class="literal">'Oct'</span>,<span class="literal">'Nov'</span>,<span class="literal">'Dec'</span>];
				<span class="reserved">this</span>.dayArray = [<span class="literal">'Mon'</span>,<span class="literal">'Tue'</span>,<span class="literal">'Wed'</span>,<span class="literal">'Thu'</span>,<span class="literal">'Fri'</span>,<span class="literal">'Sat'</span>,<span class="literal">'Sun'</span>];
				<span class="reserved">this</span>.weekString = <span class="literal">'Week'</span>;
				<span class="reserved">this</span>.todayIsString = <span class="literal">''</span>;
				<span class="reserved">this</span>.todayString = <span class="literal">'Today'</span>;
				<span class="reserved">this</span>.timeString = <span class="literal">'Time'</span>;
				break;
		}
	}
}


<span class="comment">/************************************************************************************************************
*	Calendar model
*
*	Created:						January, 19th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Deal with dates and other calendar stuff
*			
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Data source for a calendar.
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.calendarModel = <span class="reserved">function</span>(inputArray){
	var initialDay;							<span class="comment">// Initial day (i.e. day in month)</span>
	var initialMonth;						<span class="comment">// Initial month(1-12)</span>
	var initialYear;						<span class="comment">// Initial Year(4 digits)</span>
	var initialHour;						<span class="comment">// Initial Hour(0-23)</span>
	var initialMinute;						<span class="comment">// Initial Minute</span>
	
	var displayedDay;						<span class="comment">// Currently displayed day</span>
	var displayedMonth;						<span class="comment">// Currently displayed month</span>
	var displayedYear;						<span class="comment">// Current displayed year	</span>
	var displayedMinute;					<span class="comment">// Currently displayed Minute</span>
	var displayedHour;						<span class="comment">// Current displayed Hour</span>
	var languageCode;						<span class="comment">// Current language code</span>
	var languageModel;						<span class="comment">// Reference to object of class DHTMLSuite.calendarLanguageModel</span>
	var invalidDateRange;					<span class="comment">// Array of invalid date ranges</span>
	var weekStartsOnMonday;					<span class="comment">// Should the week start on monday?	</span>
	<span class="reserved">this</span>.weekStartsOnMonday = true;	<span class="comment">// Default - start week on monday	</span>
	<span class="reserved">this</span>.languageCode = <span class="literal">'en'</span>;
	<span class="reserved">this</span>.invalidDateRange = new Array();
	
	<span class="reserved">this</span>.__createDefaultModel(inputArray);
	
	
}

DHTMLSuite.calendarModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setCallbackFunctionOnMonthChange()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> String functionName - Name of function to call when someone clicks on a date in the calendar. Argument to this function will be an array containing year,month,day,hour and minute
     *								 
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallbackFunctionOnMonthChange : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackFunctionOnMonthChange = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setInitialDateFromInput()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> Object inputReference - Reference to form input, i.e. id of form element, or a reference to the form element it's self
     *	<span class="attrib">@param</span> String dateFormat - Format of value(examples: dd.mm.yyyy, yyyy.mm.dd, yyyy-mm-dd HH:
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addInvalidDateRange : <span class="reserved">function</span>(fromDateAsArray,toDateAsArray)
	{
		var index = <span class="reserved">this</span>.invalidDateRange.length;
		<span class="reserved">this</span>.invalidDateRange[index] = new Object();
		
		<span class="reserved">if</span>(fromDateAsArray){
			fromDateAsArray.day = fromDateAsArray.day + <span class="literal">''</span>;
			fromDateAsArray.month = fromDateAsArray.month + <span class="literal">''</span>;
			fromDateAsArray.year = fromDateAsArray.year + <span class="literal">''</span>;
			<span class="reserved">if</span>(!fromDateAsArray.month)fromDateAsArray.month = fromDateAsArray.month=<span class="literal">'1'</span>;
			<span class="reserved">if</span>(!fromDateAsArray.day)fromDateAsArray.day = fromDateAsArray.day=<span class="literal">'1'</span>;
			<span class="reserved">if</span>(fromDateAsArray.day.length==1)fromDateAsArray.day = <span class="literal">'0'</span> + fromDateAsArray.day;
			<span class="reserved">if</span>(fromDateAsArray.month.length==1)fromDateAsArray.month = <span class="literal">'0'</span> + fromDateAsArray.month;
			<span class="reserved">this</span>.invalidDateRange[index].fromDate = fromDateAsArray.year + fromDateAsArray.month + fromDateAsArray.day;
			
			
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.invalidDateRange[index].fromDate = false;
		}
		
		<span class="reserved">if</span>(toDateAsArray){
			toDateAsArray.day = toDateAsArray.day + <span class="literal">''</span>;
			toDateAsArray.month = toDateAsArray.month + <span class="literal">''</span>;
			toDateAsArray.year = toDateAsArray.year + <span class="literal">''</span>;			
			<span class="reserved">if</span>(!toDateAsArray.month)toDateAsArray.month = toDateAsArray.month=<span class="literal">'1'</span>;
			<span class="reserved">if</span>(!toDateAsArray.day)toDateAsArray.day = toDateAsArray.day=<span class="literal">'1'</span>;
			<span class="reserved">if</span>(toDateAsArray.day.length==1)toDateAsArray.day = <span class="literal">'0'</span> + toDateAsArray.day;
			<span class="reserved">if</span>(toDateAsArray.month.length==1)toDateAsArray.month = <span class="literal">'0'</span> + toDateAsArray.month;
			<span class="reserved">this</span>.invalidDateRange[index].toDate = toDateAsArray.year + toDateAsArray.month + toDateAsArray.day;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.invalidDateRange[index].toDate = false;
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ isDateWithinValidRange()</span>
    <span class="comment">/**
     *	Return true if given date is within valid date range.
     *
     *	<span class="attrib">@param</span> Array inputDate - Associative array representing a date, keys in array : year,month and day
     *	<span class="attrib">@return</span> Boolean dateWithinRange
     * <span class="attrib">@public</span>	
     */</span>		
	isDateWithinValidRange : <span class="reserved">function</span>(inputDate)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.invalidDateRange.length==0)<span class="reserved">return</span> true;
		var month = inputDate.month+<span class="literal">''</span>;
		<span class="reserved">if</span>(month.length==1)month = <span class="literal">'0'</span> + month;
		var day = inputDate.day+<span class="literal">''</span>;
		<span class="reserved">if</span>(day.length==1)day = <span class="literal">'0'</span> + day;		
		var dateToCheck = inputDate.year + month + day;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.invalidDateRange.length;no++){
			<span class="reserved">if</span>(!<span class="reserved">this</span>.invalidDateRange[no].fromDate &amp;&amp; <span class="reserved">this</span>.invalidDateRange[no].toDate&gt;=dateToCheck)<span class="reserved">return</span> false;
			<span class="reserved">if</span>(!<span class="reserved">this</span>.invalidDateRange[no].toDate &amp;&amp; <span class="reserved">this</span>.invalidDateRange[no].fromDate&lt;=dateToCheck)<span class="reserved">return</span> false;
			<span class="reserved">if</span>(<span class="reserved">this</span>.invalidDateRange[no].fromDate&lt;=dateToCheck &amp;&amp; <span class="reserved">this</span>.invalidDateRange[no].toDate&gt;=dateToCheck)<span class="reserved">return</span> false;
		}	
		<span class="reserved">return</span> true;
		
	}
	,	
	<span class="comment">// {{{ setInitialDateFromInput()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> Object inputReference - Reference to form input, i.e. id of form element, or a reference to the form element it's self
     *	<span class="attrib">@param</span> String dateFormat - Format of value(examples: dd.mm.yyyy, yyyy.mm.dd, yyyy-mm-dd HH:
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setInitialDateFromInput : <span class="reserved">function</span>(inputReference,format)
	{		
		<span class="reserved">if</span>(inputReference.value.length&gt;0){			
			<span class="reserved">if</span>(!format.match(/^[0-9]*?$/gi)){
				var items = inputReference.value.split(/[^0-9]/gi);
				var positionArray = new Object();
				positionArray.m = format.indexOf(<span class="literal">'mm'</span>);
				<span class="reserved">if</span>(positionArray.m==-1)positionArray.m = format.indexOf(<span class="literal">'m'</span>);
				positionArray.d = format.indexOf(<span class="literal">'dd'</span>);
				<span class="reserved">if</span>(positionArray.d==-1)positionArray.d = format.indexOf(<span class="literal">'d'</span>);
				positionArray.y = format.indexOf(<span class="literal">'yyyy'</span>);
				positionArray.h = format.indexOf(<span class="literal">'hh'</span>);
				positionArray.i = format.indexOf(<span class="literal">'ii'</span>);
				
				var positionArrayNumeric = Array();
				positionArrayNumeric[0] = positionArray.m;
				positionArrayNumeric[1] = positionArray.d;
				positionArrayNumeric[2] = positionArray.y;
				positionArrayNumeric[3] = positionArray.h;
				positionArrayNumeric[4] = positionArray.i;
				
				
				positionArrayNumeric = positionArrayNumeric.sort(<span class="reserved">this</span>.__calendarSortItems);
				var itemIndex = -1;
				<span class="reserved">this</span>.initialHour = <span class="literal">'00'</span>;
				<span class="reserved">this</span>.initialMinute = <span class="literal">'00'</span>;
				<span class="reserved">for</span>(var no=0;no&lt;positionArrayNumeric.length;no++){
					<span class="reserved">if</span>(positionArrayNumeric[no]==-1)continue;
					itemIndex++;
					<span class="reserved">if</span>(positionArrayNumeric[no]==positionArray[<span class="literal">'m'</span>]){
						<span class="reserved">this</span>.initialMonth = items[itemIndex];
						continue;
					}
					<span class="reserved">if</span>(positionArrayNumeric[no]==positionArray[<span class="literal">'y'</span>]){
						<span class="reserved">this</span>.initialYear = items[itemIndex];
						continue;
					}	
					<span class="reserved">if</span>(positionArrayNumeric[no]==positionArray[<span class="literal">'d'</span>]){
						tmpDay = items[itemIndex];
						continue;
					}	
					<span class="reserved">if</span>(positionArrayNumeric[no]==positionArray[<span class="literal">'h'</span>]){
						<span class="reserved">this</span>.initialHour = items[itemIndex];
						continue;
					}	
					<span class="reserved">if</span>(positionArrayNumeric[no]==positionArray[<span class="literal">'i'</span>]){
						<span class="reserved">this</span>.initialMinute = items[itemIndex];
						continue;
					}	
				}
	
				<span class="reserved">this</span>.initialMonth = <span class="reserved">this</span>.initialMonth / 1;
				tmpDay = tmpDay / 1;
				<span class="reserved">this</span>.initialDay = tmpDay;
			}<span class="reserved">else</span>{		
				var monthPos = format.indexOf(<span class="literal">'mm'</span>);
				<span class="reserved">this</span>.initialMonth = inputReference.value.substr(monthPos,2)/1;	
				var yearPos = format.indexOf(<span class="literal">'yyyy'</span>);
				<span class="reserved">this</span>.initialYear = inputReference.value.substr(yearPos,4);		
				var dayPos = format.indexOf(<span class="literal">'dd'</span>);
				tmpDay = inputReference.value.substr(dayPos,2);		
				<span class="reserved">this</span>.initialDay = tmpDay;
				var hourPos = format.indexOf(<span class="literal">'hh'</span>);
				<span class="reserved">if</span>(hourPos&gt;=0){
					tmpHour = inputReference.value.substr(hourPos,2);	
					<span class="reserved">this</span>.initialHour = tmpHour;
				}<span class="reserved">else</span>{
					<span class="reserved">this</span>.initialHour = <span class="literal">'00'</span>;
				}
				var minutePos = format.indexOf(<span class="literal">'ii'</span>);
				<span class="reserved">if</span>(minutePos&gt;=0){
					tmpMinute = inputReference.value.substr(minutePos,2);	
					<span class="reserved">this</span>.initialMinute = tmpMinute;
				}<span class="reserved">else</span>{
					<span class="reserved">this</span>.initialMinute = <span class="literal">'00'</span>;
				}	
			}
		}	
		<span class="reserved">this</span>.__setDisplayedDateToInitialData();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setDisplayedDateToInitialData()</span>
    <span class="comment">/**
     *	Set displayed date equal to initial data.
     *	
     * <span class="attrib">@private</span>	
     */</span>			
	__setDisplayedDateToInitialData : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.displayedYear = <span class="reserved">this</span>.initialYear;
		<span class="reserved">this</span>.displayedMonth = <span class="reserved">this</span>.initialMonth;
		<span class="reserved">this</span>.displayedDay = <span class="reserved">this</span>.initialDay;
		<span class="reserved">this</span>.displayedHour = <span class="reserved">this</span>.initialHour;
		<span class="reserved">this</span>.displayedMinute = <span class="reserved">this</span>.initialMinute;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __calendarSortItems()</span>
    <span class="comment">/**
     *	Sort calendar items.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__calendarSortItems : <span class="reserved">function</span>(a,b)
	{
		<span class="reserved">return</span> a/1 - b/1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLanguageCode()</span>
    <span class="comment">/**
     *	Set language code.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setWeekStartsOnMonday : <span class="reserved">function</span>(weekStartsOnMonday)
	{
		<span class="reserved">this</span>.weekStartsOnMonday = weekStartsOnMonday;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLanguageCode()</span>
    <span class="comment">/**
     *	Set language code.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setLanguageCode : <span class="reserved">function</span>(languageCode)
	{
		<span class="reserved">this</span>.languageModel = new DHTMLSuite.calendarLanguageModel(languageCode);	<span class="comment">// Default english language model</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __isLeapYear()</span>
    <span class="comment">/**
     *	Check for leap years.
     *	
     * <span class="attrib">@private</span>	
     */</span>			
	__isLeapYear : <span class="reserved">function</span>(inputYear)
	{
		<span class="reserved">if</span>(inputYear%400==0||(inputYear%4==0&amp;&amp;inputYear%100!=0)) <span class="reserved">return</span> true;
		<span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getWeekStartsOnMonday()</span>
    <span class="comment">/**
     *	Return true if week starts on monday
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	getWeekStartsOnMonday : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.weekStartsOnMonday;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createDefaultModel()</span>
    <span class="comment">/**
     *	Create default calendar model
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createDefaultModel : <span class="reserved">function</span>(inputArray)
	{
		var d = new Date();
		<span class="reserved">this</span>.initialYear = d.getFullYear();
		<span class="reserved">this</span>.initialMonth = d.getMonth() + 1;
		<span class="reserved">this</span>.initialDay = d.getDate();
		<span class="reserved">this</span>.initialHour = d.getHours();

		<span class="reserved">if</span>(inputArray){	<span class="comment">/* Initial date data sent to the constructor ? */</span>
			<span class="reserved">if</span>(inputArray.initialYear)<span class="reserved">this</span>.initialYear = inputArray.initialYear;
			<span class="reserved">if</span>(inputArray.initialMonth)<span class="reserved">this</span>.initialMonth = inputArray.initialMonth;
			<span class="reserved">if</span>(inputArray.initialDay)<span class="reserved">this</span>.initialDay = inputArray.initialDay;
			<span class="reserved">if</span>(inputArray.initialHour)<span class="reserved">this</span>.initialHour = inputArray.initialHour;
			<span class="reserved">if</span>(inputArray.initialMinute)<span class="reserved">this</span>.initialMinute = inputArray.initialMinute;
			<span class="reserved">if</span>(inputArray.languageCode)<span class="reserved">this</span>.languageCode = inputArray.languageCode;
		}		
		<span class="reserved">this</span>.displayedYear = <span class="reserved">this</span>.initialYear;
		<span class="reserved">this</span>.displayedMonth = <span class="reserved">this</span>.initialMonth;
		<span class="reserved">this</span>.displayedDay = <span class="reserved">this</span>.initialDay;
		<span class="reserved">this</span>.displayedHour = <span class="reserved">this</span>.initialHour;
		<span class="reserved">this</span>.displayedMinute = <span class="reserved">this</span>.initialMinute;
		
		<span class="reserved">this</span>.languageModel = new DHTMLSuite.calendarLanguageModel();	<span class="comment">// Default english language model</span>
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedYear()</span>
    <span class="comment">/**
     *	Return current displayed day
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedDay : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.displayedDay;
	}
	,
	<span class="comment">// {{{ __getDisplayedHourWithLeadingZeros()</span>
    <span class="comment">/**
     *	Return current displayed day
	 *
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedHourWithLeadingZeros : <span class="reserved">function</span>()
	{
		var retVal = <span class="reserved">this</span>.__getDisplayedHour()+<span class="literal">''</span>;
		<span class="reserved">if</span>(retVal.length==1)retVal = <span class="literal">'0'</span> + retVal;
		<span class="reserved">return</span> retVal;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedMinuteWithLeadingZeros()</span>
    <span class="comment">/**
     *	Return current displayed day
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedMinuteWithLeadingZeros : <span class="reserved">function</span>()
	{
		var retVal = <span class="reserved">this</span>.__getDisplayedMinute()+<span class="literal">''</span>;
		<span class="reserved">if</span>(retVal.length==1)retVal = <span class="literal">'0'</span> + retVal;
		<span class="reserved">return</span> retVal;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedDayWithLeadingZeros()</span>
    <span class="comment">/**
     *	Return current displayed day
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedDayWithLeadingZeros : <span class="reserved">function</span>()
	{
		var retVal = <span class="reserved">this</span>.__getDisplayedDay()+<span class="literal">''</span>;
		<span class="reserved">if</span>(retVal.length==1)retVal = <span class="literal">'0'</span> + retVal;
		<span class="reserved">return</span> retVal;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedMonthNumberWithLeadingZeros()</span>
    <span class="comment">/**
     *	Return current displayed day
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedMonthNumberWithLeadingZeros : <span class="reserved">function</span>()
	{
		var retVal = <span class="reserved">this</span>.__getDisplayedMonthNumber()+<span class="literal">''</span>;
		<span class="reserved">if</span>(retVal.length==1)retVal = <span class="literal">'0'</span> + retVal;
		<span class="reserved">return</span> retVal;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __getDisplayedYear()</span>
    <span class="comment">/**
     *	Return current displayed year
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedYear : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.displayedYear;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedHour()</span>
    <span class="comment">/**
     *	Return current displayed hour
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedHour : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayedHour)<span class="reserved">this</span>.displayedHour = 0;
		<span class="reserved">return</span> <span class="reserved">this</span>.displayedHour;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedMinute()</span>
    <span class="comment">/**
     *	Return current displayed minute
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedMinute : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayedMinute)<span class="reserved">this</span>.displayedMinute = 0;
		<span class="reserved">return</span> <span class="reserved">this</span>.displayedMinute;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDisplayedMonthNumber()</span>
    <span class="comment">/**
     *	Return month number (1-12)
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDisplayedMonthNumber : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.displayedMonth;
	}	,
	<span class="comment">// {{{ __getInitialYear()</span>
    <span class="comment">/**
     *	Return current initial day
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getInitialDay : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.initialDay;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __getInitialYear()</span>
    <span class="comment">/**
     *	Return current initial year
	 *
     * <span class="attrib">@private</span>	
     */</span>		
	__getInitialYear : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.initialYear;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getInitialMonthNumber()</span>
    <span class="comment">/**
     *	Return month number (1-12)
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getInitialMonthNumber : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.initialMonth;
	}
	,
	<span class="comment">// {{{ __getMonthNameByMonthNumber()</span>
    <span class="comment">/**
     *	Return month name from month number(1-12)
     *	
     *	<span class="attrib">@param</span> Integer monthNumber - Month from 1 to 12.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getMonthNameByMonthNumber : <span class="reserved">function</span>(monthNumber)
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.languageModel.monthArray[monthNumber-1];	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneYearBack()</span>
    <span class="comment">/**
     *	Set currently displayed year one year back.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneYearBack : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.displayedYear--;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneYearForward()</span>
    <span class="comment">/**
     *	Move the display one year ahead in time.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneYearForward : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.displayedYear++;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __moveOneMonthBack()</span>
    <span class="comment">/**
     *	Set currently displayed month one back.
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__moveOneMonthBack : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.displayedMonth--;
		<span class="reserved">if</span>(<span class="reserved">this</span>.displayedMonth&lt;1){
			<span class="reserved">this</span>.displayedMonth = 12;
			<span class="reserved">this</span>.displayedYear--;
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneMonthForward()</span>
    <span class="comment">/**
     *	Set currently displayed month one month ahead.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneMonthForward : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.displayedMonth++;
		<span class="reserved">if</span>(<span class="reserved">this</span>.displayedMonth&gt;12){
			<span class="reserved">this</span>.displayedMonth=1;
			<span class="reserved">this</span>.displayedYear++;
		}	
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setDisplayedYear()</span>
    <span class="comment">/**
     *	Set new year
     *	
     *	<span class="attrib">@param</span> Integer year (4 digits)
     *
	 *	<span class="attrib">@return</span> Boolean success - return true if year have actually changed, false otherwise
     * <span class="attrib">@private</span>	
     */</span>		
	__setDisplayedYear : <span class="reserved">function</span>(year)
	{
		var success = year!=<span class="reserved">this</span>.displayedYear;
		<span class="reserved">this</span>.displayedYear = year;
		<span class="reserved">return</span> success
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setDisplayedMonth()</span>
    <span class="comment">/**
     *	Set new month
     *	
     *	<span class="attrib">@param</span> Integer month ( 1 - 12)
     *
     *	<span class="attrib">@return</span> Boolean success - return true if month have actually changed, false otherwise
     * <span class="attrib">@private</span>	
     */</span>		
	__setDisplayedMonth : <span class="reserved">function</span>(month)
	{
		var success = month!=<span class="reserved">this</span>.displayedMonth;
		<span class="reserved">this</span>.displayedMonth = month;
		<span class="reserved">return</span> success;
	}
	,
	<span class="comment">// {{{ __setDisplayedDay()</span>
    <span class="comment">/**
     *	Set new displayed day
     *	
     *	<span class="attrib">@param</span> day in month
     *     
     * <span class="attrib">@private</span>	
     */</span>		
	__setDisplayedDay : <span class="reserved">function</span>(day)
	{
		<span class="reserved">this</span>.displayedDay = day;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setDisplayedHour()</span>
    <span class="comment">/**
     *	Set new displayed hour
     *	
     *	<span class="attrib">@param</span> hour (0-23)
     *     
     * <span class="attrib">@private</span>	
     */</span>		
	__setDisplayedHour : <span class="reserved">function</span>(hour)
	{
		<span class="reserved">this</span>.displayedHour = hour/1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setDisplayedMinute()</span>
    <span class="comment">/**
     *	Set new displayed minute
     *	
     *	<span class="attrib">@param</span> minute (0-59)
     *     
     * <span class="attrib">@private</span>	
     */</span>			
	__setDisplayedMinute : <span class="reserved">function</span>(minute)
	{
		<span class="reserved">this</span>.displayedMinute = minute/1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getPreviousYearAndMonthAsArray()</span>
    <span class="comment">/**
     *	Return previous month as an array(year and month)
     *	
     *	<span class="attrib">@return</span> Array year and month(numeric)
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getPreviousYearAndMonthAsArray : <span class="reserved">function</span>()
	{
		var month = <span class="reserved">this</span>.displayedMonth-1;
		var year = <span class="reserved">this</span>.displayedYear;
		<span class="reserved">if</span>(month==0){
			month = 12;
			year = year-1;
		}	
		var retArray = [year,month];
		<span class="reserved">return</span> retArray;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getNumberOfDaysInCurrentDisplayedMonth()</span>
    <span class="comment">/**
     *	Return number of days in currently displayed month.
     *	
     *	<span class="attrib">@param</span> Integer monthNumber - Month from 1 to 12.
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__getNumberOfDaysInCurrentDisplayedMonth : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.__getNumberOfDaysInAMonthByMonthAndYear(<span class="reserved">this</span>.displayedYear,<span class="reserved">this</span>.displayedMonth);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getNumberOfDaysInAMonthByMonthAndYear()</span>
    <span class="comment">/**
     *	Return number of days in given month.
     *	
     *	<span class="attrib">@param</span> Integer year - Year(4 digits) 
     *	<span class="attrib">@param</span> Integer month - Month(1-12)
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getNumberOfDaysInAMonthByMonthAndYear : <span class="reserved">function</span>(year,month)
	{		
		var daysInMonthArray = [31,28,31,30,31,30,31,31,30,31,30,31];
		var daysInMonth = daysInMonthArray[month-1];
		<span class="reserved">if</span>(daysInMonth==28){
			<span class="reserved">if</span>(<span class="reserved">this</span>.__isLeapYear(year))daysInMonth=29;
		}
		<span class="reserved">return</span> daysInMonth/1;				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getStringWeek()</span>
    <span class="comment">/**
     *	Return the string "Week"
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getStringWeek : <span class="reserved">function</span>()
	{	
		<span class="reserved">return</span> <span class="reserved">this</span>.languageModel.weekString;
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDaysMondayToSunday()</span>
    <span class="comment">/**
     *	Return an array of days from monday to sunday
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDaysMondayToSunday : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.languageModel.dayArray;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDaysSundayToSaturday()</span>
    <span class="comment">/**
     *	Return an array of days from sunday to saturday
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDaysSundayToSaturday : <span class="reserved">function</span>()
	{
		var retArray = <span class="reserved">this</span>.languageModel.dayArray.concat();
		var lastDay = new Array(retArray[retArray.length-1]);
		retArray.pop();		
		<span class="reserved">return</span> lastDay.concat(retArray);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getWeekNumberFromDayMonthAndYear()</span>
    <span class="comment">/**
     *	Return week in year from year,month and day
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getWeekNumberFromDayMonthAndYear : <span class="reserved">function</span>(year,month,day)
	{
		day = day/1;
		year = year /1;
	    month = month/1;
	    
		<span class="reserved">if</span>(!<span class="reserved">this</span>.weekStartsOnMonday)<span class="reserved">return</span> <span class="reserved">this</span>.__getWeekNumberFromDayMonthAndYear_S(year,month,day);

	    var a = Math.floor((14-(month))/12);
	    var y = year+4800-a;
	    var m = (month)+(12*a)-3;
	    var jd = day + Math.floor(((153*m)+2)/5) + 
	                 (365*y) + Math.floor(y/4) - Math.floor(y/100) + 
	                 Math.floor(y/400) - 32045;      <span class="comment">// (gregorian calendar)</span>
	    var d4 = (jd+31741-(jd%7))%146097%36524%1461;
	    var L = Math.floor(d4/1460);
	    var d1 = ((d4-L)%365)+L;
	    NumberOfWeek = Math.floor(d1/7) + 1;
	    <span class="reserved">return</span> NumberOfWeek;    		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getWeekNumberFromDayMonthAndYear_S()</span>
    <span class="comment">/**
     *	Return week in year from year,month and day (Week starts on sunday)
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getWeekNumberFromDayMonthAndYear_S : <span class="reserved">function</span>(year,month,day)
	{
		
		month--;
		<span class="comment">/* The code below is from http://www.quirksmode.org/js/week.html */</span>
		now = Date.UTC(year,month,day+1,0,0,0);
		var firstDay = new Date();
		firstDay.setYear(year);
		firstDay.setMonth(0);
		firstDay.setDate(1);
		then = Date.UTC(year,0,1,0,0,0);
		var Compensation = firstDay.getDay();
		<span class="reserved">if</span> (Compensation &gt; 3) Compensation -= 4;
		<span class="reserved">else</span> Compensation += 3;
		NumberOfWeek =  Math.round((((now-then)/86400000)+Compensation)/7);
		<span class="reserved">return</span> NumberOfWeek;
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getDayNumberFirstDayInYear()</span>
    <span class="comment">/**
     *	Day number first day in year(0-6)
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getDayNumberFirstDayInYear : <span class="reserved">function</span>(year)
	{
		var d = new Date();
		d.setFullYear(year);	
		d.setDate(1);	
		d.setMonth(0);
		<span class="reserved">return</span> d.getDay();
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getRemainingDaysInPreviousMonthAsArray()</span>
    <span class="comment">/**
     *	Return number of days remaining in previous month, i.e. in the view before first day of current month starts some day in the week.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getRemainingDaysInPreviousMonthAsArray : <span class="reserved">function</span>()
	{
		<span class="comment">// Figure out when this month starts</span>
		var d = new Date();
		d.setFullYear(<span class="reserved">this</span>.displayedYear);		
		d.setDate(1);		
		d.setMonth(<span class="reserved">this</span>.displayedMonth-1);
			
		var dayStartOfMonth = d.getDay();
		<span class="reserved">if</span>(<span class="reserved">this</span>.weekStartsOnMonday){
			<span class="reserved">if</span>(dayStartOfMonth==0)dayStartOfMonth=7;
			dayStartOfMonth--;
		}
		
		var previousMonthArray = <span class="reserved">this</span>.__getPreviousYearAndMonthAsArray();

		var daysInPreviousMonth = <span class="reserved">this</span>.__getNumberOfDaysInAMonthByMonthAndYear(previousMonthArray[0],previousMonthArray[1]);
		var returnArray = new Array();
		<span class="reserved">for</span>(var no=0;no&lt;dayStartOfMonth;no++){
			returnArray[returnArray.length] = daysInPreviousMonth-dayStartOfMonth+no+1;
		}
		<span class="reserved">return</span> returnArray;
		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getMonthNames()</span>
    <span class="comment">/**
     *	Return an array of month names
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__getMonthNames : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.languageModel.monthArray;			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getTodayAsString()</span>
    <span class="comment">/**
     *	Return the string "Today" in the specified language
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getTodayAsString : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.languageModel.todayString;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getTimeAsString()</span>
    <span class="comment">/**
     *	Return the string "Time" in the specified language
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getTimeAsString : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.languageModel.timeString;
	}
}



<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Calendar widget (&lt;a href="../../demos/demo-calendar-1.html" target="_blank"&gt;demo&lt;/a&gt;).
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* 
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>



DHTMLSuite.calendar = <span class="reserved">function</span>(propertyArray)
{
	var id;								<span class="comment">// Unique identifier - optional</span>
	var divElement;
	var divElContent;	<span class="comment">// Div element for the content inside the calendar</span>
	var divElHeading;
	var divElNavBar;
	var divElMonthView;			<span class="comment">// Div for the main view - weeks, days, months etc.</span>
	var divElMonthNInHead;
	var divElYearInHeading;
	var divElBtnPreviousYear;		<span class="comment">// Button - previous year</span>
	var divElBtnNextYear;			<span class="comment">// Button - next year</span>
	var divElBtnPrvMonth;		<span class="comment">// Button - previous Month</span>
	var divElBtnNextMonth;			<span class="comment">// Button - next Month</span>
	var divElYearDropdown;			<span class="comment">// Dropdown box - years</span>
	var divElYearDropdownParentYears;	<span class="comment">// Inner div inside divElYearDropdown which is parent to all the small year divs.</span>
	var divElHourDropdownParentHours;	<span class="comment">// Inner div inside divElYearDropdown which is parent to all the small year hours.</span>
	var divElHourDropdown;			<span class="comment">// Drop down hours</span>
	var divElMinuteDropdownParent;	<span class="comment">// Inner div inside divElYearDropdown which is parent to all the small year Minutes.</span>
	var divElMinuteDropdown;			<span class="comment">// Drop down Minutes</span>
	var divElTodayInNavBar;	<span class="comment">// Today in navigation bar.</span>
	var divElHrInTimeBar;		<span class="comment">// Div for hour in timer bar</span>
	var divElMinInTimeBar;		<span class="comment">// Div for minute in timer bar</span>
	var divElTimeStringInTimeBar;		<span class="comment">// Div for "Time" string in timer bar</span>
	
	var iframeEl;
	var iframeElDropDowns;	
	var calendarModelReference;			<span class="comment">// Reference to object of class calendarModel</span>
	var objectIndex;
	var targetReference;				<span class="comment">// Where to insert the calendar.</span>
	var layoutCSS;
	var isDragable;						<span class="comment">// Is the calendar dragable - default = false</span>
	var referenceToDragDropObject;		<span class="comment">// Reference to object of class DHTMLSuite.dragDropSimple</span>
	var scrollInYearDropDownActive;		<span class="comment">// true when mouse is over up and down arrows in year dropdown</span>
	var scrollInHourDropDownActive;		<span class="comment">// true when mouse is over up and down arrows in hour dropdown</span>
	var scrollInMinuteDropDownActive;		<span class="comment">// true when mouse is over up and down arrows in minute dropdown</span>
	var yearDropDownOffsetInYear;		<span class="comment">// Offset in year relative to current displayed year.</span>
	var hourDropDownOffsetInHour;		<span class="comment">// Offset in hours relative to current displayed hour.</span>
	var minuteDropDownOffsetInHour;		<span class="comment">// Offset in minute relative to current displayed minute.</span>
	
	var displayCloseButton;					<span class="comment">// Display close button at the top right corner</span>
	var displayNavigationBar;				<span class="comment">// Display the navigation bar ? ( default = true)</span>
	var displayTodaysDateInNavigationBar;	<span class="comment">// Display the string "Today" in the navigation bar(default = true)</span>
	var displayTimeBar;					<span class="comment">// Display timer bar - default = false;</span>
	
	var posRefToHtmlEl;	<span class="comment">// reference to html element to position the calendar at</span>
	var positioningOffsetXInPixels;			<span class="comment">// Offset in positioning when positioning calendar at a element</span>
	var positioningOffsetYInPixels;			<span class="comment">// Offset in positioning when positioning calendar at a element</span>
	var htmlElementReferences;
	var minuteDropDownInterval;				<span class="comment">// Minute drop down interval(interval between each row in the minute drop down list)</span>
	
	var numberOfRowsInMinuteDropDown;		<span class="comment">// Number of rows in minute drop down. (default = 10)</span>
	var numberOfRowsInHourDropDown;			<span class="comment">// Number of rows in hour drop down. (default = 10)</span>
	var numberOfRowsInYearDropDown;			<span class="comment">// Number of rows in year drop down. (default = 10)</span>
	
	<span class="reserved">this</span>.displayTimeBar = false;
	<span class="reserved">this</span>.minuteDropDownInterval = 5;
	<span class="reserved">this</span>.htmlElementReferences = new Object();
	<span class="reserved">this</span>.posRefToHtmlEl = false;
	<span class="reserved">this</span>.displayCloseButton = true;		<span class="comment">// Default value - close button visible at the top right corner.</span>
	<span class="reserved">this</span>.displayNavigationBar = true;
	<span class="reserved">this</span>.displayTodaysDateInNavigationBar = true;
	<span class="reserved">this</span>.yearDropDownOffsetInYear = 0;
	<span class="reserved">this</span>.hourDropDownOffsetInHour = 0;
	<span class="reserved">this</span>.minuteDropDownOffsetInHour = 0;
	<span class="reserved">this</span>.minuteDropDownOffsetInMinute = 0;
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'calendar.css'</span>;
	<span class="reserved">this</span>.isDragable = false;
	<span class="reserved">this</span>.scrollInYearDropDownActive = false;
	<span class="reserved">this</span>.scrollInHourDropDownActive = false;
	<span class="reserved">this</span>.scrollInMinuteDropDownActive = false;
	
	<span class="reserved">this</span>.numberOfRowsInMinuteDropDown = 10;
	<span class="reserved">this</span>.numberOfRowsInHourDropDown = 10;
	<span class="reserved">this</span>.numberOfRowsInYearDropDown = 10;
	
	var callbackFunctionOnDayClick;			<span class="comment">// Name of call back function to call when you click on a day</span>
	var callbackFunctionOnClose;			<span class="comment">// Name of call back function to call when the calendar is closed.</span>
	var callbackFunctionOnMonthChange;		<span class="comment">// Name of call back function to call when the month is changed in the view</span>
	var dateOfToday;

	
	<span class="reserved">this</span>.dateOfToday = new Date();
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
		
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
	
	<span class="reserved">if</span>(propertyArray)<span class="reserved">this</span>.__setInitialData(propertyArray);
	
	
}

DHTMLSuite.calendar.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ callbackFunctionOnDayClick()</span>
    <span class="comment">/**
     *	Specify call back function - click on days in calendar
     *	
     *	<span class="attrib">@param</span> String functionName - Name of function to call when someone clicks on a date in the calendar. Argument to this function will be an array containing year,month,day,hour and minute
     *								 
     * <span class="attrib">@public</span>	
     */</span>		
	setCallbackFunctionOnDayClick : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackFunctionOnDayClick = functionName;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackFunctionOnMonthChange()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> String functionName - Name of function to call when someone clicks on a date in the calendar. Argument to this function will be an array containing year,month,day,hour and minute
     *								 
     * <span class="attrib">@public</span>	
     */</span>		
	setCallbackFunctionOnMonthChange : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.calendarModelReference){
			<span class="reserved">this</span>.calendarModelReference = new DHTMLSuite.calendarModel();
		}
		<span class="reserved">this</span>.callbackFunctionOnMonthChange = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackFunctionOnClose()</span>
    <span class="comment">/**
     *	Specify call back function - calendar close
     *	
     *	<span class="attrib">@param</span> String functionName - Function name to call when the calendar is closed. This function will receive one argument which is an associative array of the properties year,month,day,hour,minute and calendarRef. calendarRef is a reference to the DHTMLSuite.calendar object.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCallbackFunctionOnClose : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackFunctionOnClose = functionName;
	}
	,
	<span class="comment">// {{{ setCalendarModelReference()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> Object calendarModelReference - Reference to an object of class DHTMLSuite.calendarModel
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCalendarModelReference : <span class="reserved">function</span>(calendarModelReference)
	{
		<span class="reserved">this</span>.calendarModelReference = calendarModelReference;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCalendarPositionByHTMLElement()</span>
    <span class="comment">/**
     *	Make the calendar absolute positoned and positioning it next by a HTML element
     *	
     *	<span class="attrib">@param</span> Object refToHtmlEl - Reference to html element
     *	<span class="attrib">@param</span> Integer offsetXInPx - X offset in pixels
     *	<span class="attrib">@param</span> Integer offsetYInPx - Y offset in pixels.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setCalendarPositionByHTMLElement : <span class="reserved">function</span>(refToHtmlEl,offsetXInPx,offsetYInPx)
	{
		refToHtmlEl = DHTMLSuite.commonObj.getEl(refToHtmlEl);		
		<span class="reserved">this</span>.posRefToHtmlEl = refToHtmlEl;
		<span class="reserved">if</span>(!offsetXInPx)offsetXInPx = 0;
		<span class="reserved">if</span>(!offsetYInPx)offsetYInPx = 0;
		<span class="reserved">this</span>.positioningOffsetXInPixels = offsetXInPx;
		<span class="reserved">this</span>.positioningOffsetYInPixels = offsetYInPx;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addHtmlElementReference()</span>
    <span class="comment">/**
     *	Add a reference to form field element - a reference to this object will be sent back in the call back function.
     *	
     *	<span class="attrib">@param</span> String key - Key in the array for this element - To make it easier for you to pick it up later.
     *	<span class="attrib">@param</span> Object referenceToHtmlEl - Reference to html element
     *
     * <span class="attrib">@public</span>	
     */</span>		
	addHtmlElementReference : <span class="reserved">function</span>(key,referenceToHtmlEl)
	{
		referenceToHtmlEl = DHTMLSuite.commonObj.getEl(referenceToHtmlEl);		
		<span class="reserved">if</span>(key){
			<span class="reserved">this</span>.htmlElementReferences[key] = referenceToHtmlEl;
		}
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setDisplayCloseButton()</span>
    <span class="comment">/**
     *	Specify close button visibility
     *	
     *	<span class="attrib">@param</span> Boolean displayCloseButton - Display close button.
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	getHtmlElementReferences : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.htmlElementReferences;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDisplayCloseButton()</span>
    <span class="comment">/**
     *	Specify close button visibility
     *	
     *	<span class="attrib">@param</span> Boolean displayCloseButton - Display close button.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setDisplayCloseButton : <span class="reserved">function</span>(displayCloseButton)
	{
		<span class="reserved">this</span>.displayCloseButton = displayCloseButton;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setTargetReference()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> Object targetReference - Id or direct reference to an element on your web page. The calender will be inserted as child of this element
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setTargetReference : <span class="reserved">function</span>(targetRef)
	{
		targetRef = DHTMLSuite.commonObj.getEl(targetRef);	
		<span class="reserved">this</span>.targetReference = targetRef;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setIsDragable()</span>
    <span class="comment">/**
     *	Automatically set start date from input field
     *	
     *	<span class="attrib">@param</span> Boolean isDragable - Should the calendar be dragable?
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setIsDragable : <span class="reserved">function</span>(isDragable){
		<span class="reserved">this</span>.isDragable = isDragable;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ resetViewDisplayedMonth()</span>
    <span class="comment">/**
     *	Reset current display, i.e. display data for the inital set month.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	resetViewDisplayedMonth : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.divElement)<span class="reserved">return</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.calendarModelReference){
			<span class="reserved">this</span>.calendarModelReference = new DHTMLSuite.calendarModel();
		}
		<span class="reserved">this</span>.calendarModelReference.__setDisplayedDateToInitialData();
		<span class="reserved">this</span>.__populateCalHeading();	<span class="comment">// Populate heading with data</span>
		<span class="reserved">this</span>.__populateMonthView();	<span class="comment">// Populate month view with month data</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Specify new name of css file
     *	
     *	<span class="attrib">@param</span> String nameOfCssFile - Name of css file
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setLayoutCss : <span class="reserved">function</span>(nameOfCssFile)
	{
		<span class="reserved">this</span>.layoutCSS = nameOfCssFile;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __init()</span>
    <span class="comment">/**
     *	Initializes the widget
     *	
     * <span class="attrib">@private</span>	
     */</span>			
	__init : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.divElement){
			DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);	<span class="comment">// Load css</span>
			<span class="reserved">if</span>(!<span class="reserved">this</span>.calendarModelReference){
				<span class="reserved">this</span>.calendarModelReference = new DHTMLSuite.calendarModel();
			}
			<span class="reserved">this</span>.__createMainHtmlEls();	<span class="comment">// Create main html elements for the calendar			</span>
			<span class="reserved">this</span>.__createHeadingElements();	<span class="comment">// Create html elements for the heading</span>
			<span class="reserved">this</span>.__createNavigationBar();	<span class="comment">// Create the navigation bar below the heading.			</span>
			<span class="reserved">this</span>.__populateNavigationBar();	<span class="comment">// Fill navigation bar with todays date.</span>
			<span class="reserved">this</span>.__populateCalHeading();	<span class="comment">// Populate heading with data</span>
			<span class="reserved">this</span>.__createCalMonthView();	<span class="comment">// Create div element for the main view, i.e. days, weeks months, etc.</span>
			<span class="reserved">this</span>.__populateMonthView();	<span class="comment">// Populate month view with month data</span>
			<span class="reserved">this</span>.__createTimeBar();				<span class="comment">// Create div elements for the timer bar.</span>
			<span class="reserved">this</span>.__populateTimeBar();			<span class="comment">// Populate the timer bar</span>
			<span class="reserved">this</span>.__createDropDownYears();
			
			<span class="reserved">this</span>.__populateDropDownYears();
			<span class="reserved">this</span>.__positionDropDownYears();
			<span class="reserved">this</span>.__createDropDownMonth();
			<span class="reserved">this</span>.__populateDropDownMonths();
			<span class="reserved">this</span>.__positionDropDownMonths();			
			<span class="reserved">this</span>.__createDropDownHours();
			<span class="reserved">this</span>.__populateDropDownHours();
			<span class="reserved">this</span>.__positionDropDownHours();			
			<span class="reserved">this</span>.__createDropDownMinutes();
			<span class="reserved">this</span>.__populateDropDownMinutes();
			<span class="reserved">this</span>.__positionDropDownMinutes();			
			<span class="reserved">this</span>.__addEvents();	
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElement.style.display = <span class="literal">'block'</span>;
			<span class="reserved">this</span>.__populateCalHeading();	<span class="comment">// Populate heading with data	</span>
			<span class="reserved">this</span>.__populateMonthView();	<span class="comment">// Populate month view with month data</span>
		}	
		<span class="reserved">this</span>.__resizePrimaryiframeEl();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ display()</span>
    <span class="comment">/**
     *	Displays the calendar
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	display : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.divElement)<span class="reserved">this</span>.__init();
		<span class="reserved">this</span>.__positionCalendar();
		<span class="reserved">this</span>.divElement.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.__resizePrimaryiframeEl();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ hide()</span>
    <span class="comment">/**
     *	Closes the calendar
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	hide : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'calendarClose'</span>)===false)<span class="reserved">return</span> false;
		<span class="reserved">this</span>.divElement.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElYearDropdown.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElMonthDropdown.style.display=<span class="literal">'none'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ isVisible()</span>
    <span class="comment">/**
     *	Is the calendar visible
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	isVisible : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.divElement)<span class="reserved">return</span> false;
		<span class="reserved">return</span> <span class="reserved">this</span>.divElement.style.display==<span class="literal">'block'</span>?true:false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setInitialDateFromInput()</span>
    <span class="comment">/**
     *	Set intial date from form input
     *	
     *
     * <span class="attrib">@private</span>	
     */</span>		
	setInitialDateFromInput : <span class="reserved">function</span>(inputReference,format)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.calendarModelReference){
			<span class="reserved">this</span>.calendarModelReference = new DHTMLSuite.calendarModel();
		}
		<span class="reserved">this</span>.calendarModelReference.setInitialDateFromInput(inputReference,format);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDisplayedYear()</span>
    <span class="comment">/**
     *	Set a new displayed year
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setDisplayedYear : <span class="reserved">function</span>(year)
	{
		var success = <span class="reserved">this</span>.calendarModelReference.__setDisplayedYear(year);	<span class="comment">// Year has actually changed		</span>
		<span class="reserved">this</span>.__populateCalHeading();
		<span class="reserved">this</span>.__populateMonthView();			
		<span class="reserved">if</span>(success)<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'monthChange'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDisplayedMonth()</span>
    <span class="comment">/**
     *	Set a new displayed month
     *
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setDisplayedMonth : <span class="reserved">function</span>(month)
	{
		var success = <span class="reserved">this</span>.calendarModelReference.__setDisplayedMonth(month);	<span class="comment">// Month have actually changed		</span>
		<span class="reserved">this</span>.__populateCalHeading();
		<span class="reserved">this</span>.__populateMonthView();				
		<span class="reserved">if</span>(success)<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'monthChange'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDisplayedHour()</span>
    <span class="comment">/**
     *	Set new displayed hour.
     *
     * <span class="attrib">@private</span>	
     */</span>			
	setDisplayedHour : <span class="reserved">function</span>(hour)
	{
		<span class="reserved">this</span>.calendarModelReference.__setDisplayedHour(hour);	<span class="comment">// Month have actually changed	</span>
		<span class="reserved">this</span>.__populateTimeBar();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDisplayedMinute()</span>
    <span class="comment">/**
     *	Set new displayed minute.
     *
     * <span class="attrib">@private</span>	
     */</span>			
	setDisplayedMinute : <span class="reserved">function</span>(minute)
	{
		<span class="reserved">this</span>.calendarModelReference.__setDisplayedMinute(minute);	<span class="comment">// Month have actually changed	</span>
		<span class="reserved">this</span>.__populateTimeBar();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createDropDownMonth()</span>
    <span class="comment">/**
     *	Create main div elements for the month drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__createDropDownMonth : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElMonthDropdown = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElMonthDropdown.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElMonthDropdown.className = <span class="literal">'DHTMLSuite_calendar_monthDropDown'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divElMonthDropdown);			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateDropDownMonths()</span>
    <span class="comment">/**
     *	Populate month drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateDropDownMonths : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElMonthDropdown.innerHTML = <span class="literal">''</span>;	<span class="comment">// Initially clearing drop down.</span>
		var ind = <span class="reserved">this</span>.objectIndex;	<span class="comment">// Get a reference to this object in the global object array.</span>
		var months = <span class="reserved">this</span>.calendarModelReference.__getMonthNames();	<span class="comment">// Get an array of month name according to current language settings</span>
		<span class="reserved">for</span>(var no=0;no&lt;months.length;no++){	<span class="comment">// Loop through names</span>
			var div = document.createElement(<span class="literal">'DIV'</span>);	<span class="comment">// Create div element</span>
			div.className = <span class="literal">'DHTMLSuite_calendar_dropDownAMonth'</span>;
			<span class="reserved">if</span>((no+1)==<span class="reserved">this</span>.calendarModelReference.__getDisplayedMonthNumber())div.className = <span class="literal">'DHTMLSuite_calendar_yearDropDownCurrentMonth'</span>;	<span class="comment">// Highlight current month.</span>
			div.innerHTML = months[no];	<span class="comment">// Set text of div</span>
			div.id = <span class="literal">'DHTMLSuite_calendarMonthPicker'</span> + (no+1);	<span class="comment">// Set id of div. this is used inside the __setMonthFromDropdown in order to pick up the date.</span>
			div.onmouseover = <span class="reserved">this</span>.__mouseoverMonthInDropDown;
			div.onmouseout = <span class="reserved">this</span>.__mouseoutMonthInDropDown;
			div.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setMonthFromDropdown(e); } 
			<span class="reserved">this</span>.divElMonthDropdown.appendChild(div);	
			DHTMLSuite.commonObj.__addEventEl(div);						
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createDropDownYears()</span>
    <span class="comment">/**
     *	Create drop down box for years
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__createDropDownYears : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElYearDropdown = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElYearDropdown.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElYearDropdown.className = <span class="literal">'DHTMLSuite_calendar_yearDropDown'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divElYearDropdown);
		
	}
	,
	<span class="comment">// {{{ __createDropDownHours()</span>
    <span class="comment">/**
     *	Create drop down box for years
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__createDropDownHours : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElHourDropdown = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElHourDropdown.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElHourDropdown.className = <span class="literal">'DHTMLSuite_calendar_hourDropDown'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divElHourDropdown);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createDropDownMinutes()</span>
    <span class="comment">/**
     *	Create minute drop down box.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__createDropDownMinutes : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElMinuteDropdown = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElMinuteDropdown.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElMinuteDropdown.className = <span class="literal">'DHTMLSuite_calendar_minuteDropDown'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divElMinuteDropdown);		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateDropDownMinutes()</span>
    <span class="comment">/**
     *	Populate - minute dropdown.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateDropDownMinutes : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">this</span>.divElMinuteDropdown.innerHTML = <span class="literal">''</span>;	
		
		<span class="comment">// Previous minute</span>
		var divPrevious = document.createElement(<span class="literal">'DIV'</span>);
		divPrevious.className = <span class="literal">'DHTMLSuite_calendar_dropDown_arrowUp'</span>;
		divPrevious.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoverUpAndDownArrowsInDropDownMinutes(e); } ;
		divPrevious.onmouseout =<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoutUpAndDownArrowsInDropDownMinutes(e); } ;	
		<span class="reserved">this</span>.divElMinuteDropdown.appendChild(divPrevious);	
		DHTMLSuite.commonObj.__addEventEl(divPrevious);			

		<span class="reserved">this</span>.divElMinuteDropdownParent = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElMinuteDropdown.appendChild(<span class="reserved">this</span>.divElMinuteDropdownParent);
		<span class="reserved">this</span>.__populateMinutesInsideDropDownMinutes(<span class="reserved">this</span>.divElMinuteDropdownParent);
		
		<span class="comment">// Next Minute	</span>
		var divNext = document.createElement(<span class="literal">'DIV'</span>);
		divNext.className = <span class="literal">'DHTMLSuite_calendar_dropDown_arrowDown'</span>;
		divNext.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		divNext.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoverUpAndDownArrowsInDropDownMinutes(e); } ;
		divNext.onmouseout =<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoutUpAndDownArrowsInDropDownMinutes(e); } ;
		DHTMLSuite.commonObj.__addEventEl(divNext);
		<span class="reserved">this</span>.divElMinuteDropdown.appendChild(divNext);		
		
		<span class="reserved">if</span>(60 / <span class="reserved">this</span>.minuteDropDownInterval	&lt; <span class="reserved">this</span>.numberOfRowsInMinuteDropDown){
			divPrevious.style.display=<span class="literal">'none'</span>;
			divNext.style.display=<span class="literal">'none'</span>;
		}				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateMinutesInsideDropDownMinutes()</span>
    <span class="comment">/**
     *	Populate - minutes inside minute drop down
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateMinutesInsideDropDownMinutes : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.divElMinuteDropdownParent.innerHTML = <span class="literal">''</span>;	
		
		
		<span class="reserved">if</span>(60 / <span class="reserved">this</span>.minuteDropDownInterval	&lt; <span class="reserved">this</span>.numberOfRowsInMinuteDropDown){
			startMinute=0;
		}<span class="reserved">else</span>{
			var startMinute = Math.max(0,(<span class="reserved">this</span>.calendarModelReference.__getDisplayedMinute()-Math.round(<span class="reserved">this</span>.numberOfRowsInMinuteDropDown/2)));
			startMinute+=(<span class="reserved">this</span>.minuteDropDownOffsetInMinute*<span class="reserved">this</span>.minuteDropDownInterval)
			<span class="reserved">if</span>(startMinute&lt;0){	<span class="comment">/* Start minute negative - adjust it and change offset value */</span>						
				startMinute+=<span class="reserved">this</span>.minuteDropDownInterval;
				<span class="reserved">this</span>.minuteDropDownOffsetInMinute++;
			}
			<span class="reserved">if</span>(startMinute + (<span class="reserved">this</span>.numberOfRowsInMinuteDropDown * <span class="reserved">this</span>.minuteDropDownInterval) &gt;60){	<span class="comment">/* start minute in drop down + number of records shown * interval larger than 60 -&gt; adjust it */</span>		
				startMinute-=<span class="reserved">this</span>.minuteDropDownInterval;
				<span class="reserved">this</span>.minuteDropDownOffsetInMinute--;
			}
		}
		<span class="reserved">for</span>(var no=startMinute;no&lt;Math.min(60,startMinute+<span class="reserved">this</span>.numberOfRowsInMinuteDropDown*(<span class="reserved">this</span>.minuteDropDownInterval));no+=<span class="reserved">this</span>.minuteDropDownInterval){
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="literal">'DHTMLSuite_calendar_dropDownAMinute'</span>;
			<span class="reserved">if</span>(no==<span class="reserved">this</span>.calendarModelReference.__getDisplayedMinute())div.className = <span class="literal">'DHTMLSuite_calendar_minuteDropDownCurrentMinute'</span>;
			var prefix = <span class="literal">""</span>;
			<span class="reserved">if</span>(no&lt;10)prefix = <span class="literal">"0"</span>;
			div.innerHTML = prefix + no;
			
			div.onmouseover = <span class="reserved">this</span>.__mouseoverMinuteInDropDown;
			div.onmouseout = <span class="reserved">this</span>.__mouseoutMinuteInDropDown;
			div.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setMinuteFromDropdown(e); } 
			<span class="reserved">this</span>.divElMinuteDropdownParent.appendChild(div);	
			DHTMLSuite.commonObj.__addEventEl(div);			
		}		
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __populateDropDownHours()</span>
    <span class="comment">/**
     *	Populate - hour dropdown.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateDropDownHours : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">this</span>.divElHourDropdown.innerHTML = <span class="literal">''</span>;	
		
		<span class="comment">// Previous hour</span>
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_calendar_dropDown_arrowUp'</span>;
		div.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoverUpAndDownArrowsInDropDownHours(e); } ;
		div.onmouseout =<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoutUpAndDownArrowsInDropDownHours(e); } ;	
		<span class="reserved">this</span>.divElHourDropdown.appendChild(div);	
		DHTMLSuite.commonObj.__addEventEl(div);			

		<span class="reserved">this</span>.divElHourDropdownParentHours = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElHourDropdown.appendChild(<span class="reserved">this</span>.divElHourDropdownParentHours);
		<span class="reserved">this</span>.__populateHoursInsideDropDownHours(<span class="reserved">this</span>.divElHourDropdownParentHours);
		
		<span class="comment">// Next Hour	</span>
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_calendar_dropDown_arrowDown'</span>;
		div.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		div.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoverUpAndDownArrowsInDropDownHours(e); } ;
		div.onmouseout =<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoutUpAndDownArrowsInDropDownHours(e); } ;
		DHTMLSuite.commonObj.__addEventEl(div);
		<span class="reserved">this</span>.divElHourDropdown.appendChild(div);			
				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateHoursInsideDropDownHours()</span>
    <span class="comment">/**
     *	Populate - hours inside hour drop down
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateHoursInsideDropDownHours : <span class="reserved">function</span>()
	{
		
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.divElHourDropdownParentHours.innerHTML = <span class="literal">''</span>;
		var startHour = Math.max(0,(<span class="reserved">this</span>.calendarModelReference.__getDisplayedHour()-Math.round(<span class="reserved">this</span>.numberOfRowsInHourDropDown/2)));
		startHour = Math.min(14,startHour);
		<span class="reserved">if</span>((startHour + <span class="reserved">this</span>.hourDropDownOffsetInHour + <span class="reserved">this</span>.numberOfRowsInHourDropDown)&gt;24){
			<span class="reserved">this</span>.hourDropDownOffsetInHour = (24-startHour-<span class="reserved">this</span>.numberOfRowsInHourDropDown);			
		}
		<span class="reserved">if</span>((startHour + <span class="reserved">this</span>.hourDropDownOffsetInHour)&lt;0){
			<span class="reserved">this</span>.hourDropDownOffsetInHour = startHour*-1;			
		}
				
		startHour+=<span class="reserved">this</span>.hourDropDownOffsetInHour;
		<span class="reserved">if</span>(startHour&lt;0)startHour = 0;
		<span class="reserved">if</span>(startHour&gt;(24-<span class="reserved">this</span>.numberOfRowsInHourDropDown))startHour = (24-<span class="reserved">this</span>.numberOfRowsInHourDropDown);
		<span class="reserved">for</span>(var no=startHour;no&lt;startHour+<span class="reserved">this</span>.numberOfRowsInHourDropDown;no++){
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="literal">'DHTMLSuite_calendar_dropDownAnHour'</span>;
			<span class="reserved">if</span>(no==<span class="reserved">this</span>.calendarModelReference.__getDisplayedHour())div.className = <span class="literal">'DHTMLSuite_calendar_hourDropDownCurrentHour'</span>;
			var prefix = <span class="literal">""</span>;
			<span class="reserved">if</span>(no&lt;10)prefix = <span class="literal">"0"</span>;
			div.innerHTML = prefix + no;
			
			div.onmouseover = <span class="reserved">this</span>.__mouseoverHourInDropDown;
			div.onmouseout = <span class="reserved">this</span>.__mouseoutHourInDropDown;
			div.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setHourFromDropdown(e); } 
			<span class="reserved">this</span>.divElHourDropdownParentHours.appendChild(div);	
			DHTMLSuite.commonObj.__addEventEl(div);			
		}		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateDropDownYears()</span>
    <span class="comment">/**
     *	Populate - year dropdown.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateDropDownYears : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">this</span>.divElYearDropdown.innerHTML = <span class="literal">''</span>;		
		
		<span class="comment">// Previous year </span>
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_calendar_dropDown_arrowUp'</span>;
		div.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoverUpAndDownArrowsInDropDownYears(e); } ;
		div.onmouseout =<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoutUpAndDownArrowsInDropDownYears(e); } ;	
		<span class="reserved">this</span>.divElYearDropdown.appendChild(div);	
		DHTMLSuite.commonObj.__addEventEl(div);			
		<span class="reserved">this</span>.divElYearDropdownParentYears = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElYearDropdown.appendChild(<span class="reserved">this</span>.divElYearDropdownParentYears);
		<span class="reserved">this</span>.__populateYearsInsideDropDownYears(<span class="reserved">this</span>.divElYearDropdownParentYears);
		
		<span class="comment">// Next year	</span>
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_calendar_dropDown_arrowDown'</span>;
		div.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		div.onmouseover = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoverUpAndDownArrowsInDropDownYears(e); } ;
		div.onmouseout =<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mouseoutUpAndDownArrowsInDropDownYears(e); } ;
		DHTMLSuite.commonObj.__addEventEl(div);
		<span class="reserved">this</span>.divElYearDropdown.appendChild(div);			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateYearsInsideDropDownYears()</span>
    <span class="comment">/**
     *	Populate inner div inside the year drop down with months.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateYearsInsideDropDownYears : <span class="reserved">function</span>(divElementToPopulate)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.divElYearDropdownParentYears.innerHTML = <span class="literal">''</span>;
		var startYear = <span class="reserved">this</span>.calendarModelReference.__getDisplayedYear()-5 + <span class="reserved">this</span>.yearDropDownOffsetInYear;
		<span class="reserved">for</span>(var no=startYear;no&lt;startYear+<span class="reserved">this</span>.numberOfRowsInYearDropDown;no++){
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="literal">'DHTMLSuite_calendar_dropDownAYear'</span>;
			<span class="reserved">if</span>(no==<span class="reserved">this</span>.calendarModelReference.__getDisplayedYear())div.className = <span class="literal">'DHTMLSuite_calendar_yearDropDownCurrentYear'</span>;
			div.innerHTML = no;
			
			div.onmouseover = <span class="reserved">this</span>.__mouseoverYearInDropDown;
			div.onmouseout = <span class="reserved">this</span>.__mouseoutYearInDropDown;
			div.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setYearFromDropdown(e); } 
			<span class="reserved">this</span>.divElYearDropdownParentYears.appendChild(div);	
			DHTMLSuite.commonObj.__addEventEl(div);			
		}			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionDropDownMonths()</span>
    <span class="comment">/**
     *	Position the year dropdown below the year in the heading.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__positionDropDownMonths : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElMonthDropdown.style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElMonthNInHead) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElMonthDropdown.style.top = (DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElMonthNInHead) + <span class="reserved">this</span>.divElMonthNInHead.offsetHeight) + <span class="literal">'px'</span>;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeElDropDowns){
			var st = <span class="reserved">this</span>.iframeElDropDowns.style;
			st.left = <span class="reserved">this</span>.divElMonthDropdown.style.left;
			st.top = <span class="reserved">this</span>.divElMonthDropdown.style.top;
			st.width = (<span class="reserved">this</span>.divElMonthDropdown.clientWidth) + <span class="literal">'px'</span>;
			st.height = <span class="reserved">this</span>.divElMonthDropdown.clientHeight + <span class="literal">'px'</span>;
			st.display = <span class="reserved">this</span>.divElMonthDropdown.style.display;
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionDropDownYears()</span>
    <span class="comment">/**
     *	Position the month dropdown below the month in the heading.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__positionDropDownYears : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElYearDropdown.style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElYearInHeading) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElYearDropdown.style.top = (DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElYearInHeading) + <span class="reserved">this</span>.divElYearInHeading.offsetHeight) + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeElDropDowns){
			var st = <span class="reserved">this</span>.iframeElDropDowns.style;
			st.left = <span class="reserved">this</span>.divElYearDropdown.style.left;
			st.top = <span class="reserved">this</span>.divElYearDropdown.style.top;
			st.width = (<span class="reserved">this</span>.divElYearDropdown.clientWidth) + <span class="literal">'px'</span>;
			st.height = <span class="reserved">this</span>.divElYearDropdown.clientHeight + <span class="literal">'px'</span>;
			st.display = <span class="reserved">this</span>.divElYearDropdown.style.display;
		}		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionDropDownHours()</span>
    <span class="comment">/**
     *	Position the month dropdown below the month in the heading.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__positionDropDownHours : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElHourDropdown.style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElHrInTimeBar) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElHourDropdown.style.top = (DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElHrInTimeBar) + <span class="reserved">this</span>.divElHrInTimeBar.offsetHeight) + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeElDropDowns){
			var st = <span class="reserved">this</span>.iframeElDropDowns.style;
			st.left = <span class="reserved">this</span>.divElHourDropdown.style.left;
			st.top = <span class="reserved">this</span>.divElHourDropdown.style.top;
			st.width = (<span class="reserved">this</span>.divElHourDropdown.clientWidth) + <span class="literal">'px'</span>;
			st.height = <span class="reserved">this</span>.divElHourDropdown.clientHeight + <span class="literal">'px'</span>;
			st.display = <span class="reserved">this</span>.divElHourDropdown.style.display;
		}		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionDropDownMinutes()</span>
    <span class="comment">/**
     *	Position the month dropdown below the month in the heading.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__positionDropDownMinutes : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElMinuteDropdown.style.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElMinInTimeBar) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElMinuteDropdown.style.top = (DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElMinInTimeBar) + <span class="reserved">this</span>.divElMinInTimeBar.offsetHeight) + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeElDropDowns){
			var st = <span class="reserved">this</span>.iframeElDropDowns.style;
			st.left = <span class="reserved">this</span>.divElMinuteDropdown.style.left;
			st.top = <span class="reserved">this</span>.divElMinuteDropdown.style.top;
			st.width = (<span class="reserved">this</span>.divElMinuteDropdown.clientWidth) + <span class="literal">'px'</span>;
			st.height = <span class="reserved">this</span>.divElMinuteDropdown.clientHeight + <span class="literal">'px'</span>;
			st.display = <span class="reserved">this</span>.divElMinuteDropdown.style.display;
		}		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setMonthFromDropdown()</span>
    <span class="comment">/**
     *	Select new month from drop down box. The id is fetched by looking at the id of the element triggering this event, i.e. a month div in the dropdown.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__setMonthFromDropdown : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);		
		<span class="reserved">this</span>.__showHideDropDownBoxMonth();	
		<span class="reserved">this</span>.setDisplayedMonth(src.id.replace(/[^0-9]/gi,<span class="literal">''</span>));
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setYearFromDropdown()</span>
    <span class="comment">/**
     *	Select new year from drop down box. The id is fetched by looking at the innerHTML of the element triggering this event, i.e. a year div in the dropdown.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__setYearFromDropdown : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);		
		<span class="reserved">this</span>.__showHideDropDownBoxYear();	
		<span class="reserved">this</span>.setDisplayedYear(src.innerHTML);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHourFromDropdown()</span>
    <span class="comment">/**
     *	Set displayed hour from drop down box
     *	
     * <span class="attrib">@private</span>	
     */</span>			
	__setHourFromDropdown : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);		
		<span class="reserved">this</span>.__showHideDropDownBoxHour();	
		<span class="reserved">this</span>.setDisplayedHour(src.innerHTML);		
		
	}
	,
	<span class="comment">// {{{ __setMinuteFromDropdown()</span>
    <span class="comment">/**
     *	Set displayed hour from drop down box
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__setMinuteFromDropdown : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);		
		<span class="reserved">this</span>.__showHideDropDownBoxMinute();	
		<span class="reserved">this</span>.setDisplayedMinute(src.innerHTML);		
		
	}
	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __autoHideDropDownBoxes()</span>
    <span class="comment">/**
     *	Automatically hide drop down boxes when users click someplace on the page except in the headings triggering these dropdowns.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__autoHideDropDownBoxes : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		<span class="reserved">if</span>(src.className.indexOf(<span class="literal">'MonthAndYear'</span>)&gt;=0 || src.className.indexOf(<span class="literal">'HourAndMinute'</span>)&gt;=0){	<span class="comment">// class name of element same as element triggering the dropdowns ?</span>
			<span class="reserved">if</span>(DHTMLSuite.commonObj.isObjectClicked(<span class="reserved">this</span>.divElement,e))<span class="reserved">return</span>;	<span class="comment">// if element clicked is a sub element of main calendar div - return</span>
	
		}
		<span class="reserved">this</span>.__showHideDropDownBoxMonth(<span class="literal">'none'</span>);
		<span class="reserved">this</span>.__showHideDropDownBoxYear(<span class="literal">'none'</span>);
		<span class="reserved">this</span>.__showHideDropDownBoxHour(<span class="literal">'none'</span>);
		<span class="reserved">this</span>.__showHideDropDownBoxMinute(<span class="literal">'none'</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showHideDropDownBoxMonth()</span>
    <span class="comment">/**
     *	Show or hide month drop down box
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__showHideDropDownBoxMonth : <span class="reserved">function</span>(forcedDisplayAttribute)
	{
		<span class="reserved">if</span>(!forcedDisplayAttribute){
			<span class="reserved">this</span>.__showHideDropDownBoxYear(<span class="literal">'none'</span>);	<span class="comment">// Hide year drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxHour(<span class="literal">'none'</span>);	<span class="comment">// Hide year drop down.			</span>
		}
		<span class="reserved">if</span>(forcedDisplayAttribute){
			<span class="reserved">this</span>.divElMonthDropdown.style.display = forcedDisplayAttribute;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElMonthDropdown.style.display=(<span class="reserved">this</span>.divElMonthDropdown.style.display==<span class="literal">'block'</span>?<span class="literal">'none'</span>:<span class="literal">'block'</span>);
		}
		<span class="reserved">this</span>.__populateDropDownMonths();
		<span class="reserved">this</span>.__positionDropDownMonths();	

		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showHideDropDownBoxYear()</span>
    <span class="comment">/**
     *	Create main div elements for the calendar
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__showHideDropDownBoxYear : <span class="reserved">function</span>(forcedDisplayAttribute)
	{
		<span class="reserved">if</span>(!forcedDisplayAttribute){
			<span class="reserved">this</span>.__showHideDropDownBoxMonth(<span class="literal">'none'</span>);	<span class="comment">// Hide year drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxHour(<span class="literal">'none'</span>);	<span class="comment">// Hide year drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxMinute(<span class="literal">'none'</span>);	<span class="comment">// Hide year drop down.</span>
		}
		<span class="reserved">if</span>(forcedDisplayAttribute){
			<span class="reserved">this</span>.divElYearDropdown.style.display = forcedDisplayAttribute;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElYearDropdown.style.display=(<span class="reserved">this</span>.divElYearDropdown.style.display==<span class="literal">'block'</span>?<span class="literal">'none'</span>:<span class="literal">'block'</span>);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.divElYearDropdown.style.display==<span class="literal">'none'</span> ){
			<span class="reserved">this</span>.yearDropDownOffsetInYear = 0;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.__populateDropDownYears();
		}
		<span class="reserved">this</span>.__positionDropDownYears();
		
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __showHideDropDownBoxHour()</span>
    <span class="comment">/**
     *	Create main div elements for the calendar
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__showHideDropDownBoxHour : <span class="reserved">function</span>(forcedDisplayAttribute)
	{
		<span class="reserved">if</span>(!forcedDisplayAttribute){
			<span class="reserved">this</span>.__showHideDropDownBoxYear(<span class="literal">'none'</span>);	<span class="comment">// Hide Hour drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxMonth(<span class="literal">'none'</span>);	<span class="comment">// Hide Hour drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxMinute(<span class="literal">'none'</span>);	<span class="comment">// Hide Hour drop down.</span>
			
		}
		<span class="reserved">if</span>(forcedDisplayAttribute){
			<span class="reserved">this</span>.divElHourDropdown.style.display = forcedDisplayAttribute;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElHourDropdown.style.display=(<span class="reserved">this</span>.divElHourDropdown.style.display==<span class="literal">'block'</span>?<span class="literal">'none'</span>:<span class="literal">'block'</span>);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.divElHourDropdown.style.display==<span class="literal">'none'</span> ){
			<span class="reserved">this</span>.hourDropDownOffsetInHour = 0;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.__populateDropDownHours();
		}
		<span class="reserved">this</span>.__positionDropDownHours();
		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __showHideDropDownBoxMinute()</span>
    <span class="comment">/**
     *	Create main div elements for the calendar
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__showHideDropDownBoxMinute : <span class="reserved">function</span>(forcedDisplayAttribute)
	{
		<span class="reserved">if</span>(!forcedDisplayAttribute){
			<span class="reserved">this</span>.__showHideDropDownBoxYear(<span class="literal">'none'</span>);	<span class="comment">// Hide Minute drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxMonth(<span class="literal">'none'</span>);	<span class="comment">// Hide Minute drop down.</span>
			<span class="reserved">this</span>.__showHideDropDownBoxHour(<span class="literal">'none'</span>);	<span class="comment">// Hide Minute drop down.</span>
			
		}
		<span class="reserved">if</span>(forcedDisplayAttribute){
			<span class="reserved">this</span>.divElMinuteDropdown.style.display = forcedDisplayAttribute;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElMinuteDropdown.style.display=(<span class="reserved">this</span>.divElMinuteDropdown.style.display==<span class="literal">'block'</span>?<span class="literal">'none'</span>:<span class="literal">'block'</span>);
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.divElMinuteDropdown.style.display==<span class="literal">'none'</span> ){
			<span class="reserved">this</span>.minuteDropDownOffsetInMinute = 0;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.__populateDropDownMinutes();
		}
		<span class="reserved">this</span>.__positionDropDownMinutes();
		
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __createMainHtmlEls()</span>
    <span class="comment">/**
     *	Create main div elements for the calendar
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createMainHtmlEls : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.className = <span class="literal">'DHTMLSuite_calendar'</span>;
		<span class="reserved">this</span>.divElContent = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.divElContent);
		<span class="reserved">this</span>.divElContent.className = <span class="literal">'DHTMLSuite_calendarContent'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.targetReference)<span class="reserved">this</span>.targetReference.appendChild(<span class="reserved">this</span>.divElement);<span class="reserved">else</span> document.body.appendChild(<span class="reserved">this</span>.divElement);
		<span class="reserved">if</span>(<span class="reserved">this</span>.isDragable){
			try{
				<span class="reserved">this</span>.referenceToDragDropObject = new DHTMLSuite.dragDropSimple({ elementReference: <span class="reserved">this</span>.divElement });	
			}catch(e){
				alert(<span class="literal">'You need to include DHTMLSuite-dragDropSimple.js for the drag feature'</span>);
			}
		}
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; DHTMLSuite.clientInfoObj.navigatorVersion&lt;8){			
			<span class="reserved">this</span>.iframeEl = document.createElement(<span class="literal">'&lt;iframe src="about:blank" frameborder="0"&gt;'</span>);
			<span class="reserved">this</span>.iframeEl.className = <span class="literal">'DHTMLSuite_calendar_iframe'</span>;
			<span class="reserved">this</span>.iframeEl.style.left = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.iframeEl.style.top = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.iframeEl.style.position = <span class="literal">'absolute'</span>;
			<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.iframeEl);
			
			<span class="reserved">this</span>.iframeElDropDowns = document.createElement(<span class="literal">'&lt;iframe src="about:blank" frameborder="0"&gt;'</span>);
			<span class="reserved">this</span>.iframeElDropDowns.className = <span class="literal">'DHTMLSuite_calendar_iframe'</span>;
			<span class="reserved">this</span>.iframeElDropDowns.style.display=<span class="literal">'none'</span>;
			document.body.appendChild(<span class="reserved">this</span>.iframeElDropDowns);			
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createHeadingElements()</span>
    <span class="comment">/**
     *	Create main div elements for the calendar
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createHeadingElements : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElHeading = document.createElement(<span class="literal">'DIV'</span>);	
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.isDragable){	<span class="comment">/* Calendar is dragable */</span>
			<span class="reserved">this</span>.referenceToDragDropObject.addDragHandle(<span class="reserved">this</span>.divElHeading);
			<span class="reserved">this</span>.divElHeading.style.cursor = <span class="literal">'move'</span>;
		}		
		
		<span class="reserved">this</span>.divElHeading.className=<span class="literal">'DHTMLSuite_calendarHeading'</span>;
		<span class="reserved">this</span>.divElContent.appendChild(<span class="reserved">this</span>.divElHeading);
		<span class="reserved">this</span>.divElHeading.style.position = <span class="literal">'relative'</span>;
		
		<span class="reserved">this</span>.divElClose = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElClose.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElClose.className = <span class="literal">'DHTMLSuite_calendarCloseButton'</span>;
		<span class="reserved">this</span>.divElHeading.appendChild(<span class="reserved">this</span>.divElClose);
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayCloseButton)<span class="reserved">this</span>.divElClose.style.display=<span class="literal">'none'</span>;
		
		<span class="reserved">this</span>.divElHeadingTxt = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElHeadingTxt.className = <span class="literal">'DHTMLSuite_calendarHeadingTxt'</span>;
		
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			var table = document.createElement(<span class="literal">'&lt;TABLE cellpadding="0" cellspacing="0" border="0"&gt;'</span>);
		}<span class="reserved">else</span>{
			var table = document.createElement(<span class="literal">'TABLE'</span>);
			table.setAttribute(<span class="literal">'cellpadding'</span>,0);
			table.setAttribute(<span class="literal">'cellspacing'</span>,0);
			table.setAttribute(<span class="literal">'border'</span>,0);
		}
		table.style.margin = <span class="literal">'0 auto'</span>;
		var tbody = document.createElement(<span class="literal">'TBODY'</span>);
		table.appendChild(tbody);
		<span class="reserved">this</span>.divElHeadingTxt.appendChild(table);
		
		var row = tbody.insertRow(0);
		
		var cell = row.insertCell(-1);		
		<span class="reserved">this</span>.divElMonthNInHead = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElMonthNInHead.className = <span class="literal">'DHTMLSuite_calendarHeaderMonthAndYear'</span>;
		
		cell.appendChild(<span class="reserved">this</span>.divElMonthNInHead);		
		
		var cell = row.insertCell(-1);	
		var span = document.createElement(<span class="literal">'SPAN'</span>);
		span.innerHTML = <span class="literal">', '</span>;
		cell.appendChild(span);
		
		var cell = row.insertCell(-1);	
		<span class="reserved">this</span>.divElYearInHeading = document.createElement(<span class="literal">'DIV'</span>);
		
		<span class="reserved">this</span>.divElYearInHeading.className = <span class="literal">'DHTMLSuite_calendarHeaderMonthAndYear'</span>;
		cell.appendChild(<span class="reserved">this</span>.divElYearInHeading);
		
		<span class="reserved">this</span>.divElHeading.appendChild(<span class="reserved">this</span>.divElHeadingTxt);

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createNavigationBar()</span>
    <span class="comment">/**
     *	Create navigation bar elements below the heading.
     * <span class="attrib">@private</span>	
     */</span>		
	__createNavigationBar : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElNavBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElNavBar.className=<span class="literal">'DHTMLSuite_calendar_navigationBar'</span>;
		<span class="reserved">this</span>.divElContent.appendChild(<span class="reserved">this</span>.divElNavBar);	
		
		<span class="reserved">this</span>.divElBtnPreviousYear = document.createElement(<span class="literal">'DIV'</span>);	
		<span class="reserved">this</span>.divElBtnPreviousYear.className=<span class="literal">'DHTMLSuite_calendar_btnPreviousYear'</span>;
		<span class="reserved">this</span>.divElBtnPreviousYear.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElNavBar.appendChild(<span class="reserved">this</span>.divElBtnPreviousYear);
		
		
		<span class="reserved">this</span>.divElBtnNextYear = document.createElement(<span class="literal">'DIV'</span>);	
		<span class="reserved">this</span>.divElBtnNextYear.className=<span class="literal">'DHTMLSuite_calendar_btnNextYear'</span>;
		<span class="reserved">this</span>.divElBtnNextYear.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElNavBar.appendChild(<span class="reserved">this</span>.divElBtnNextYear);
		
		
		<span class="reserved">this</span>.divElBtnPrvMonth = document.createElement(<span class="literal">'DIV'</span>);	
		<span class="reserved">this</span>.divElBtnPrvMonth.className=<span class="literal">'DHTMLSuite_calendar_btnPreviousMonth'</span>;
		<span class="reserved">this</span>.divElBtnPrvMonth.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElNavBar.appendChild(<span class="reserved">this</span>.divElBtnPrvMonth);
		
		
		<span class="reserved">this</span>.divElBtnNextMonth = document.createElement(<span class="literal">'DIV'</span>);	
		<span class="reserved">this</span>.divElBtnNextMonth.className=<span class="literal">'DHTMLSuite_calendar_btnNextMonth'</span>;
		<span class="reserved">this</span>.divElBtnNextMonth.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divElNavBar.appendChild(<span class="reserved">this</span>.divElBtnNextMonth);
		
		<span class="reserved">this</span>.divElTodayInNavBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElTodayInNavBar.className=<span class="literal">'DHTMLSuite_calendar_navigationBarToday'</span>;
		<span class="reserved">this</span>.divElNavBar.appendChild(<span class="reserved">this</span>.divElTodayInNavBar);
		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayNavigationBar)<span class="reserved">this</span>.divElNavBar.style.display=<span class="literal">'none'</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayTodaysDateInNavigationBar)<span class="reserved">this</span>.divElTodayInNavBar.style.display=<span class="literal">'none'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateNavigationBar()</span>
    <span class="comment">/**
     *	Populate navigation bar, i.e. display the "Today" string and add an onclick event on this span tag. this onclick events makes the calendar display current month.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateNavigationBar : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.divElTodayInNavBar.innerHTML = <span class="literal">''</span>;
		var span = document.createElement(<span class="literal">'SPAN'</span>);
		span.innerHTML = <span class="reserved">this</span>.calendarModelReference.__getTodayAsString();
		span.onclick = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__displayMonthOfToday(); } 
		<span class="reserved">this</span>.divElTodayInNavBar.appendChild(span);
		DHTMLSuite.commonObj.__addEventEl(span);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createCalMonthView()</span>
    <span class="comment">/**
     *	Create div element for the month view
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__createCalMonthView : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElMonthView = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElMonthView.className = <span class="literal">'DHTMLSuite_calendar_monthView'</span>;
		<span class="reserved">this</span>.divElContent.appendChild(<span class="reserved">this</span>.divElMonthView);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateMonthView()</span>
    <span class="comment">/**
     *	Populate month view with month data, i.e. heading weeks, days, months.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__populateMonthView : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;

		<span class="reserved">this</span>.divElMonthView.innerHTML = <span class="literal">''</span>;
		var modelRef = <span class="reserved">this</span>.calendarModelReference;
			
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			var table = document.createElement(<span class="literal">'&lt;TABLE cellpadding="1" cellspacing="0" border="0" width="100%"&gt;'</span>);
		}<span class="reserved">else</span>{
			var table = document.createElement(<span class="literal">'TABLE'</span>);
			table.setAttribute(<span class="literal">'cellpadding'</span>,1);
			table.setAttribute(<span class="literal">'cellspacing'</span>,0);
			table.setAttribute(<span class="literal">'border'</span>,0);
			table.width = <span class="literal">'100%'</span>;
		}
		
		var tbody = document.createElement(<span class="literal">'TBODY'</span>);
		table.appendChild(tbody);
		<span class="reserved">this</span>.divElMonthView.appendChild(table);
		
		var row = tbody.insertRow(-1);	<span class="comment">// Insert a new row at the end of the table</span>
		row.className = <span class="literal">'DHTMLSuite_calendar_monthView_headerRow'</span>;
		
		var cell = row.insertCell(-1);
		cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_firstColumn'</span>;
		cell.innerHTML = modelRef.__getStringWeek();
		
		<span class="reserved">if</span>(modelRef.getWeekStartsOnMonday()){
			var days = modelRef.__getDaysMondayToSunday();
		}<span class="reserved">else</span>{
			var days = modelRef.__getDaysSundayToSaturday();
		}
		
		<span class="comment">/* Outputs days in the week */</span>
		<span class="reserved">for</span>(var no=0;no&lt;days.length;no++){
			var cell = row.insertCell(-1);
			cell.innerHTML = days[no];
			cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_headerCell'</span>;
			<span class="reserved">if</span>(modelRef.getWeekStartsOnMonday() &amp;&amp; no==6){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_headerSunday'</span>;
			}
			<span class="reserved">if</span>(!modelRef.getWeekStartsOnMonday() &amp;&amp; no==0){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_headerSunday'</span>;
			}			
		}		
		
		<span class="comment">// First row of days</span>
		var row = tbody.insertRow(-1);
		var cell = row.insertCell(-1);
		cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_firstColumn'</span>;
		var week = modelRef.__getWeekNumberFromDayMonthAndYear(modelRef.__getDisplayedYear(),modelRef.__getDisplayedMonthNumber(),1);
		
		cell.innerHTML = week&gt;0?week:53;
		
		var daysRemainingInPreviousMonth = modelRef.__getRemainingDaysInPreviousMonthAsArray();
		<span class="reserved">for</span>(var no=0;no&lt;daysRemainingInPreviousMonth.length;no++){
			var cell = row.insertCell(-1);
			cell.innerHTML = daysRemainingInPreviousMonth[no];	
			cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_daysInOtherMonths'</span>;		
		}
		
		var daysInCurrentMonth = modelRef.__getNumberOfDaysInCurrentDisplayedMonth();
		var cellCounter = daysRemainingInPreviousMonth.length+1;
		<span class="comment">/* Loop through days in this month */</span>
		<span class="reserved">for</span>(var no=1;no&lt;=daysInCurrentMonth;no++){			
			var cell = row.insertCell(-1);
			cell.innerHTML = no;
			cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_daysInThisMonth'</span>;

			DHTMLSuite.commonObj.__addEventEl(cell);	
			<span class="reserved">if</span>(cellCounter%7==0 &amp;&amp; modelRef.getWeekStartsOnMonday()){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_sundayInThisMonth'</span>;
			}
			<span class="reserved">if</span>(cellCounter%7==1 &amp;&amp; !modelRef.getWeekStartsOnMonday()){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_sundayInThisMonth'</span>;
			}
			<span class="comment">// Day displayed the same as inital date ?</span>
			<span class="reserved">if</span>(no==modelRef.__getInitialDay() &amp;&amp; modelRef.__getDisplayedYear() == modelRef.__getInitialYear() &amp;&amp; modelRef.__getDisplayedMonthNumber()==modelRef.__getInitialMonthNumber()){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_initialDate'</span>;	
			}
			<span class="reserved">if</span>(!modelRef.isDateWithinValidRange({year:modelRef.__getDisplayedYear(),month:modelRef.__getDisplayedMonthNumber(),day:no})){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_invalidDate'</span>;	
			}<span class="reserved">else</span>{
				cell.onmousedown = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__mousedownOnDayInCalendar(e); } 
				cell.onmouseover = <span class="reserved">this</span>.__mouseoverCalendarDay;
				cell.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarDay;
				DHTMLSuite.commonObj.__addEventEl(cell);				
				
			}
			<span class="comment">// Day displayed the same as date of today ?</span>
			<span class="reserved">if</span>(no==<span class="reserved">this</span>.dateOfToday.getDate() &amp;&amp; modelRef.__getDisplayedYear() == <span class="reserved">this</span>.dateOfToday.getFullYear() &amp;&amp; modelRef.__getDisplayedMonthNumber()==(<span class="reserved">this</span>.dateOfToday.getMonth()+1)){
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_currentDate'</span>;	
			}			
			<span class="reserved">if</span>(cellCounter%7==0 &amp;&amp; no&lt;daysInCurrentMonth){
				var row = tbody.insertRow(-1);	
				var cell = row.insertCell(-1)
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_firstColumn'</span>;
				week++
				cell.innerHTML = week;				
			}
			cellCounter++;
		}
		
		<span class="comment">// Adding the first days of the next month to the view		</span>
		<span class="reserved">if</span>((cellCounter-1)%7&gt;0){
			var dayCounter = 1;
			<span class="reserved">for</span>(var no=(cellCounter-1)%7;no&lt;7;no++){
				var cell = row.insertCell(-1);
				cell.innerHTML = dayCounter;
				cell.className = <span class="literal">'DHTMLSuite_calendar_monthView_daysInOtherMonths'</span>;	
				dayCounter++;
			}
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createTimeBar()</span>
    <span class="comment">/**
     *	Create bar where users can select hours and minutes.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__createTimeBar : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElTimeBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElTimeBar.className = <span class="literal">'DHTMLSuite_calendar_timeBar'</span>;
		<span class="reserved">this</span>.divElContent.appendChild(<span class="reserved">this</span>.divElTimeBar);	
		
		
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			var table = document.createElement(<span class="literal">'&lt;TABLE cellpadding="0" cellspacing="0" border="0"&gt;'</span>);
		}<span class="reserved">else</span>{
			var table = document.createElement(<span class="literal">'TABLE'</span>);
			table.setAttribute(<span class="literal">'cellpadding'</span>,0);
			table.setAttribute(<span class="literal">'cellspacing'</span>,0);
			table.setAttribute(<span class="literal">'border'</span>,0);
		}
		table.style.margin = <span class="literal">'0 auto'</span>;
		<span class="reserved">this</span>.divElTimeBar.appendChild(table);
		
		var row = table.insertRow(0);
		
		var cell = row.insertCell(-1);		
		<span class="reserved">this</span>.divElHrInTimeBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElHrInTimeBar.className = <span class="literal">'DHTMLSuite_calendar_timeBarHourAndMinute'</span>;		
		cell.appendChild(<span class="reserved">this</span>.divElHrInTimeBar);		

		var cell = row.insertCell(-1);	
		var span = document.createElement(<span class="literal">'SPAN'</span>);
		span.innerHTML = <span class="literal">' : '</span>;
		cell.appendChild(span);
				
		var cell = row.insertCell(-1);	
		<span class="reserved">this</span>.divElMinInTimeBar = document.createElement(<span class="literal">'DIV'</span>);		
		<span class="reserved">this</span>.divElMinInTimeBar.className = <span class="literal">'DHTMLSuite_calendar_timeBarHourAndMinute'</span>;
		cell.appendChild(<span class="reserved">this</span>.divElMinInTimeBar);
		
		<span class="reserved">this</span>.divElTimeStringInTimeBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElTimeStringInTimeBar.className = <span class="literal">'DHTMLSuite_calendarTimeBarTimeString'</span>; 
		<span class="reserved">this</span>.divElTimeBar.appendChild(<span class="reserved">this</span>.divElTimeStringInTimeBar);
		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayTimeBar)<span class="reserved">this</span>.divElTimeBar.style.display=<span class="literal">'none'</span>;
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateTimeBar()</span>
    <span class="comment">/**
     *	Populate time time bar with hour and minutes.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateTimeBar : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElHrInTimeBar.innerHTML = <span class="reserved">this</span>.calendarModelReference.__getDisplayedHourWithLeadingZeros();
		<span class="reserved">this</span>.divElMinInTimeBar.innerHTML = <span class="reserved">this</span>.calendarModelReference.__getDisplayedMinuteWithLeadingZeros();	
		<span class="reserved">this</span>.divElTimeStringInTimeBar.innerHTML = <span class="reserved">this</span>.calendarModelReference.__getTimeAsString() + <span class="literal">':'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateCalHeading()</span>
    <span class="comment">/**
     *	Populate heading of calendar
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__populateCalHeading : <span class="reserved">function</span>()
	{		
		
		<span class="reserved">this</span>.divElMonthNInHead.innerHTML = <span class="reserved">this</span>.calendarModelReference.__getMonthNameByMonthNumber(<span class="reserved">this</span>.calendarModelReference.__getDisplayedMonthNumber());
		<span class="reserved">this</span>.divElYearInHeading.innerHTML = <span class="reserved">this</span>.calendarModelReference.__getDisplayedYear();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mousedownOnDayInCalendar()</span>
    <span class="comment">/**
     *	Mouse down day inside the calendar view. Set current displayed date to the clicked date and check for call back functions.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mousedownOnDayInCalendar : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		<span class="reserved">this</span>.calendarModelReference.__setDisplayedDay(src.innerHTML);
		<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'dayClick'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCalendarCallBack()</span>
    <span class="comment">/**
     *	This method handles all call backs from the calendar
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__handleCalendarCallBack : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">'dayClick'</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackFunctionOnDayClick)callbackString = <span class="reserved">this</span>.callbackFunctionOnDayClick;
				break;	
			case <span class="literal">"monthChange"</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackFunctionOnMonthChange)callbackString = <span class="reserved">this</span>.callbackFunctionOnMonthChange;
				break;	
			case <span class="literal">"calendarClose"</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackFunctionOnClose)callbackString = <span class="reserved">this</span>.callbackFunctionOnClose;
				break;
						
		}	
		
		<span class="reserved">if</span>(callbackString){
			callbackString = callbackString + 
				<span class="literal">'({'</span>
				+ <span class="literal">' year:'</span> + <span class="reserved">this</span>.calendarModelReference.__getDisplayedYear() 
				+ <span class="literal">',month:"'</span> + <span class="reserved">this</span>.calendarModelReference.__getDisplayedMonthNumberWithLeadingZeros() + <span class="literal">'"'</span>
				+ <span class="literal">',day:"'</span> + <span class="reserved">this</span>.calendarModelReference.__getDisplayedDayWithLeadingZeros() + <span class="literal">'"'</span>
				+ <span class="literal">',hour:"'</span> + <span class="reserved">this</span>.calendarModelReference.__getDisplayedHourWithLeadingZeros() + <span class="literal">'"'</span>
				+ <span class="literal">',minute:"'</span> + <span class="reserved">this</span>.calendarModelReference.__getDisplayedMinuteWithLeadingZeros() + <span class="literal">'"'</span>
				+ <span class="literal">',calendarRef:this'</span>
				
			callbackString = callbackString + <span class="literal">'})'</span>;
		}
		
		<span class="reserved">if</span>(callbackString)<span class="reserved">return</span> <span class="reserved">this</span>.__evaluateCallBackString(callbackString);	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __evaluateCallBackString()</span>
    <span class="comment">/**
     *	Evaluate call back string.
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__evaluateCallBackString : <span class="reserved">function</span>(callbackString)
	{
		try{
			<span class="reserved">return</span> eval(callbackString);
		}catch(e){
			alert(<span class="literal">'Could not excute call back function '</span> + callbackString + <span class="literal">'\n'</span> + e.message);
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __displayMonthOfToday()</span>
    <span class="comment">/**
     *	Show calendar data for present day
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__displayMonthOfToday : <span class="reserved">function</span>()
	{
		var d = new Date();
		var month = d.getMonth()+1;
		var year = d.getFullYear();
		<span class="reserved">this</span>.setDisplayedYear(year);
		<span class="reserved">this</span>.setDisplayedMonth(month);			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneYearBack()</span>
    <span class="comment">/**
     *	Show calendar data for the same month in previous year
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneYearBack : <span class="reserved">function</span>()
	{		
		<span class="reserved">this</span>.calendarModelReference.__moveOneYearBack();
		<span class="reserved">this</span>.__populateCalHeading();
		<span class="reserved">this</span>.__populateMonthView();
		<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'monthChange'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneYearForward()</span>
    <span class="comment">/**
     *	Show calendar data for the same month in next year
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneYearForward : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.calendarModelReference.__moveOneYearForward();
		<span class="reserved">this</span>.__populateCalHeading();
		<span class="reserved">this</span>.__populateMonthView();
		<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'monthChange'</span>);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneMonthBack()</span>
    <span class="comment">/**
     *	Show calendar data for previous month
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneMonthBack : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.calendarModelReference.__moveOneMonthBack();
		<span class="reserved">this</span>.__populateCalHeading();
		<span class="reserved">this</span>.__populateMonthView();
		<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'monthChange'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOneMonthForward()</span>
    <span class="comment">/**
     *	Move one month forward
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__moveOneMonthForward : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.calendarModelReference.__moveOneMonthForward();
		<span class="reserved">this</span>.__populateCalHeading();
		<span class="reserved">this</span>.__populateMonthView();
		<span class="reserved">this</span>.__handleCalendarCallBack(<span class="literal">'monthChange'</span>);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addEvents()</span>
    <span class="comment">/**
     *	Add events to calendar elements.
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__addEvents : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.divElClose.onmouseover = <span class="reserved">this</span>.__mouseoverCalendarButton;
		<span class="reserved">this</span>.divElClose.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarButton;
		<span class="reserved">this</span>.divElClose.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].hide(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElClose);	
		
		<span class="comment">// Button - previous year</span>
		<span class="reserved">this</span>.divElBtnPreviousYear.onmouseover = <span class="reserved">this</span>.__mouseoverCalendarButton;
		<span class="reserved">this</span>.divElBtnPreviousYear.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarButton;
		<span class="reserved">this</span>.divElBtnPreviousYear.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOneYearBack(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElBtnPreviousYear);	
		
		<span class="comment">// Button - next year</span>
		<span class="reserved">this</span>.divElBtnNextYear.onmouseover = <span class="reserved">this</span>.__mouseoverCalendarButton;
		<span class="reserved">this</span>.divElBtnNextYear.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarButton;
		<span class="reserved">this</span>.divElBtnNextYear.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOneYearForward(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElBtnNextYear);	
		
		<span class="comment">// Button previous month</span>
		<span class="reserved">this</span>.divElBtnPrvMonth.onmouseover = <span class="reserved">this</span>.__mouseoverCalendarButton;
		<span class="reserved">this</span>.divElBtnPrvMonth.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarButton;
		<span class="reserved">this</span>.divElBtnPrvMonth.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOneMonthBack(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElBtnPrvMonth);	
		
		<span class="comment">// Button next month</span>
		<span class="reserved">this</span>.divElBtnNextMonth.onmouseover = <span class="reserved">this</span>.__mouseoverCalendarButton;
		<span class="reserved">this</span>.divElBtnNextMonth.onmouseout = <span class="reserved">this</span>.__mouseoutCalendarButton;
		<span class="reserved">this</span>.divElBtnNextMonth.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOneMonthForward(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElBtnNextMonth);			
		
		<span class="comment">// Year in the heading</span>
		<span class="reserved">this</span>.divElYearInHeading.onmouseover = <span class="reserved">this</span>.__mouseoverMonthAndYear;
		<span class="reserved">this</span>.divElYearInHeading.onmouseout = <span class="reserved">this</span>.__mouseoutMonthAndYear;
		<span class="reserved">this</span>.divElYearInHeading.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__showHideDropDownBoxYear(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElYearInHeading);	

		<span class="comment">// Month in the heading	</span>
		<span class="reserved">this</span>.divElMonthNInHead.onmouseover = <span class="reserved">this</span>.__mouseoverMonthAndYear;
		<span class="reserved">this</span>.divElMonthNInHead.onmouseout = <span class="reserved">this</span>.__mouseoutMonthAndYear;
		<span class="reserved">this</span>.divElMonthNInHead.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__showHideDropDownBoxMonth(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElMonthNInHead);		
		
		<span class="comment">// Hour in timer bar</span>
		<span class="reserved">this</span>.divElHrInTimeBar.onmouseover = <span class="reserved">this</span>.__mouseoverHourAndMinute;
		<span class="reserved">this</span>.divElHrInTimeBar.onmouseout = <span class="reserved">this</span>.__mouseoutHourAndMinute;
		<span class="reserved">this</span>.divElHrInTimeBar.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__showHideDropDownBoxHour(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElHrInTimeBar);	

		<span class="comment">// Minute in timer bar	</span>
		<span class="reserved">this</span>.divElMinInTimeBar.onmouseover = <span class="reserved">this</span>.__mouseoverHourAndMinute;
		<span class="reserved">this</span>.divElMinInTimeBar.onmouseout = <span class="reserved">this</span>.__mouseoutHourAndMinute;
		<span class="reserved">this</span>.divElMinInTimeBar.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__showHideDropDownBoxMinute(); }
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElMinInTimeBar);	
		
		<span class="comment">// Disable text selection in the heading</span>
		<span class="reserved">this</span>.divElHeading.onselectstart = <span class="reserved">function</span>(){ <span class="reserved">return</span> false; };
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElHeading);
		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'click'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__autoHideDropDownBoxes(e); },ind+<span class="literal">''</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __resizePrimaryiframeEl()</span>
    <span class="comment">/**
     *	Resize primary iframe element.
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__resizePrimaryiframeEl : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.iframeEl)<span class="reserved">return</span>;
		<span class="reserved">this</span>.iframeEl.style.width = <span class="reserved">this</span>.divElement.clientWidth + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.iframeEl.style.height = <span class="reserved">this</span>.divElement.clientHeight + <span class="literal">'px'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __scrollInYearDropDown()</span>
    <span class="comment">/**
     *	Scroll the year drop down as long as the scrollInYearDropDownActive is true
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__scrollInYearDropDown : <span class="reserved">function</span>(scrollDirection)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.scrollInYearDropDownActive)<span class="reserved">return</span>;
		var ind = <span class="reserved">this</span>.objectIndex;	
		<span class="reserved">this</span>.yearDropDownOffsetInYear+=scrollDirection;
		<span class="reserved">this</span>.__populateYearsInsideDropDownYears();
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__scrollInYearDropDown('</span> + scrollDirection + <span class="literal">')'</span>,150);
	}
	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverUpAndDownArrowsInDropDownYears()</span>
    <span class="comment">/**
     *	Mouse over year drop down arrow
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverUpAndDownArrowsInDropDownYears : <span class="reserved">function</span>(e)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var scrollDirection = (src.className.toLowerCase().indexOf(<span class="literal">'up'</span>)&gt;=0?-1:1);
		src.className = src.className + <span class="literal">' DHTMLSuite_calendarDropDown_dropDownArrowOver'</span>;	
		<span class="reserved">this</span>.scrollInYearDropDownActive = true;	
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__scrollInYearDropDown('</span> + scrollDirection + <span class="literal">')'</span>,100);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutUpAndDownArrowsInDropDownYears()</span>
    <span class="comment">/**
     *	Mouse away from year drop down arrow
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutUpAndDownArrowsInDropDownYears : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		src.className = src.className.replace(<span class="literal">' DHTMLSuite_calendarDropDown_dropDownArrowOver'</span>,<span class="literal">''</span>);	
		<span class="reserved">this</span>.scrollInYearDropDownActive = false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __scrollInYearDropDown()</span>
    <span class="comment">/**
     *	Scroll the year drop down as long as the scrollInYearDropDownActive is true
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__scrollInHourDropDown : <span class="reserved">function</span>(scrollDirection)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.scrollInHourDropDownActive)<span class="reserved">return</span>;
		var ind = <span class="reserved">this</span>.objectIndex;	
		<span class="reserved">this</span>.hourDropDownOffsetInHour+=scrollDirection;
		<span class="reserved">this</span>.__populateHoursInsideDropDownHours();
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__scrollInHourDropDown('</span> + scrollDirection + <span class="literal">')'</span>,150);
	}
	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __mouseoverUpAndDownArrowsInDropDownHours()</span>
    <span class="comment">/**
     *	Mouse over arrows inside drop down (hour)
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverUpAndDownArrowsInDropDownHours : <span class="reserved">function</span>(e)
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var scrollDirection = (src.className.toLowerCase().indexOf(<span class="literal">'up'</span>)&gt;=0?-1:1);
		src.className = src.className + <span class="literal">' DHTMLSuite_calendarDropDown_dropDownArrowOver'</span>;	
		<span class="reserved">this</span>.scrollInHourDropDownActive = true;	
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__scrollInHourDropDown('</span> + scrollDirection + <span class="literal">')'</span>,100);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutUpAndDownArrowsInDropDownHours()</span>
    <span class="comment">/**
     *	Mouse out from arrow inside hour drop down.
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutUpAndDownArrowsInDropDownHours : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		src.className = src.className.replace(<span class="literal">' DHTMLSuite_calendarDropDown_dropDownArrowOver'</span>,<span class="literal">''</span>);	
		<span class="reserved">this</span>.scrollInHourDropDownActive = false;		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __scrollInYearDropDown()</span>
    <span class="comment">/**
     *	Scroll the year drop down as long as the scrollInYearDropDownActive is true
     *	
     *
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__scrollInMinuteDropDown : <span class="reserved">function</span>(scrollDirection)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.scrollInMinuteDropDownActive)<span class="reserved">return</span>;
		var ind = <span class="reserved">this</span>.objectIndex;	
		<span class="reserved">this</span>.minuteDropDownOffsetInMinute+=scrollDirection;
		<span class="reserved">this</span>.__populateMinutesInsideDropDownMinutes();
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__scrollInMinuteDropDown('</span> + scrollDirection + <span class="literal">')'</span>,150);
	}
	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __mouseoverUpAndDownArrowsInDropDownMinutes()</span>
    <span class="comment">/**
     *	Mouse over arrows inside drop down (minute)
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverUpAndDownArrowsInDropDownMinutes : <span class="reserved">function</span>(e)
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var scrollDirection = (src.className.toLowerCase().indexOf(<span class="literal">'up'</span>)&gt;=0?-1:1);
		src.className = src.className + <span class="literal">' DHTMLSuite_calendarDropDown_dropDownArrowOver'</span>;	
		<span class="reserved">this</span>.scrollInMinuteDropDownActive = true;	
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__scrollInMinuteDropDown('</span> + scrollDirection + <span class="literal">')'</span>,100);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutUpAndDownArrowsInDropDownMinutes()</span>
    <span class="comment">/**
     *	Mouse out from arrow inside minute drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutUpAndDownArrowsInDropDownMinutes : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		src.className = src.className.replace(<span class="literal">' DHTMLSuite_calendarDropDown_dropDownArrowOver'</span>,<span class="literal">''</span>);	
		<span class="reserved">this</span>.scrollInMinuteDropDownActive = false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverYearInDropDown()</span>
    <span class="comment">/**
     *	Mouse over - year in year drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverYearInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendar_dropdownAYearOver'</span>;	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutYearInDropDown()</span>
    <span class="comment">/**
     *	Mouse over - year in year drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutYearInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendar_dropdownAYearOver'</span>,<span class="literal">''</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverHourInDropDown()</span>
    <span class="comment">/**
     *	Mouse over - hour in hour drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverHourInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendar_dropdownAnHourOver'</span>;	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutHourInDropDown()</span>
    <span class="comment">/**
     *	Mouse out - hour in hour drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutHourInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendar_dropdownAnHourOver'</span>,<span class="literal">''</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverMinuteInDropDown()</span>
    <span class="comment">/**
     *	Mouse over effect - minute in minute drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverMinuteInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendar_dropdownAMinuteOver'</span>;	
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __mouseoutMinuteInDropDown()</span>
    <span class="comment">/**
     *	Mouse over effect - month in minute drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutMinuteInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendar_dropdownAMinuteOver'</span>,<span class="literal">''</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverMonthInDropDown()</span>
    <span class="comment">/**
     *	Mouse over effect - minute in month drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverMonthInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendar_dropdownAMonthOver'</span>;	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutMonthInDropDown()</span>
    <span class="comment">/**
     *	Mouse out effect - month in month drop down.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutMonthInDropDown : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendar_dropdownAMonthOver'</span>,<span class="literal">''</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverCalendarDay()</span>
    <span class="comment">/**
     *	Mouse over effect - a day in the calendar view
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverCalendarDay : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendarDayOver'</span>;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutCalendarDay()</span>
    <span class="comment">/**
     *	Mouse out effect - a day in the calendar view
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutCalendarDay : <span class="reserved">function</span>()
	{		
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendarDayOver'</span>,<span class="literal">''</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverCalendarButton()</span>
    <span class="comment">/**
     *	Mouse over effect - close button
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverCalendarButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendarButtonOver'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutCalendarButton()</span>
    <span class="comment">/**
     *	Remove mouse over effect from close button
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutCalendarButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendarButtonOver'</span>,<span class="literal">''</span>);
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverMonthAndYear()</span>
    <span class="comment">/**
     *	Mouse over effect - month and year in the heading
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverMonthAndYear : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendarHeaderMonthAndYearOver'</span>;	
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutMonthAndYear()</span>
    <span class="comment">/**
     *	Remove mouse over effect - month and year in the heading
     *	
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoutMonthAndYear : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendarHeaderMonthAndYearOver'</span>,<span class="literal">''</span>);
	}	,
	<span class="comment">// {{{ __mouseoverHourAndMinute()</span>
    <span class="comment">/**
     *	Mouse over effect - Hour and minute in timer bar
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoverHourAndMinute : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_calendarTimeBarHourAndMinuteOver'</span>;	
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutHourAndMinute()</span>
    <span class="comment">/**
     *	Remove mouse over effect - Hour and minute in timer bar
     *	
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoutHourAndMinute : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_calendarTimeBarHourAndMinuteOver'</span>,<span class="literal">''</span>);
	}
	,
	<span class="comment">// {{{ __positionCalendar()</span>
    <span class="comment">/**
     *	Position the calendar
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__positionCalendar : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.posRefToHtmlEl)<span class="reserved">return</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.divElement.parentNode!=document.body)document.body.appendChild(<span class="reserved">this</span>.divElement);
		<span class="reserved">this</span>.divElement.style.position=<span class="literal">'absolute'</span>;
		<span class="reserved">this</span>.divElement.style.left = (DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.posRefToHtmlEl) + <span class="reserved">this</span>.positioningOffsetXInPixels) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElement.style.top = (DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.posRefToHtmlEl) + <span class="reserved">this</span>.positioningOffsetYInPixels) + <span class="literal">'px'</span>;
		
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ __setInitialData()</span>
    <span class="comment">/**
     *	Set initial calendar properties sent to the constructor in an associative array
     *	
     *	<span class="attrib">@param</span> Array props - Array of calendar properties
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setInitialData : <span class="reserved">function</span>(props)
	{
		
		<span class="reserved">if</span>(props.id)<span class="reserved">this</span>.id = props.id;	
		<span class="reserved">if</span>(props.targetReference)<span class="reserved">this</span>.targetReference = props.targetReference;	
		<span class="reserved">if</span>(props.calendarModelReference)<span class="reserved">this</span>.calendarModelReference = props.calendarModelReference;	
		<span class="reserved">if</span>(props.callbackFunctionOnDayClick)<span class="reserved">this</span>.callbackFunctionOnDayClick = props.callbackFunctionOnDayClick;	
		<span class="reserved">if</span>(props.callbackFunctionOnMonthChange)<span class="reserved">this</span>.callbackFunctionOnMonthChange = props.callbackFunctionOnMonthChange;	
		<span class="reserved">if</span>(props.callbackFunctionOnClose)<span class="reserved">this</span>.callbackFunctionOnClose = props.callbackFunctionOnClose;
		<span class="reserved">if</span>(props.displayCloseButton || props.displayCloseButton===false)<span class="reserved">this</span>.displayCloseButton = props.displayCloseButton;
		<span class="reserved">if</span>(props.displayNavigationBar || props.displayNavigationBar===false)<span class="reserved">this</span>.displayNavigationBar = props.displayNavigationBar;
		<span class="reserved">if</span>(props.displayTodaysDateInNavigationBar || props.displayTodaysDateInNavigationBar===false)<span class="reserved">this</span>.displayTodaysDateInNavigationBar = props.displayTodaysDateInNavigationBar;
		<span class="reserved">if</span>(props.minuteDropDownInterval)<span class="reserved">this</span>.minuteDropDownInterval = props.minuteDropDownInterval;
		<span class="reserved">if</span>(props.numberOfRowsInHourDropDown)<span class="reserved">this</span>.numberOfRowsInHourDropDown = props.numberOfRowsInHourDropDown;
		<span class="reserved">if</span>(props.numberOfRowsInMinuteDropDown)<span class="reserved">this</span>.numberOfRowsInHourDropDown = props.numberOfRowsInMinuteDropDown;
		<span class="reserved">if</span>(props.numberOfRowsInYearDropDown)<span class="reserved">this</span>.numberOfRowsInYearDropDown = props.numberOfRowsInYearDropDown;
		<span class="reserved">if</span>(props.isDragable || props.isDragable===false)<span class="reserved">this</span>.isDragable = props.isDragable;
		<span class="reserved">if</span>(props.displayTimeBar || props.displayTimeBar===false)<span class="reserved">this</span>.displayTimeBar = props.displayTimeBar;
				
	}
	<span class="comment">// }}}	</span>
	
}


<span class="comment">/*[FILE_START:dhtmlSuite-windowWidget.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML window scripts
*
*	Created:						November, 26th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Store metadata about a window
*			
*	Css files used by this script:	window.css
*
*	Public methods of this class should NEVER be called after the window widget has been initalized. 
*
*	Demos of this class:			demo-window.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Save metadata about a window. (&lt;a href="../../demos/demo-window.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.windowModel = <span class="reserved">function</span>(arrayOfProperties)
{
	var id;							<span class="comment">// Id of window.</span>
	var title;						<span class="comment">// Title of window</span>
	var icon;						<span class="comment">// Icon of window</span>
	var isDragable;					<span class="comment">// Window is dragable ? (default = true)</span>
	var isResizable;				<span class="comment">// Window is resizable ?</span>
	var isMinimizable;				<span class="comment">// Window is minimizable ?</span>
	var isClosable;					<span class="comment">// Window is closable</span>
	var xPos;						<span class="comment">// Current x position of window</span>
	var yPos;						<span class="comment">// Current y position of window</span>
	var width;						<span class="comment">// Current width of window</span>
	var height;						<span class="comment">// Current height of window	</span>
	var cookieName;					<span class="comment">// Name of cookie to store x,y,width,height,state,activeTab and zIndex</span>
	var state;						<span class="comment">// State of current window(minimized,closed etc.)</span>
	var activeTabId;				<span class="comment">// id of active tab</span>
	var tabsVisible;				<span class="comment">// Tabs are visible? If not, we will only show a simple window with content and no tabs.</span>
	var zIndex;						<span class="comment">// Current z-index of window.</span>
	var minWidth;					<span class="comment">// Minimum width of window</span>
	var maxWidth;					<span class="comment">// Maximum width of window</span>
	var minHeight;					<span class="comment">// Minimum height of window</span>
	var maxHeight;					<span class="comment">// Maximum height of window.</span>
	var isVisible;					<span class="comment">// Is window visible</span>
	
	var callbackOnClose;			<span class="comment">// Callback to execute on close</span>
	var callbackOnTabSwitch;		<span class="comment">// Callback to execute on tab switch</span>
	var windowsTheme;			
	var windowContents;				<span class="comment">// Array of DHTMLSuite.windowTabModel objects.	</span>
	<span class="reserved">this</span>.windowContents = new Array();
	<span class="reserved">this</span>.isDragable = true;
	<span class="reserved">this</span>.isMinimizable = true;
	<span class="reserved">this</span>.isResizable = true;
	<span class="reserved">this</span>.isClosable = true;
	<span class="reserved">this</span>.windowsTheme = false;
	<span class="reserved">this</span>.isVisible = true;
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file\n'</span>+ e.message);
	}
		
	<span class="reserved">if</span>(arrayOfProperties)<span class="reserved">this</span>.__setInitialWindowProperties(arrayOfProperties);
	
}

DHTMLSuite.windowModel.<span class="reserved">prototype</span> = {

	<span class="comment">// {{{ createWindowModelFromMarkUp()</span>
    <span class="comment">/**
     *	Create window from HTML markup on your page.
     *
     *	<span class="attrib">@param</span> Object - reference to HTML element on page. (id or a direct reference)
     *
     *	Example of markup:
	&amp;lt;div id="myWindow2" windowProperties="windowsTheme:true,title:This is my window,resizable:true,closable:true,maxWidth:900,dragable:true,cookieName:myWindowCookie2,xPos:300,yPos:400,minWidth:405,minHeight:150,activeTabId:OtherWindow1"&gt;&lt;BR&gt;
		&amp;lt;div id="OtherWindow1" class="DHTMLSuite_windowContent" tabProperties="tabTitle:Welcome"&gt;&lt;BR&gt;
			This is my first window.	&lt;BR&gt;
		&amp;lt;/div&gt;&lt;BR&gt;
		&amp;lt;div id="OtherWindow2" class="DHTMLSuite_windowContent" tabProperties="contentUrl:includes/pane-splitter-calendar-1.php,tabTitle:Calendar,active=1"&gt;&lt;BR&gt;
		&amp;lt;/div&gt;&lt;BR&gt;
		&amp;lt;div id="OtherWindow3" class="DHTMLSuite_windowContent" tabProperties="contentUrl:includes/pane-splitter-paypal.inc,tabTitle:Support us"&gt;&lt;BR&gt;
		&amp;lt;/div&gt;&lt;BR&gt;
		&amp;lt;div id="OtherWindow4" class="DHTMLSuite_windowContent" tabProperties="contentUrl:includes/pane-splitter-classes.inc,tabTitle:DHTMLSuite classes"&gt;&lt;BR&gt;
		&amp;lt;/div&gt;&lt;BR&gt;
	&amp;lt;/div&gt;
     *
     *	Note that each tab got class name "DHTMLSuite_windowContent". Also notice that the ids are separated from the property list. Properties are set by a comma separated list of
     *	key:value
     *	
     * <span class="attrib">@public</span>	
     */</span>			
	createWindowModelFromMarkUp : <span class="reserved">function</span>(referenceToHTMLElement)
	{
		referenceToHTMLElement = DHTMLSuite.commonObj.getEl(referenceToHTMLElement);	
		<span class="reserved">if</span>(!referenceToHTMLElement){
			alert(<span class="literal">'Error in windowModel class - Could not get a reference to element '</span> + referenceToHTMLElement);
			<span class="reserved">return</span>;
		}			
		<span class="reserved">this</span>.id = referenceToHTMLElement.id;
		var properties = referenceToHTMLElement.getAttribute(<span class="literal">'windowProperties'</span>);
		<span class="reserved">if</span>(!properties)properties = referenceToHTMLElement.windowProperties;
		<span class="reserved">this</span>.__setInitialWindowProperties(DHTMLSuite.commonObj.getAssociativeArrayFromString(properties));				
		<span class="comment">/* Parse properties of main div */</span>			
		var subDivs = referenceToHTMLElement.getElementsByTagName(<span class="literal">'DIV'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;subDivs.length;no++){
			<span class="reserved">if</span>(subDivs[no].className.toLowerCase()==<span class="literal">'dhtmlsuite_windowcontent'</span>){	<span class="comment">/* Window found */</span>
				var index = <span class="reserved">this</span>.windowContents.length;
				<span class="reserved">this</span>.windowContents[index] = new DHTMLSuite.windowTabModel();
				<span class="reserved">this</span>.windowContents[index].__createContentModelFromHTMLElement(subDivs[no]);			
			}				
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getActiveContent()</span>
    <span class="comment">/**
     * Return active content object
     *	
     *	<span class="attrib">@param</span> Array arrayOfProperties - Array of window properties
     *								 
     * <span class="attrib">@private</span>	
     */</span>			
	__getActiveContent : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowContents.length;no++){
			<span class="reserved">if</span>(!<span class="reserved">this</span>.windowContents[no].isDeleted){
				<span class="reserved">if</span>(<span class="reserved">this</span>.activeTabId == <span class="reserved">this</span>.windowContents[no].id)<span class="reserved">return</span> <span class="reserved">this</span>.windowContents[no];
			}		
		}
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __setInitialWindowProperties()</span>
    <span class="comment">/**
     *Save initial window properties sent to the constructor
     *	
     *	<span class="attrib">@param</span> Array arrayOfProperties - Array of window properties
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setInitialWindowProperties : <span class="reserved">function</span>(props)
	{
		<span class="reserved">if</span>(props.isClosable)props.isClosable=eval(props.isClosable);
		<span class="reserved">if</span>(props.isDragable)props.isDragable=eval(props.isDragable);
		<span class="reserved">if</span>(props.isResizable)props.isResizable=eval(props.isResizable);
		<span class="reserved">if</span>(props.isMinimizable)props.isMinimizable=eval(props.isMinimizable);
		<span class="reserved">if</span>(props.isVisible)props.isVisible=eval(props.isVisible);
		
		<span class="reserved">if</span>(props.cookieName)<span class="reserved">this</span>.cookieName=props.cookieName;
		<span class="reserved">if</span>(props.title)<span class="reserved">this</span>.title=props.title;
		<span class="reserved">if</span>(props.icon)<span class="reserved">this</span>.icon=props.icon;
		<span class="reserved">if</span>(props.width)<span class="reserved">this</span>.width=props.width;
		<span class="reserved">if</span>(props.height)<span class="reserved">this</span>.height=props.height;
		
		<span class="reserved">if</span>(props.isMinimizable || props.isMinimizable===false || props.isMinimizable===0)<span class="reserved">this</span>.isMinimizable=props.isMinimizable;
		<span class="reserved">if</span>(props.isClosable || props.isClosable==false)<span class="reserved">this</span>.isClosable=props.isClosable;
		<span class="reserved">if</span>(props.state)<span class="reserved">this</span>.state=props.state;
		<span class="reserved">if</span>(props.xPos)<span class="reserved">this</span>.xPos=props.xPos;
		<span class="reserved">if</span>(props.yPos)<span class="reserved">this</span>.yPos=props.yPos;
		<span class="reserved">if</span>(props.activeTabId)<span class="reserved">this</span>.activeTabId=props.activeTabId;
		<span class="reserved">if</span>(props.minWidth)<span class="reserved">this</span>.minWidth=props.minWidth;
		<span class="reserved">if</span>(props.maxWidth)<span class="reserved">this</span>.maxWidth=props.maxWidth;
		<span class="reserved">if</span>(props.minHeight)<span class="reserved">this</span>.minHeight=props.minHeight;
		<span class="reserved">if</span>(props.maxHeight)<span class="reserved">this</span>.maxHeight=props.maxHeight;
		<span class="reserved">if</span>(props.windowsTheme)<span class="reserved">this</span>.windowsTheme=props.windowsTheme;
		<span class="reserved">if</span>(props.callbackOnClose)<span class="reserved">this</span>.callbackOnClose=props.callbackOnClose;
		<span class="reserved">if</span>(props.callbackOnTabSwitch)<span class="reserved">this</span>.callbackOnTabSwitch=props.callbackOnTabSwitch;

		<span class="reserved">if</span>(props.isResizable || props.isResizable==false)<span class="reserved">this</span>.isResizable=props.isResizable;
		<span class="reserved">if</span>(props.isDragable || props.isDragable==false)<span class="reserved">this</span>.isDragable=props.isDragable;
		<span class="reserved">if</span>(props.isVisible || props.isVisible==false)<span class="reserved">this</span>.isVisible=props.isVisible;

		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getTitle()</span>
    <span class="comment">/**
     * Return title of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>	
	__getTitle : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.title;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getContentObjects()</span>
    <span class="comment">/**
     * Return an array of window content objects.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getContentObjects : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.windowContents;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setActiveTabIdAutomatically()</span>
    <span class="comment">/**
     * Automatically set active tab id.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setActiveTabIdAutomatically : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowContents.length;no++){
			<span class="reserved">if</span>(!<span class="reserved">this</span>.windowContents[no].isDeleted){
				<span class="reserved">this</span>.activeTabId = <span class="reserved">this</span>.windowContents[no].id;
				<span class="reserved">return</span>;
			}		
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setContentUrl()</span>
    <span class="comment">/**
     * Set new url of content
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setContentUrl : <span class="reserved">function</span>(contentId,url)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowContents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.windowContents[no].id==contentId){
				<span class="reserved">this</span>.windowContents[no].__setContentUrl(url);
				<span class="reserved">return</span> true;
			}
		}
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getContentObjectById()</span>
    <span class="comment">/**
     * Return content object from id.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getContentObjectById : <span class="reserved">function</span>(contentId)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowContents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.windowContents[no].id==contentId)<span class="reserved">return</span> <span class="reserved">this</span>.windowContents[no];
		}
		<span class="reserved">return</span> false;			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setWidth()</span>
    <span class="comment">/**
     * Set new width of window
     *	<span class="attrib">@param</span> Integer width.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setWidth : <span class="reserved">function</span>(newWidth)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.minWidth &amp;&amp; newWidth/1&lt;<span class="reserved">this</span>.minWidth/1)newWidth = <span class="reserved">this</span>.minWidth;
		<span class="reserved">if</span>(<span class="reserved">this</span>.maxWidth &amp;&amp; newWidth/1&gt;<span class="reserved">this</span>.maxWidth/1)newWidth = <span class="reserved">this</span>.maxWidth;
		<span class="reserved">this</span>.width = newWidth;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHeight()</span>
    <span class="comment">/**
     * Set new height of window
     *	<span class="attrib">@param</span> Integer height.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setHeight : <span class="reserved">function</span>(newHeight)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.minHeight &amp;&amp; newHeight/1&lt;<span class="reserved">this</span>.minHeight/1)newHeight = <span class="reserved">this</span>.minHeight;
		<span class="reserved">if</span>(<span class="reserved">this</span>.maxHeight &amp;&amp; newHeight/1&gt;<span class="reserved">this</span>.maxHeight/1)newHeight = <span class="reserved">this</span>.maxHeight;
		<span class="reserved">this</span>.height = newHeight;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setXPos()</span>
    <span class="comment">/**
     * Set new x position of window
     *	<span class="attrib">@param</span> Integer xPos in pixels.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setXPos : <span class="reserved">function</span>(newXPos)
	{
		<span class="reserved">if</span>(newXPos&gt;DHTMLSuite.clientInfoObj.getBrowserWidth()){
			newXPos = DHTMLSuite.clientInfoObj.getBrowserWidth()-30;	
		}		
		<span class="reserved">this</span>.xPos = newXPos;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setYPos()</span>
    <span class="comment">/**
     * Set new y position of window
     *	<span class="attrib">@param</span> Integer yPos in pixels.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setYPos : <span class="reserved">function</span>(newYPos)
	{
		<span class="reserved">if</span>(newYPos&gt;DHTMLSuite.clientInfoObj.getBrowserHeight()){
			newYPos = DHTMLSuite.clientInfoObj.getBrowserHeight()-30;	
		}			
		<span class="reserved">this</span>.yPos = newYPos;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setActiveTabId()</span>
    <span class="comment">/**
     * Set new active tab id.
     *	<span class="attrib">@param</span> String newActiveTabId
     *								 
     * <span class="attrib">@private</span>	
     */</span>			
	__setActiveTabId : <span class="reserved">function</span>(newActiveTabId)
	{
		var index = <span class="reserved">this</span>.__getIndexOfTabById(newActiveTabId);
		<span class="reserved">if</span>(index!==false &amp;&amp; !<span class="reserved">this</span>.__getIsDeleted(newActiveTabId)){			
			<span class="reserved">this</span>.activeTabId = newActiveTabId;
			<span class="reserved">return</span>;
		}
		<span class="reserved">this</span>.__setActiveTabIdAutomatically();		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setZIndex()</span>
    <span class="comment">/**
     * Set new z-index of window
     *	<span class="attrib">@param</span> Integer zIndex
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setZIndex : <span class="reserved">function</span>(zIndex)
	{
		<span class="reserved">this</span>.zIndex = zIndex;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setState()</span>
    <span class="comment">/**
     * Set new state of window
     *	<span class="attrib">@param</span> String state
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setState : <span class="reserved">function</span>(state)
	{
		<span class="reserved">this</span>.state = state;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getWidth()</span>
    <span class="comment">/**
     * Return width of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getWidth : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.width;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getWidth()</span>
    <span class="comment">/**
     * Return width of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getHeight : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.height;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getXPos()</span>
    <span class="comment">/**
     * Return xPos of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getXPos : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.xPos&gt;DHTMLSuite.clientInfoObj.getBrowserWidth()){
			xPos = DHTMLSuite.clientInfoObj.getBrowserWidth()-30;	
		}
		<span class="reserved">return</span> <span class="reserved">this</span>.xPos;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getYPos()</span>
    <span class="comment">/**
     * Return yPos of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getYPos : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.yPos;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getActiveTabId()</span>
    <span class="comment">/**
     * Return active tab id
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getActiveTabId : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.activeTabId;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getZIndex()</span>
    <span class="comment">/**
     * Return z-index of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getZIndex : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.zIndex)<span class="reserved">return</span> 0;
		<span class="reserved">return</span> <span class="reserved">this</span>.zIndex;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getState()</span>
    <span class="comment">/**
     * Return state of window
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getState : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.state;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __deleteTab()</span>
    <span class="comment">/**
     * delete a tab
     *	<span class="attrib">@param</span> String id of tab to delete
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__deleteTab : <span class="reserved">function</span>(idOfTab)
	{
		var index = <span class="reserved">this</span>.__getIndexOfTabById(idOfTab);
		<span class="reserved">if</span>(index!==false){
			<span class="reserved">this</span>.windowContents[index].__setDeleted(true);
			<span class="reserved">return</span> true;
		}
		<span class="reserved">return</span> false;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __restoreTab()</span>
    <span class="comment">/**
     * Restore a deleted tab
     *	<span class="attrib">@param</span> String id of tab to restore.
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__restoreTab : <span class="reserved">function</span>(idOfTab)
	{
		var index = <span class="reserved">this</span>.__getIndexOfTabById(idOfTab);
		<span class="reserved">if</span>(index!==false){
			<span class="reserved">this</span>.windowContents[index].__setDeleted(false);
			<span class="reserved">return</span> true;
		}
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getIndexOfTabById()</span>
    <span class="comment">/**
     * Return index of tab by id
     *	<span class="attrib">@param</span> String idOfTab
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getIndexOfTabById : <span class="reserved">function</span>(idOfTab)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowContents.length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.windowContents[no].id==idOfTab)<span class="reserved">return</span> no;
		}		
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getIsDeleted()</span>
    <span class="comment">/**
     * Return true if tab is flagged as deleted
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__getIsDeleted : <span class="reserved">function</span>(idOfTab)
	{
		var index = <span class="reserved">this</span>.__getIndexOfTabById(idOfTab);
		<span class="reserved">if</span>(index!==false){
			<span class="reserved">return</span> <span class="reserved">this</span>.windowContents[index].isDeleted;
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addTab()</span>
    <span class="comment">/**
     * Add a new tab to the model
     *
     *	<span class="attrib">@return</span> A reference to the model or false if a tab with the specified id already exists.
     *								 
     * <span class="attrib">@public</span>	
     */</span>		
	addTab : <span class="reserved">function</span>(properties)
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowContents.length;no++){	<span class="comment">// Check if the window already exists.</span>
			<span class="reserved">if</span>(<span class="reserved">this</span>.windowContents[no].id==properties.id)<span class="reserved">return</span> false;			
		}
		var newIndex = <span class="reserved">this</span>.windowContents.length;
		<span class="reserved">this</span>.windowContents[newIndex] = new DHTMLSuite.windowTabModel(properties);
		<span class="reserved">return</span> <span class="reserved">this</span>.windowContents[newIndex];
	}
}

<span class="comment">/************************************************************************************************************
*	DHTML window scripts
*
*	Created:						November, 26th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Store metadata about the content of a window or only a tab of a window.
*									
*			
*	Css files used by this script:	
*
*	Demos of this class:			demo-window.html
*
* 	Update log:
*
************************************************************************************************************/</span>

DHTMLSuite.windowTabModel = <span class="reserved">function</span>(tabProperties)
{
	var tabTitle;
	var textContent;
	var id;	
	var htmlElementId;
	var contentUrl;
	var isDeleted;
	var overflow;
	
	<span class="reserved">this</span>.overflow = <span class="literal">'auto'</span>;
	<span class="reserved">if</span>(tabProperties)<span class="reserved">this</span>.__setInitProps(tabProperties);
}

DHTMLSuite.windowTabModel.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ __createContentModelFromHTMLElement()</span>
    <span class="comment">/**
     * Parse HTML element and get attributes from it.
     *								 
     * <span class="attrib">@private</span>	
     */</span>			
	__createContentModelFromHTMLElement : <span class="reserved">function</span>(elementReference)
	{
		elementReference = DHTMLSuite.commonObj.getEl(elementReference);			
		<span class="reserved">this</span>.textContent = elementReference.innerHTML;
		var properties = elementReference.getAttribute(<span class="literal">'tabProperties'</span>);
		<span class="reserved">if</span>(!properties)properties = referenceToHTMLElement.tabProperties;		
		<span class="reserved">this</span>.id = elementReference.id;
		<span class="reserved">this</span>.htmlElementId = elementReference.id;
		<span class="reserved">this</span>.__setInitProps(DHTMLSuite.commonObj.getAssociativeArrayFromString(properties));	
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     * Set initial tab properties
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setInitProps : <span class="reserved">function</span>(arrayOfProperties)
	{		
		<span class="reserved">if</span>(arrayOfProperties.tabTitle)<span class="reserved">this</span>.tabTitle = arrayOfProperties.tabTitle;	
		<span class="reserved">if</span>(arrayOfProperties.contentUrl)<span class="reserved">this</span>.contentUrl = arrayOfProperties.contentUrl;	
		<span class="reserved">if</span>(arrayOfProperties.id)<span class="reserved">this</span>.id = arrayOfProperties.id;
		<span class="reserved">if</span>(arrayOfProperties.textContent)<span class="reserved">this</span>.textContent = arrayOfProperties.textContent;
		<span class="reserved">if</span>(arrayOfProperties.htmlElementId)<span class="reserved">this</span>.htmlElementId = arrayOfProperties.htmlElementId;
		<span class="reserved">if</span>(arrayOfProperties.isDeleted)<span class="reserved">this</span>.htmlElementId = arrayOfProperties.isDeleted;
		<span class="reserved">if</span>(arrayOfProperties.overflow)<span class="reserved">this</span>.overflow = arrayOfProperties.overflow;	
		<span class="reserved">if</span>(<span class="reserved">this</span>.id &amp;&amp; !<span class="reserved">this</span>.htmlElementId)<span class="reserved">this</span>.htmlElementId = <span class="reserved">this</span>.id;	
				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setContentUrl()</span>
    <span class="comment">/**
     * Set url of tab
     *	<span class="attrib">@param</span> String url
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setContentUrl : <span class="reserved">function</span>(url)
	{
		<span class="reserved">this</span>.contentUrl = url;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setDeleted()</span>
    <span class="comment">/**
     * Specify if tab is deleted or not
     *	<span class="attrib">@param</span> Boolean isDeleted
     *								 
     * <span class="attrib">@private</span>	
     */</span>		
	__setDeleted : <span class="reserved">function</span>(isDeleted)
	{
		<span class="reserved">this</span>.isDeleted = isDeleted;
	}
	
}

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Create a window widget.
*			
* <span class="attrib">@param</span> Object windowModel - object of class DHTMLSuite.windowModel
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.windowWidget = <span class="reserved">function</span>(windowModel)
{
	var windowModel;	
	var layoutCSS;
	var objectIndex;
	
	var divElement;					<span class="comment">// parent element of divElInner and eventual iframe(old MSIE)</span>
	var divElInner;			<span class="comment">// Div element for all the content of an iframe</span>
	var divTitleBar;				<span class="comment">// Div element for the title bar.</span>
	var divElContent;			<span class="comment">// Div for the content </span>
	var divCloseButton;				<span class="comment">// Close button</span>
	var divMinimizeButton;			<span class="comment">// Minimize button</span>
	var divStatusBarTxt;			<span class="comment">// Text element in status bar</span>
	var divTitleIcon;				<span class="comment">// Icon div</span>
	var divResizeHandle;			<span class="comment">// Div element for the resize handle</span>
	var iframeEl;				<span class="comment">// Iframe element used to cover select boxes in IE.</span>
	var divElementTitle_txt;
	var referenceToDragDropObject;	<span class="comment">// Reference to object of class dragDropSimple.</span>
	var contentDivs;				<span class="comment">// Array of div elements for the content</span>
	var resizeObj;					<span class="comment">// Reference to object of class DHTMLSuite.resize</span>
	var slideSpeed;					<span class="comment">// Slide speed when window is "sliding" into position by a windowCollection call.</span>
	var layoutOffsetHeightForTheStatusBar;
	
	var scrollPositions;
	<span class="reserved">this</span>.scrollPositions = new Object();	
	
	<span class="reserved">this</span>.layoutOffsetHeightForTheStatusBar = 8;
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'window.css'</span>;
	<span class="reserved">this</span>.contentDivs = new Object();	
	<span class="reserved">this</span>.slideSpeed = 25;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;

	<span class="reserved">if</span>(windowModel)<span class="reserved">this</span>.addWindowModel(windowModel);	
}

DHTMLSuite.windowWidget.<span class="reserved">prototype</span> = {
	<span class="comment">// {{{ show()</span>
	<span class="comment">/**
	*	Displays the window
	*
	*	<span class="attrib">@public</span>
	*/</span>
	show : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowModel.isVisible = true;
		<span class="reserved">this</span>.divElement.style.visibility=<span class="literal">'visible'</span>;
		<span class="reserved">this</span>.divElement.style.display=<span class="literal">'block'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl)<span class="reserved">this</span>.iframeEl.style.visibility=<span class="literal">'visible'</span>;	
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ addWindowModel()</span>
    <span class="comment">/**
     * Connect window widget with a DHTMLSuite.windowModel
     *	<span class="attrib">@param</span> Object windowModel - Object of class DHTMLSuite.windowModel.
     *								 
     * <span class="attrib">@public</span>	
     */</span>		
	addWindowModel : <span class="reserved">function</span>(windowModel)
	{
		<span class="reserved">this</span>.windowModel = windowModel;
		<span class="reserved">if</span>(windowModel.windowsTheme)<span class="reserved">this</span>.setLayoutThemeWindows();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutThemeWindows()</span>
    <span class="comment">/**
     * Windows style theme.
     * <span class="attrib">@public</span>	
     */</span>			
	setLayoutThemeWindows : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.setLayoutCss(<span class="literal">'window-theme-windows.css'</span>);
		<span class="reserved">this</span>.layoutOffsetHeightForTheStatusBar=1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ appendContent()</span>
    <span class="comment">/**
     * Append content to the window
     * <span class="attrib">@public</span>	
     */</span>		
    appendContent : <span class="reserved">function</span>(idOfTab,contentReference)
	{
		contentReference = DHTMLSuite.commonObj.getEl(contentReference);
		try{
			document.getElementById(idOfTab).appendChild(contentReference);
		}catch(e){
		
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     * Specify new css file for the window. default is window/window.css ( located inside the css_dhtmlsuite folder)
     * <span class="attrib">@public</span>	
     */</span>		
	setLayoutCss : <span class="reserved">function</span>(cssFileName)
	{
		<span class="reserved">this</span>.layoutCSS = cssFileName;
		<span class="reserved">if</span>(cssFileName==<span class="literal">'window-theme-windows.css'</span>)<span class="reserved">this</span>.layoutOffsetHeightForTheStatusBar=1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setStatusBarText()</span>
    <span class="comment">/**
     * Specify a text in the status bar
     *	<span class="attrib">@param</span> String statusbar text
     * <span class="attrib">@public</span>	
     */</span>		
	setStatusBarText : <span class="reserved">function</span>(text)
	{
		<span class="reserved">this</span>.divStatusBarTxt.innerHTML = text;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSlideSpeed()</span>
    <span class="comment">/**
     * Specify a text in the status bar
     *	<span class="attrib">@param</span> Integer - slidespeed ( default = 25 ) - This property is only used when a windowCollection is cascading or tiling windows.
     * <span class="attrib">@public</span>	
     */</span>		
	setSlideSpeed : <span class="reserved">function</span>(slideSpeed)
	{
		<span class="reserved">this</span>.slideSpeed = slideSpeed;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * Initializes the widget.
	 *
     * <span class="attrib">@public</span>	
     */</span>			
	init : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__getWindowPropertiesFromCookie();
		<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.activeTabId)<span class="reserved">this</span>.windowModel.__setActiveTabIdAutomatically();
		<span class="reserved">this</span>.__createPrimaryDivElements();
		<span class="reserved">this</span>.__createiframeEl();
		<span class="reserved">this</span>.__createTitleBar();
		<span class="reserved">this</span>.__createTabRow();
		<span class="reserved">this</span>.__createContentArea();
		<span class="reserved">this</span>.__createStatusBar();		
		<span class="reserved">this</span>.__initiallyPopulateContentArea();
		<span class="reserved">this</span>.__displayActiveContent();		
		<span class="reserved">this</span>.__populateTabRow();		
		<span class="reserved">this</span>.__populateTitleBar();		
		<span class="reserved">this</span>.__showHideButtonElements();
		<span class="reserved">this</span>.__makeWindowDragable();
		<span class="reserved">this</span>.__makeWindowResizable();
		<span class="reserved">this</span>.__initiallySetPositionAndSizeOfWindow();		
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> +ind + <span class="literal">"].__setSizeOfDivElements()"</span>,200);
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> +ind + <span class="literal">"].__setSizeOfDivElements()"</span>,500);
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> +ind + <span class="literal">"].__setSizeOfDivElements()"</span>,1000);
		setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span> +ind + <span class="literal">"].__setSizeOfDivElements()"</span>,2000);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ loadContent()</span>
    <span class="comment">/**
     * The purpose of this method is to load content into a tab	 
     *
	 *	<span class="attrib">@param</span> String - id of content object/tab
	 *	<span class="attrib">@param</span> url - Url to load into the tab.
     * <span class="attrib">@public</span>	 
     */</span>			
	loadContent : <span class="reserved">function</span>(idOfWindowContentObject,url)
	{
		<span class="reserved">this</span>.windowModel.__setContentUrl(idOfWindowContentObject,url);
		try{
			var dynContent = new DHTMLSuite.dynamicContent();
		}catch(e){
			alert(<span class="literal">'You need to include dhtmlSuite-dynamicContent.js'</span>);
		}
		var ref = <span class="reserved">this</span>.windowModel.__getContentObjectById(idOfWindowContentObject);		
		<span class="reserved">if</span>(ref)dynContent.loadContent(ref.htmlElementId,url);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">/* Activate a different tab */</span>
	<span class="comment">// {{{ activateTab()</span>
    <span class="comment">/**
     * Make a specific tab active
     *
	 *	<span class="attrib">@param</span> String - id of content object/tab
     * <span class="attrib">@public</span>	
     */</span>		
	activateTab : <span class="reserved">function</span>(idOfContent)
	{
		var c = <span class="reserved">this</span>.__getActiveContentElement();

		<span class="reserved">this</span>.scrollPositions[<span class="reserved">this</span>.windowModel.activeTabId] = c.parentNode.scrollTop;
		<span class="reserved">this</span>.windowModel.__setActiveTabId(idOfContent);
		<span class="reserved">this</span>.__setLayoutOfTabs();
		<span class="reserved">this</span>.__displayActiveContent();
		<span class="reserved">this</span>.__saveCookie();		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutOffsetHeightForTheStatusBar()</span>
    <span class="comment">/**
     * This method is only needed in case you use a non-default css file
     *	It controls a tuning parameter used to set the correct height of the window(default value is 8)
     *
	 *	<span class="attrib">@param</span> String - id of content object/tab
     * <span class="attrib">@public</span>	
     */</span>		
	setLayoutOffsetHeightForTheStatusBar : <span class="reserved">function</span>(layoutOffsetHeightForTheStatusBar)
	{
		<span class="reserved">this</span>.layoutOffsetHeightForTheStatusBar = layoutOffsetHeightForTheStatusBar;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ deleteTab()</span>
    <span class="comment">/**
     * Delete a tab (ps! The tab can be restored by the restoreTab() method
     *
	 *	<span class="attrib">@param</span> String - id of content object/tab
     * <span class="attrib">@public</span>	
     */</span>		
	deleteTab : <span class="reserved">function</span>(idOfTab)
	{
		<span class="reserved">this</span>.windowModel.__deleteTab(idOfTab);	
		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.__getActiveTabId()==idOfTab)<span class="reserved">this</span>.windowModel.__setActiveTabIdAutomatically();	
		<span class="reserved">this</span>.__populateTabRow();
		<span class="reserved">this</span>.__setLayoutOfTabs();
		<span class="reserved">this</span>.__displayActiveContent();		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ restoreTab()</span>
    <span class="comment">/**
     * Restore a deleted tab 
     *
	 *	<span class="attrib">@param</span> String idOfTab - id of content object/tab
     * <span class="attrib">@public</span>	
     */</span>		
	restoreTab : <span class="reserved">function</span>(idOfTab)
	{
		<span class="reserved">this</span>.windowModel.__restoreTab(idOfTab);	
		<span class="reserved">this</span>.__populateTabRow();
		<span class="reserved">this</span>.__setLayoutOfTabs();
		<span class="reserved">this</span>.__displayActiveContent();					
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addTab()</span>
    <span class="comment">/**
     * Adds a new tab to the window
     *
	 *	<span class="attrib">@param</span> Array tabProperties - Properties for the new tab(associative array with the keys: id,tabTitle,contentUrl(optional),textContent(optional),htmlElementId(optional) and isDeleted(optional)
     * <span class="attrib">@public</span>	
     */</span>		
	addTab : <span class="reserved">function</span>(tabProperties)
	{
		var contentObj = <span class="reserved">this</span>.windowModel.addTab(tabProperties);
		<span class="reserved">if</span>(contentObj){
			<span class="reserved">this</span>.__createContentForATab(contentObj);
			<span class="reserved">this</span>.__populateTabRow();
			<span class="reserved">this</span>.__setLayoutOfTabs();
			<span class="reserved">this</span>.__displayActiveContent();	
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setWidthOfWindow()</span>
    <span class="comment">/**
     * Set new width of window
     *
	 *	<span class="attrib">@param</span> Integer width - New width of window. NB! Not larger than eventual set maxWidth
     * <span class="attrib">@public</span>	
     */</span>		
	setWidthOfWindow : <span class="reserved">function</span>(newWidth)
	{
		<span class="reserved">this</span>.windowModel.__setWidth(newWidth);
		<span class="reserved">this</span>.divElement.style.width = <span class="reserved">this</span>.windowModel.__getWidth() + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.__updateWindowModel();				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setHeightOfWindow()</span>
    <span class="comment">/**
     * Set new height of window
     *
	 *	<span class="attrib">@param</span> Integer height - New height of window. NB! Not larger than eventual set maxHeight
     * <span class="attrib">@public</span>	
     */</span>		
	setHeightOfWindow : <span class="reserved">function</span>(newHeight)
	{
		<span class="reserved">this</span>.windowModel.__setHeight(newHeight);
		<span class="reserved">this</span>.divElement.style.height = <span class="reserved">this</span>.windowModel.__getHeight() + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.__setSizeOfDivElements();
		<span class="reserved">this</span>.__updateWindowModel();		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __createPrimaryDivElements()</span>
    <span class="comment">/**
     * Create main div elements for the widget
     *
     * <span class="attrib">@private</span>	
     */</span>		
	getActiveContent : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.windowModel.__getActiveContent();
		
		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __createPrimaryDivElements()</span>
    <span class="comment">/**
     * Create main div elements for the widget
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createPrimaryDivElements : <span class="reserved">function</span>()
	{		
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);		
		<span class="reserved">this</span>.divElement.className = <span class="literal">'DHTMLSuite_window'</span>;
		document.body.appendChild(<span class="reserved">this</span>.divElement);		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.isVisible)<span class="reserved">this</span>.divElement.style.visibility=<span class="literal">'hidden'</span>;
		<span class="reserved">this</span>.divElInner = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElInner.className = <span class="literal">'DHTMLSuite_windowInnerDiv'</span>;
		<span class="reserved">this</span>.divElInner.style.position = <span class="literal">'relative'</span>;
		<span class="reserved">this</span>.divElInner.style.left = <span class="literal">'0px'</span>;
		<span class="reserved">this</span>.divElInner.style.top = <span class="literal">'0px'</span>;
		<span class="reserved">this</span>.divElInner.style.zIndex = 5;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.divElInner);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createiframeEl()</span>
    <span class="comment">/**
     * Create iframe element for the widget - used to cover select boxes in IE.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createiframeEl : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			<span class="reserved">this</span>.iframeEl = document.createElement(<span class="literal">'&lt;IFRAME src="about:blank" frameborder=0&gt;'</span>);
			<span class="reserved">this</span>.iframeEl.style.position = <span class="literal">'absolute'</span>;
			<span class="reserved">this</span>.iframeEl.style.top = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.iframeEl.style.left = <span class="literal">'0px'</span>;
			<span class="reserved">this</span>.iframeEl.style.width = <span class="literal">'105%'</span>;
			<span class="reserved">this</span>.iframeEl.style.height = <span class="literal">'105%'</span>;
			<span class="reserved">this</span>.iframeEl.style.zIndex = 1;
			<span class="reserved">this</span>.iframeEl.style.visibility = <span class="literal">'visible'</span>;	
			<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.isVisible)<span class="reserved">this</span>.iframeEl.style.visibility=<span class="literal">'hidden'</span>;	
			<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.iframeEl);
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createTitleBar()</span>
    <span class="comment">/**
     * Create title bar element
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__createTitleBar : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">this</span>.divTitleBar = document.createElement(<span class="literal">'DIV'</span>);	<span class="comment">// Creating title bar div</span>
		<span class="reserved">this</span>.divTitleBar.className = <span class="literal">'DHTMLSuite_windowTitleBar'</span>;
		<span class="reserved">this</span>.divElInner.appendChild(<span class="reserved">this</span>.divTitleBar);
		
		var buttonDiv = document.createElement(<span class="literal">'DIV'</span>);		<span class="comment">// Creating parent div for buttons</span>
		buttonDiv.className = <span class="literal">'DHTMLSuite_windowButtonDiv'</span>;
		<span class="reserved">this</span>.divTitleBar.appendChild(buttonDiv);
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.icon){
			var iconDiv = document.createElement(<span class="literal">'DIV'</span>);
			iconDiv.style.position = <span class="literal">'absolute'</span>;
			iconDiv.className = <span class="literal">'DHTMLSuite_windowIcon'</span>;
			iconDiv.style.backgroundImage = <span class="literal">'url("'</span> + <span class="reserved">this</span>.windowModel.icon + <span class="literal">'")'</span>;
			iconDiv.style.backgroundPosition = <span class="literal">'left center'</span>;
			iconDiv.style.backgroundRepeat = <span class="literal">'no-repeat'</span>;
			iconDiv.style.left = <span class="literal">'0px'</span>;
			iconDiv.style.top = <span class="literal">'0px'</span>;
			var img = document.createElement(<span class="literal">'IMG'</span>);
			img.style.visibility=<span class="literal">'hidden'</span>;
			img.src = <span class="reserved">this</span>.windowModel.icon;
			iconDiv.appendChild(img);
			<span class="reserved">this</span>.divTitleIcon = iconDiv;
			<span class="reserved">this</span>.divTitleBar.appendChild(iconDiv);
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__repositionTitleText()'</span>,50);
		}		
		
		<span class="reserved">this</span>.divCloseButton = document.createElement(<span class="literal">'DIV'</span>);		<span class="comment">// Creating close button</span>
		<span class="reserved">this</span>.divCloseButton.onmouseover = <span class="reserved">this</span>.__mouseoverCloseButton;
		<span class="reserved">this</span>.divCloseButton.onmouseout = <span class="reserved">this</span>.__mouseoutCloseButton;
		<span class="reserved">this</span>.divCloseButton.className=<span class="literal">'DHTMLSuite_windowCloseButton'</span>;
		<span class="reserved">this</span>.divCloseButton.onclick = <span class="reserved">function</span>(){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].close(); }
		<span class="reserved">this</span>.divCloseButton.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		buttonDiv.appendChild(<span class="reserved">this</span>.divCloseButton);
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divCloseButton);	

		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.isMinimizable){
			<span class="reserved">this</span>.divMinimizeButton = document.createElement(<span class="literal">'DIV'</span>);		<span class="comment">// Creating minimize button</span>
			<span class="reserved">this</span>.divMinimizeButton.onmouseover = <span class="reserved">this</span>.__mouseoverMinimizeButton;
			<span class="reserved">this</span>.divMinimizeButton.onmouseout = <span class="reserved">this</span>.__mouseoutMinimizeButton;
			<span class="reserved">this</span>.divMinimizeButton.className=<span class="literal">'DHTMLSuite_windowMinimizeButton'</span>;
			<span class="reserved">this</span>.divMinimizeButton.onclick = <span class="reserved">function</span>(){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].minimizeWindow(); }
			<span class="reserved">this</span>.divMinimizeButton.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
			buttonDiv.appendChild(<span class="reserved">this</span>.divMinimizeButton);
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divMinimizeButton);	
	
			<span class="reserved">this</span>.divMaximizeButton = document.createElement(<span class="literal">'DIV'</span>);		<span class="comment">// Creating maximize button</span>
			<span class="reserved">this</span>.divMaximizeButton.onmouseover = <span class="reserved">this</span>.__mouseoverMaximizeButton;
			<span class="reserved">this</span>.divMaximizeButton.onmouseout = <span class="reserved">this</span>.__mouseoutMaximizeButton;
			<span class="reserved">this</span>.divMaximizeButton.className=<span class="literal">'DHTMLSuite_windowMaximizeButton'</span>;
			<span class="reserved">this</span>.divMaximizeButton.onclick = <span class="reserved">function</span>(){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].maximizeWindow(); }
			<span class="reserved">this</span>.divMaximizeButton.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		
			buttonDiv.appendChild(<span class="reserved">this</span>.divMaximizeButton);
			<span class="reserved">this</span>.divMaximizeButton.style.display=<span class="literal">'none'</span>;
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divMaximizeButton);	
		}	
		<span class="reserved">this</span>.divElementTitle_txt = document.createElement(<span class="literal">'DIV'</span>);		<span class="comment">// Creating div element holding the title text</span>
		<span class="reserved">this</span>.divElementTitle_txt.className = <span class="literal">'DHTMLSuite_windowTitleInTitleBar'</span>;
		<span class="reserved">this</span>.divTitleBar.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
		<span class="reserved">this</span>.divTitleBar.appendChild(<span class="reserved">this</span>.divElementTitle_txt);	
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divTitleBar);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __repositionTitleText()</span>
    <span class="comment">/**
     * Reposition title text to fit the icon
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__repositionTitleText : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElementTitle_txt.style.marginLeft = (<span class="reserved">this</span>.divTitleIcon.clientWidth) + <span class="literal">'px'</span>;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createTabRow()</span>
    <span class="comment">/**
     * Create tab row
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__createTabRow : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElementTabRow = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElementTabRow.className = <span class="literal">'DHTMLSuite_windowTabRow'</span>;
		<span class="reserved">this</span>.divElInner.appendChild(<span class="reserved">this</span>.divElementTabRow);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createContentArea()</span>
    <span class="comment">/**
     * Create content area
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__createContentArea : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElContent = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElContent.className = <span class="literal">'DHTMLSuite_windowContent'</span>;
		<span class="reserved">this</span>.divElContent.style.overflow = <span class="literal">'auto'</span>;
		<span class="reserved">this</span>.divElInner.appendChild(<span class="reserved">this</span>.divElContent);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createStatusBar()</span>
    <span class="comment">/**
     * Create status bar div
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createStatusBar : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divStatusBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divStatusBar.className = <span class="literal">'DHTMLSuite_windowStatusBar'</span>;
		<span class="reserved">this</span>.divElInner.appendChild(<span class="reserved">this</span>.divStatusBar);	
		
		<span class="reserved">this</span>.divResizeHandle = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divResizeHandle.className = <span class="literal">'DHTMLSuite_windowResizeHandle'</span>;
		<span class="reserved">this</span>.divResizeHandle.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
		<span class="reserved">this</span>.divStatusBar.appendChild(<span class="reserved">this</span>.divResizeHandle);
		
		<span class="reserved">this</span>.divStatusBarTxt = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divStatusBarTxt.className = <span class="literal">'DHTMLSuite_windowStatusBarText'</span>;
		<span class="reserved">this</span>.divStatusBar.appendChild(<span class="reserved">this</span>.divStatusBarTxt);		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateTitleBar()</span>
    <span class="comment">/**
     * Populate title bar
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__populateTitleBar : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElementTitle_txt.innerHTML = <span class="reserved">this</span>.windowModel.__getTitle();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateTitleBar()</span>
    <span class="comment">/**
     * The purpose of this method is to initally populate content area with tab contents
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__initiallyPopulateContentArea : <span class="reserved">function</span>()
	{
		var contentObjects = <span class="reserved">this</span>.windowModel.__getContentObjects();	<span class="comment">// Get an array of content objects</span>
		<span class="reserved">for</span>(var no=0;no&lt;contentObjects.length;no++){
			<span class="reserved">this</span>.__createContentForATab(contentObjects[no]);
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createContentForATab()</span>
    <span class="comment">/**
     * Create or move div for a new tab.
     *
     *	<span class="attrib">@param</span> Object contentObj - object of class windowTabModel
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__createContentForATab : <span class="reserved">function</span>(contentObj)
	{
		<span class="reserved">if</span>(contentObj.htmlElementId){
			<span class="reserved">if</span>(document.getElementById(contentObj.htmlElementId)){
				<span class="reserved">this</span>.contentDivs[contentObj.id] = document.getElementById(contentObj.htmlElementId);										
			}<span class="reserved">else</span>{
				<span class="reserved">this</span>.contentDivs[contentObj.id] = document.createElement(<span class="literal">'DIV'</span>);
				<span class="reserved">this</span>.contentDivs[contentObj.id].id = contentObj.htmlElementId;
			}	
			<span class="reserved">this</span>.divElContent.appendChild(<span class="reserved">this</span>.contentDivs[contentObj.id]);			
		}	
		<span class="reserved">if</span>(contentObj.contentUrl){
			<span class="reserved">this</span>.loadContent(contentObj.id,contentObj.contentUrl);
		}		
		<span class="reserved">if</span>(contentObj.textContent){
			<span class="reserved">this</span>.contentDivs[contentObj.id].innerHTML = contentObj.textContent;
		}	
		<span class="reserved">this</span>.contentDivs[contentObj.id].className = <span class="literal">'DHTMLSuite_windowContentInner'</span>;
		<span class="reserved">this</span>.contentDivs[contentObj.id].style.display=<span class="literal">'none'</span>;		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getActiveContentElement()</span>
    <span class="comment">/**
     * Returns a reference to active content element
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getActiveContentElement : <span class="reserved">function</span>()
	{
		var contentObjects = <span class="reserved">this</span>.windowModel.__getContentObjects();	<span class="comment">// Get an array of content objects</span>
		<span class="reserved">for</span>(var no=0;no&lt;contentObjects.length;no++){
			<span class="reserved">if</span>(contentObjects[no].id==<span class="reserved">this</span>.windowModel.activeTabId){
				<span class="reserved">return</span> <span class="reserved">this</span>.contentDivs[contentObjects[no].id];
			}	
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateTitleBar()</span>
    <span class="comment">/**
     * The purpose of this method is to display active content div
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__displayActiveContent : <span class="reserved">function</span>()
	{
		var contentObjects = <span class="reserved">this</span>.windowModel.__getContentObjects();	<span class="comment">// Get an array of content objects</span>
		<span class="reserved">for</span>(var no=0;no&lt;contentObjects.length;no++){
			<span class="reserved">if</span>(contentObjects[no].id==<span class="reserved">this</span>.windowModel.activeTabId){
				<span class="reserved">this</span>.contentDivs[contentObjects[no].id].style.display=<span class="literal">'block'</span>;
				<span class="reserved">if</span>(<span class="reserved">this</span>.scrollPositions[contentObjects[no].id]){
					<span class="reserved">this</span>.contentDivs[contentObjects[no].id].parentNode.scrollTop = <span class="reserved">this</span>.scrollPositions[contentObjects[no].id];					
				}
				try{
					<span class="reserved">this</span>.divElContent.style.overflow = contentObjects[no].overflow;
				}catch(e){
				}
			}<span class="reserved">else</span>{
				<span class="reserved">this</span>.contentDivs[contentObjects[no].id].style.display=<span class="literal">'none'</span>;	
			}		
		}			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateTabRow()</span>
    <span class="comment">/**
     * The purpose of this method is to create the clickable tabs in the tab row. Finally, it calls the __setLayoutOfTabs which takes care of the styling based on active and inactive tabs
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__populateTabRow : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">this</span>.divElementTabRow.innerHTML = <span class="literal">''</span>;	<span class="comment">// Clear existing content from the tab row	</span>
		var contentObjects = <span class="reserved">this</span>.windowModel.__getContentObjects();	<span class="comment">// Get an array of content objects</span>
		
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){
			var table = document.createElement(<span class="literal">'&lt;TABLE cellpadding="0" cellspacing="0" border="0"&gt;'</span>);
		}<span class="reserved">else</span>{
			var table = document.createElement(<span class="literal">'TABLE'</span>);
			table.setAttribute(<span class="literal">'cellpadding'</span>,0);
			table.setAttribute(<span class="literal">'cellspacing'</span>,0);
			table.setAttribute(<span class="literal">'border'</span>,0);
		}
		
		<span class="reserved">this</span>.divElementTabRow.appendChild(table);
		var tbody = document.createElement(<span class="literal">'TBODY'</span>);
		table.appendChild(tbody);
		var row = tbody.insertRow(0);
		<span class="reserved">for</span>(var no=0;no&lt;contentObjects.length;no++){
			<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.__getIsDeleted(contentObjects[no].id)){
				var cell = row.insertCell(-1);
				cell.className = <span class="literal">'DHTMLSuite_windowATab'</span>;
				cell.id = <span class="literal">'windowTab_'</span> + contentObjects[no].id;
				cell.setAttribute(<span class="literal">'contentId'</span>,contentObjects[no].id);
				cell.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__activateTabByClick(e); };
				DHTMLSuite.commonObj.__addEventEl(cell);	
				var innerDiv = document.createElement(<span class="literal">'DIV'</span>);
				innerDiv.className = <span class="literal">'DHTMLSuite_windowATabInnerDiv'</span>;
				innerDiv.innerHTML = contentObjects[no].tabTitle;
				cell.appendChild(innerDiv);
			}
		}
		
		<span class="reserved">this</span>.__setLayoutOfTabs();
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearActiveAndInactiveStylingFromTabs()</span>
    <span class="comment">/**
     * The purpose of this method is to clear added css classes from active and inactive tabs.
     *
     * <span class="attrib">@private</span>	
     */</span>	
	__clearActiveAndInactiveStylingFromTabs : <span class="reserved">function</span>()
	{
		var cells = <span class="reserved">this</span>.divElementTabRow.getElementsByTagName(<span class="literal">'TD'</span>);	<span class="comment">// Get an array of &lt;td&gt; elements.</span>
		var divs = <span class="reserved">this</span>.divElementTabRow.getElementsByTagName(<span class="literal">'DIV'</span>);	<span class="comment">// Get an array of &lt;td&gt; elements.</span>
		<span class="reserved">for</span>(var no=0;no&lt;cells.length;no++){
			cells[no].className = cells[no].className.replace(<span class="literal">'DHTMLSuite_windowActiveTabCell'</span>,<span class="literal">''</span>);
			cells[no].className = cells[no].className.replace(<span class="literal">'DHTMLSuite_windowInactiveTabCell'</span>,<span class="literal">''</span>);		
			cells[no].style.left = <span class="literal">'0px'</span>;	
		}		
		<span class="reserved">for</span>(var no=0;no&lt;divs.length;no++){
			divs[no].className = divs[no].className.replace(<span class="literal">' DHTMLSuite_windowActiveTabCellContent'</span>,<span class="literal">''</span>);
			divs[no].className = divs[no].className.replace(<span class="literal">' DHTMLSuite_windowInactiveTabCellContent'</span>,<span class="literal">''</span>);			
		}		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clearActiveAndInactiveStylingFromTabs()</span>
    <span class="comment">/**
     * The purpose of this method is to set layout of active and inactive tabs in the tab row and also adjust the left position of each tab so that they overlap each other nicely
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setLayoutOfTabs : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__clearActiveAndInactiveStylingFromTabs();	<span class="comment">// Clear layout of tab</span>
		
		var cells = <span class="reserved">this</span>.divElementTabRow.getElementsByTagName(<span class="literal">'TD'</span>);	<span class="comment">// Get an array of &lt;td&gt; elements.</span>
		var contentObjects = <span class="reserved">this</span>.windowModel.__getContentObjects();	<span class="comment">// Get an array of content objects</span>
		
		var activeTabIndex = 0;
		
		<span class="reserved">for</span>(var no=0;no&lt;cells.length;no++){
			<span class="reserved">if</span>(cells[no].id==<span class="literal">'windowTab_'</span> + <span class="reserved">this</span>.windowModel.activeTabId){
				activeTabIndex = no;
				break;
			}			
		}		
		var leftPadding = 0;
		<span class="reserved">if</span>(activeTabIndex&gt;0){
			leftPadding = -7;	
		}
		cells[0].style.zIndex = 1;
		<span class="reserved">for</span>(var no=1;no&lt;activeTabIndex;no++){
			cells[no].style.left = leftPadding +<span class="literal">'px'</span>;
			cells[no].style.zIndex = no+1;
			leftPadding-=7;			
	
		}

		
		<span class="reserved">for</span>(var no=activeTabIndex;no&lt;cells.length;no++){
			cells[no].style.left = leftPadding +<span class="literal">'px'</span>;
			cells[no].style.zIndex = 100-no;
			leftPadding-=7;
		}
		
		cells[activeTabIndex].style.zIndex=200;

		
		<span class="reserved">for</span>(var no=0;no&lt;cells.length;no++){
			var div = cells[no].getElementsByTagName(<span class="literal">'DIV'</span>)[0];
			<span class="reserved">if</span>(no==activeTabIndex){
				cells[no].className = cells[no].className + <span class="literal">' DHTMLSuite_windowActiveTabCell'</span>;
				div.className = div.className + <span class="literal">' DHTMLSuite_windowActiveTabCellContent'</span>;
			}<span class="reserved">else</span>{
				cells[no].className = cells[no].className + <span class="literal">' DHTMLSuite_windowInactiveTabCell'</span>;	
				div.className = div.className + <span class="literal">' DHTMLSuite_windowInactiveTabCellContent'</span>;
			}
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setSizeOfDivElements()</span>
    <span class="comment">/**
     * Set size of content area relative to window size.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__setSizeOfDivElements : <span class="reserved">function</span>()
	{
		try{
			<span class="reserved">this</span>.divElContent.style.height = (<span class="reserved">this</span>.divElement.clientHeight - (<span class="reserved">this</span>.divTitleBar.offsetHeight + <span class="reserved">this</span>.divStatusBar.offsetHeight + <span class="reserved">this</span>.divElementTabRow.offsetHeight + <span class="reserved">this</span>.layoutOffsetHeightForTheStatusBar)) + <span class="literal">'px'</span>;
			<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; DHTMLSuite.clientInfoObj.navigatorVersion&lt;7){
				<span class="reserved">this</span>.divElContent.style.width = <span class="reserved">this</span>.divStatusBar.clientWidth + <span class="literal">'px'</span>;
			}
		}catch(e){
			<span class="reserved">this</span>.divElContent.style.height = <span class="literal">'1px'</span>;
		}
		
		try{
			<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.__getState()==<span class="literal">'minimized'</span>)<span class="reserved">this</span>.divElement.style.height = (<span class="reserved">this</span>.divTitleBar.offsetHeight + <span class="reserved">this</span>.divElementTabRow.offsetHeight + <span class="reserved">this</span>.divStatusBar.offsetHeight) + <span class="literal">'px'</span>;
		}catch(e)
		{
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __activateTabByClick()</span>
    <span class="comment">/**
     * Click on tab
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__activateTabByClick : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);	
		<span class="reserved">if</span>(src.tagName.toLowerCase()==<span class="literal">'div'</span>)src = src.parentNode;
		var idOfContent = src.getAttribute(<span class="literal">'contentId'</span>);
		<span class="reserved">this</span>.activateTab(idOfContent);
		<span class="reserved">this</span>.__handleCallback(<span class="literal">'onTabSwitch'</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateWindowModel()</span>
    <span class="comment">/**
     * Update window model after resize, drag etc.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__updateWindowModel : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowModel.__setWidth(<span class="reserved">this</span>.divElement.style.width.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1);
		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.__getState()!=<span class="literal">'minimized'</span>)<span class="reserved">this</span>.windowModel.__setHeight(<span class="reserved">this</span>.divElement.style.height.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1);
		<span class="reserved">this</span>.windowModel.__setXPos(<span class="reserved">this</span>.divElement.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1);
		<span class="reserved">this</span>.windowModel.__setYPos(<span class="reserved">this</span>.divElement.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1);	
		<span class="reserved">this</span>.windowModel.__setZIndex(<span class="reserved">this</span>.divElement.style.zIndex);	
		<span class="reserved">this</span>.__saveCookie();
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __saveCookie()</span>
    <span class="comment">/**
     * The purpose of this function is to save cookies 
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__saveCookie : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.cookieName)<span class="reserved">return</span>;
		var cookieValue = <span class="literal">'width:'</span> + <span class="reserved">this</span>.windowModel.__getWidth();
		cookieValue+=<span class="literal">',height:'</span> + <span class="reserved">this</span>.windowModel.__getHeight();
		
		cookieValue+=<span class="literal">',xPos:'</span> + <span class="reserved">this</span>.windowModel.__getXPos();
		cookieValue+=<span class="literal">',yPos:'</span> + <span class="reserved">this</span>.windowModel.__getYPos();
		cookieValue+=<span class="literal">',zIndex:'</span> + <span class="reserved">this</span>.divElement.style.zIndex;
		cookieValue+=<span class="literal">',activeTabId:'</span> + <span class="reserved">this</span>.windowModel.__getActiveTabId();
		cookieValue+=<span class="literal">',state:'</span> + <span class="reserved">this</span>.windowModel.__getState();
		DHTMLSuite.commonObj.setCookie(<span class="reserved">this</span>.windowModel.cookieName,cookieValue,500);	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getWindowPropertiesFromCookie()</span>
    <span class="comment">/**
     * Get window properties from cookie
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getWindowPropertiesFromCookie : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.cookieName)<span class="reserved">return</span>;	
		var cookieValue = DHTMLSuite.commonObj.getCookie(<span class="reserved">this</span>.windowModel.cookieName);
		var propertyArray = DHTMLSuite.commonObj.getAssociativeArrayFromString(cookieValue);
		<span class="reserved">if</span>(!propertyArray)<span class="reserved">return</span>;
		<span class="reserved">if</span>(propertyArray.width)<span class="reserved">this</span>.windowModel.__setWidth(propertyArray.width);
		<span class="reserved">if</span>(propertyArray.height)<span class="reserved">this</span>.windowModel.__setHeight(propertyArray.height);
		<span class="reserved">if</span>(propertyArray.xPos)<span class="reserved">this</span>.windowModel.__setXPos(propertyArray.xPos);
		<span class="reserved">if</span>(propertyArray.yPos)<span class="reserved">this</span>.windowModel.__setYPos(propertyArray.yPos);
		<span class="reserved">if</span>(propertyArray.zIndex)<span class="reserved">this</span>.windowModel.__setZIndex(propertyArray.zIndex);
		<span class="reserved">if</span>(propertyArray.state)<span class="reserved">this</span>.windowModel.__setState(propertyArray.state);
		<span class="reserved">if</span>(propertyArray.activeTabId)<span class="reserved">this</span>.windowModel.__setActiveTabId(propertyArray.activeTabId);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initiallySetPositionAndSizeOfWindow()</span>
    <span class="comment">/**
     * Set initial size and position of window.
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__initiallySetPositionAndSizeOfWindow : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElement.style.position=<span class="literal">'absolute'</span>;
			
		var width = <span class="reserved">this</span>.windowModel.__getWidth();
		var height = <span class="reserved">this</span>.windowModel.__getHeight();
		var xPos = <span class="reserved">this</span>.windowModel.__getXPos();
		var yPos = <span class="reserved">this</span>.windowModel.__getYPos();
		var zIndex = <span class="reserved">this</span>.windowModel.__getZIndex();
		var state = <span class="reserved">this</span>.windowModel.__getState();
		<span class="reserved">if</span>(width &amp;&amp; width!=<span class="literal">'0'</span>)<span class="reserved">this</span>.divElement.style.width = width + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(height &amp;&amp; height!=<span class="literal">'0'</span>)<span class="reserved">this</span>.divElement.style.height = height + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(xPos)<span class="reserved">this</span>.divElement.style.left = xPos + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(yPos)<span class="reserved">this</span>.divElement.style.top = yPos + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(zIndex)<span class="reserved">this</span>.divElement.style.zIndex = zIndex;
		<span class="reserved">if</span>(state &amp;&amp; state==<span class="literal">'minimized'</span>)<span class="reserved">this</span>.minimizeWindow();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initiallySetPositionAndSizeOfWindow()</span>
    <span class="comment">/**
     * The purpose of this method is to figure out which tab was clicked an call the deleteTab method with the id of that tab as only argument
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__deleteTabByClick : <span class="reserved">function</span>()
	{		
		<span class="comment">// NOT YET IMPLEMENTED</span>
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __makeWindowResizable()</span>
    <span class="comment">/**
     * The purpose of this method is to make the window resizable
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__makeWindowResizable : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.windowModel.isResizable){
			<span class="reserved">this</span>.divResizeHandle.style.visibility=<span class="literal">'hidden'</span>;
			<span class="reserved">return</span>;
		}
		var ind = <span class="reserved">this</span>.objectIndex;
		try{
			<span class="reserved">this</span>.resizeObj = new DHTMLSuite.resize({ minWidth:<span class="reserved">this</span>.windowModel.minWidth,minHeight:<span class="reserved">this</span>.windowModel.minHeight,maxWidth:<span class="reserved">this</span>.windowModel.maxWidth,maxHeight:<span class="reserved">this</span>.windowModel.maxHeight } );
		}catch(e){
			alert(<span class="literal">'You need to include dhtmlSuite-resize.js'</span>);
		}
		<span class="reserved">this</span>.resizeObj.setElementRoResize(<span class="reserved">this</span>.divElement);
		<span class="reserved">this</span>.resizeObj.addResizeHandle(<span class="reserved">this</span>.divResizeHandle,<span class="literal">'southeast'</span>);
		<span class="reserved">this</span>.resizeObj.setCallbackOnBeforeResize(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__isOkToResize'</span>);
		<span class="reserved">this</span>.resizeObj.setCallbackOnAfterResize(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__updateWindowModel'</span>);
		<span class="reserved">this</span>.resizeObj.setCallbackOnDuringResize(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__setSizeOfDivElements'</span>);
		<span class="reserved">this</span>.resizeObj.init();		
		
		<span class="reserved">this</span>.divStatusBarTxt.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
		<span class="reserved">this</span>.divStatusBar.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
		
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divStatusBarTxt);
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divStatusBar);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __isOkToResize()</span>
    <span class="comment">/**
     * The purpose of this method is to return true or false if it's ok to resize the window(true if it's maximized, false if it's minimized)
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__isOkToResize : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.__getState()==<span class="literal">'minimized'</span>)<span class="reserved">return</span> false;
		<span class="reserved">return</span> true;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __makeWindowDragable()</span>
    <span class="comment">/**
     * Make window dragable if that option is true
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__makeWindowDragable : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.isDragable){	<span class="comment">// Add drag and drop features to the window.</span>
			try{
				<span class="reserved">this</span>.referenceToDragDropObject = new DHTMLSuite.dragDropSimple({ elementReference: <span class="reserved">this</span>.divElement,cloneNode : false });	
			}catch(e){
				alert(<span class="literal">'You need to include dhtmlSuite-dragDropSimple.js'</span>);
			}
			<span class="reserved">this</span>.referenceToDragDropObject.setCallbackOnAfterDrag(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__updateWindowModel'</span>);			
			<span class="reserved">this</span>.referenceToDragDropObject.setCallbackOnBeforeDrag(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__updateWindowModel'</span>);			
			<span class="reserved">this</span>.referenceToDragDropObject.addDragHandle(<span class="reserved">this</span>.divTitleBar);
			<span class="reserved">this</span>.divTitleBar.style.cursor = <span class="literal">'move'</span>;
			<span class="reserved">this</span>.referenceToDragDropObject.__setNewCurrentZIndex(<span class="reserved">this</span>.windowModel.__getZIndex());					
		}					
	}
	<span class="comment">// }}}		</span>
	,
	<span class="comment">// {{{ deleteWindow()</span>
    <span class="comment">/**
     * Delete window, i.e. hide it
     *	<span class="attrib">@deprecated</span> - use the close() method insetad
     *
     * <span class="attrib">@private</span>	
     */</span>		
	deleteWindow : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.close();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ close()</span>
    <span class="comment">/**
     * Closes window, i.e. hide it
     *
     * <span class="attrib">@public</span>	
     */</span>		
	close : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowModel.isVisible = true;
		<span class="reserved">this</span>.divElement.style.visibility=<span class="literal">'hidden'</span>;
		<span class="reserved">this</span>.divElement.style.display=<span class="literal">'none'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeEl)<span class="reserved">this</span>.iframeEl.style.visibility=<span class="literal">'hidden'</span>;	
		<span class="reserved">this</span>.__handleCallback(<span class="literal">'onClose'</span>);			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ purge()</span>
    <span class="comment">/**
     * Removes the HTML for the windows from the DOM, i.e. the view.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	purge : <span class="reserved">function</span>()
	{
		DHTMLSuite.discardElement(<span class="reserved">this</span>.divElement);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getDivElement()</span>
    <span class="comment">/**
     * Return main div element for this widget.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	getDivElement : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.divElement;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ restoreWindow()</span>
    <span class="comment">/**
     * Restore a deleted window, i.e. show it.
     *
     *	<span class="attrib">@deprecated</span> - use show() instead.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	restoreWindow : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.show();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     * Execute callback action
     *
     *	<span class="attrib">@param</span> String action - Callback action
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">"onClose"</span>:
				callbackString = <span class="reserved">this</span>.windowModel.callbackOnClose;
				break;	
			case <span class="literal">"onTabSwitch"</span>:
				callbackString = <span class="reserved">this</span>.windowModel.callbackOnTabSwitch;
				break;			
		}
		<span class="reserved">if</span>(callbackString){
			var ind = <span class="reserved">this</span>.objectIndex;
			callbackString = callbackString + <span class="literal">'(DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'])'</span>;
			<span class="reserved">return</span> eval(callbackString);			
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ minimizeWindow()</span>
    <span class="comment">/**
     * Minimize a window
     *
     * <span class="attrib">@public</span>	
     */</span>		
	minimizeWindow : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowModel.__setState(<span class="literal">'minimized'</span>);
		
		<span class="reserved">this</span>.divElContent.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divStatusBar.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElementTabRow.style.display=<span class="literal">'none'</span>;
		
		<span class="reserved">this</span>.divMinimizeButton.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divMaximizeButton.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.__setSizeOfDivElements();
		<span class="reserved">this</span>.__saveCookie();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ maximizeWindow()</span>
    <span class="comment">/**
     * maximize a window
     *
     * <span class="attrib">@public</span>	
     */</span>		
	maximizeWindow : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowModel.__setState(<span class="literal">'maximized'</span>);
		<span class="reserved">this</span>.divElContent.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.divStatusBar.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.divElementTabRow.style.display=<span class="literal">'block'</span>;		
		<span class="reserved">this</span>.divMinimizeButton.style.display=<span class="literal">'block'</span>;
		<span class="reserved">this</span>.divMaximizeButton.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.divElement.style.height = <span class="reserved">this</span>.windowModel.__getHeight() + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.__setSizeOfDivElements();
		<span class="reserved">this</span>.__saveCookie();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ slideWindowToXAndY()</span>
    <span class="comment">/**
     * Slide a window to a specific coordinate
     *
     *	Int toX - Slide to (x-coordinate in pixels)
     *	Int toY - Slide to (y-coordinate in pixels)
     *
     * <span class="attrib">@public</span>	
     */</span>			
	slideWindowToXAndY : <span class="reserved">function</span>(toX,toY)
	{
		var slideFactors = <span class="reserved">this</span>.__getSlideFactors(toX,toY);
		var slideDirections = <span class="reserved">this</span>.__getSlideDirections(toX,toY);
		var slideTo = new Object();
		slideTo.x = toX;
		slideTo.y = toY;
		var currentPos = new Object();
		currentPos.x = <span class="reserved">this</span>.windowModel.__getXPos();
		currentPos.y = <span class="reserved">this</span>.windowModel.__getYPos();
		<span class="reserved">if</span>(currentPos.x==slideTo.x &amp;&amp; currentPos.y==slideTo.y)<span class="reserved">return</span>;
		<span class="reserved">this</span>.__performSlide(slideTo,currentPos,slideFactors,slideDirections);				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __performSlide()</span>
    <span class="comment">/**
     * Execute slide process
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__performSlide : <span class="reserved">function</span>(slideTo,currentPos,slideFactors,slideDirections)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		currentPos.x = currentPos.x/1 + (<span class="reserved">this</span>.slideSpeed * slideFactors.y * slideDirections.x);
		currentPos.y = currentPos.y/1 + (<span class="reserved">this</span>.slideSpeed * slideFactors.x * slideDirections.y);
		
		repeatSlide = false;
		
		<span class="reserved">if</span>(slideDirections.x&lt;0){
			<span class="reserved">if</span>(currentPos.x&lt;=slideTo.x){
				currentPos.x = slideTo.x;
			}<span class="reserved">else</span>{
				repeatSlide=true;
			}
		}<span class="reserved">else</span>{
			<span class="reserved">if</span>(currentPos.x&gt;=slideTo.x){
				currentPos.x = slideTo.x;
			}<span class="reserved">else</span>{
				repeatSlide=true;
			}
		}
		<span class="reserved">if</span>(slideDirections.y&lt;0){
			<span class="reserved">if</span>(currentPos.y&lt;=slideTo.y){
				currentPos.y = slideTo.y;
			}<span class="reserved">else</span>{
				repeatSlide=true;
			}
		}<span class="reserved">else</span>{
			<span class="reserved">if</span>(currentPos.y&gt;=slideTo.y){
				currentPos.y = slideTo.y;
			}<span class="reserved">else</span>{
				repeatSlide=true;
			}
		}
		
		<span class="reserved">this</span>.divElement.style.left = Math.round(currentPos.x) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElement.style.top = Math.round(currentPos.y) + <span class="literal">'px'</span>;

		<span class="comment">//alert('DHTMLSuite.variableStorage.arrayDSObjects[' + ind + '].__performSlide({x:' + slideTo.x + ',y:' + slideTo.y + '},{x:' + currentPos.x + ',y:' + currentPos.y + '},{x:' + slideFactors + ',y:' + slideFactors.y + '},{ x:' + slideDirections.x + ',y:' + slideDirections.y + '})');</span>
		<span class="reserved">if</span>(repeatSlide){
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__performSlide({x:'</span> + slideTo.x + <span class="literal">',y:'</span> + slideTo.y + <span class="literal">'},{x:'</span> + currentPos.x + <span class="literal">',y:'</span> + currentPos.y + <span class="literal">'},{x:'</span> + slideFactors.x + <span class="literal">',y:'</span> + slideFactors.y + <span class="literal">'},{ x:'</span> + slideDirections.x + <span class="literal">',y:'</span> + slideDirections.y + <span class="literal">'})'</span>,10); 
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.__updateWindowModel();	
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getSlideFactors()</span>
    <span class="comment">/**
     * Return slide factor (x relative to y)
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getSlideFactors : <span class="reserved">function</span>(toX,toY)
	{
		var retArray = new Object();
		
		var currentX = <span class="reserved">this</span>.windowModel.__getXPos();
		var currentY = <span class="reserved">this</span>.windowModel.__getYPos();
		
		var distance_x = Math.abs(toX-currentX);
		var distance_y = Math.abs(toY-currentY);
		
		<span class="reserved">if</span>(distance_x&lt;distance_y){
			retArray.x = distance_y/distance_x;
			retArray.y = 1;			
		}<span class="reserved">else</span>{
			retArray.y = distance_x/distance_y;
			retArray.x = 1;					
		}
		<span class="reserved">return</span> retArray;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getSlideDirections()</span>
    <span class="comment">/**
     * Return slide directions for the x and y axis( returns an associative array for x and y. value will be -1 or 1)
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__getSlideDirections : <span class="reserved">function</span>(toX,toY)
	{
		var retArray = new Object();
		<span class="reserved">if</span>(toX&lt;<span class="reserved">this</span>.windowModel.__getXPos())retArray.x = -1; <span class="reserved">else</span> retArray.x = 1;
		<span class="reserved">if</span>(toY&lt;<span class="reserved">this</span>.windowModel.__getYPos())retArray.y = -1; <span class="reserved">else</span> retArray.y = 1;
		<span class="reserved">return</span> retArray;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __showHideButtonElements()</span>
    <span class="comment">/**
     * Show or hide button elements
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__showHideButtonElements : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.windowModel.isClosable)<span class="reserved">this</span>.divCloseButton.style.display=<span class="literal">'block'</span>; <span class="reserved">else</span> <span class="reserved">this</span>.divCloseButton.style.display=<span class="literal">'none'</span>;	
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoverButton()</span>
    <span class="comment">/**
     * Mouse over effect - buttons
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoverCloseButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_windowCloseButtonOver'</span>;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutButton()</span>
    <span class="comment">/**
     * Mouse out effect - buttons
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutCloseButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_windowCloseButtonOver'</span>,<span class="literal">''</span>);	
	}
	,
	<span class="comment">// {{{ __mouseoverButton()</span>
    <span class="comment">/**
     * Mouse over effect - buttons
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoverMinimizeButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_windowMinimizeButtonOver'</span>;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutButton()</span>
    <span class="comment">/**
     * Mouse out effect - buttons
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutMinimizeButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_windowMinimizeButtonOver'</span>,<span class="literal">''</span>);	
	}
	,
	<span class="comment">// {{{ __mouseoverButton()</span>
    <span class="comment">/**
     * Mouse over effect - buttons
     *
     * <span class="attrib">@private</span>	
     */</span>			
	__mouseoverMaximizeButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className + <span class="literal">' DHTMLSuite_windowMaximizeButtonOver'</span>;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __mouseoutButton()</span>
    <span class="comment">/**
     * Mouse out effect - buttons
     *
     * <span class="attrib">@private</span>	
     */</span>		
	__mouseoutMaximizeButton : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.className = <span class="reserved">this</span>.className.replace(<span class="literal">' DHTMLSuite_windowMaximizeButtonOver'</span>,<span class="literal">''</span>);	
	}
	
}

DHTMLSuite.windowCollection = <span class="reserved">function</span>()
{
	var windowWidgets;	
	var spaceBetweenEachWindowWhenCascaded;
	var numberOfColumnsWhenTiled;
	var divWindowsArea;							<span class="comment">// Eventual div where the windows should be positioned</span>
	<span class="reserved">this</span>.windowWidgets = new Array();
	<span class="reserved">this</span>.spaceBetweenEachWindowWhenCascaded = 20;
	<span class="reserved">this</span>.numberOfColumnsWhenTiled = 2;
	
}

DHTMLSuite.windowCollection.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addWindow()</span>
    <span class="comment">/**
     * Add a window to a window collection
     *	<span class="attrib">@param</span> Object wnidowWidgetReference - object of class DHTMLSuite.windowWidget
     *
     * <span class="attrib">@public</span>	
     */</span>			
	addWindow : <span class="reserved">function</span>(windowWidgetReference)	
	{
		<span class="reserved">this</span>.windowWidgets[<span class="reserved">this</span>.windowWidgets.length] = windowWidgetReference;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ tile()</span>
    <span class="comment">/**
     * Tile all windows in collection.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	tile : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowWidgets = <span class="reserved">this</span>.windowWidgets.sort(<span class="reserved">this</span>.__sortItems);
		var browserWidth = DHTMLSuite.clientInfoObj.getBrowserWidth()-20;
		var browserHeight = DHTMLSuite.clientInfoObj.getBrowserHeight()-20;
		
		var offsetX = 10;
		var offsetY = 10;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.divWindowsArea){
			browserWidth = <span class="reserved">this</span>.divWindowsArea.clientWidth;
			browserHeight = <span class="reserved">this</span>.divWindowsArea .clientHeight;
			offsetX = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divWindowsArea);
			offsetY = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divWindowsArea);
		}
				
		var windowWidth = Math.floor(browserWidth/<span class="reserved">this</span>.numberOfColumnsWhenTiled);
		var windowHeight = Math.floor(browserHeight / Math.ceil(<span class="reserved">this</span>.windowWidgets.length / <span class="reserved">this</span>.numberOfColumnsWhenTiled));
		

		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowWidgets.length;no++){
			<span class="reserved">this</span>.windowWidgets[no].setWidthOfWindow(windowWidth);
			<span class="reserved">this</span>.windowWidgets[no].setHeightOfWindow(windowHeight-5);
			var xPos = offsetX + (windowWidth * (no % <span class="reserved">this</span>.numberOfColumnsWhenTiled));
			var yPos = offsetY + (windowHeight * Math.floor((no) / <span class="reserved">this</span>.numberOfColumnsWhenTiled));
			<span class="reserved">this</span>.windowWidgets[no].slideWindowToXAndY(xPos,yPos);
			
		}			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ cascade()</span>
    <span class="comment">/**
     * Cascade all windows in collection.
     *
     * <span class="attrib">@public</span>	
     */</span>	
	cascade : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.windowWidgets = <span class="reserved">this</span>.windowWidgets.sort(<span class="reserved">this</span>.__sortItems);
		var browserWidth = DHTMLSuite.clientInfoObj.getBrowserWidth() - 50;
		var browserHeight = DHTMLSuite.clientInfoObj.getBrowserHeight() - 50;
		
		var offsetX = 10;
		var offsetY = 10;		
		<span class="reserved">if</span>(<span class="reserved">this</span>.divWindowsArea){
			browserWidth = <span class="reserved">this</span>.divWindowsArea.clientWidth;
			browserHeight = <span class="reserved">this</span>.divWindowsArea .clientHeight;
			offsetX = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divWindowsArea);
			offsetY = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divWindowsArea);
		}
		
		var windowWidth = browserWidth - ((<span class="reserved">this</span>.windowWidgets.length-1) * <span class="reserved">this</span>.spaceBetweenEachWindowWhenCascaded);
		var windowHeight = browserHeight - ((<span class="reserved">this</span>.windowWidgets.length-1) * <span class="reserved">this</span>.spaceBetweenEachWindowWhenCascaded);
		
		
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowWidgets.length;no++){
			<span class="reserved">this</span>.windowWidgets[no].setWidthOfWindow(windowWidth);
			<span class="reserved">this</span>.windowWidgets[no].setHeightOfWindow(windowHeight);
			<span class="reserved">this</span>.windowWidgets[no].slideWindowToXAndY(offsetX + <span class="reserved">this</span>.spaceBetweenEachWindowWhenCascaded*(no),offsetY + <span class="reserved">this</span>.spaceBetweenEachWindowWhenCascaded*(no));
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ minimize()</span>
    <span class="comment">/**
     * Minimize all windows in the collection
     *
     * <span class="attrib">@public</span>	
     */</span>		
	minimize : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowWidgets.length;no++){
			<span class="reserved">this</span>.windowWidgets[no].minimizeWindow();
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ maximize()</span>
    <span class="comment">/**
     * maximize all windows in the collection
     *
     * <span class="attrib">@public</span>	
     */</span>		
	maximize : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.windowWidgets.length;no++){
			<span class="reserved">this</span>.windowWidgets[no].maximizeWindow();
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setNumberOfColumnsWhenTiled()</span>
    <span class="comment">/**
     * Number of columns in "tile" mode
     *	<span class="attrib">@param</span> Integer - number of columns ( default = 1 )
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setNumberOfColumnsWhenTiled : <span class="reserved">function</span>(numberOfColumnsWhenTiled)
	{
		<span class="reserved">this</span>.numberOfColumnsWhenTiled = numberOfColumnsWhenTiled;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setDivWindowsArea()</span>
    <span class="comment">/**
     * Specify a HTML element where windows will be tiled or cascaded on, i.e. The windows will not go outside the boundaries of these elements when they are being cascaded or tiled.
     *	<span class="attrib">@param</span> Object divWindowsArea - Id or direct reference to HTML element on your page.
     *
     * <span class="attrib">@public</span>	
     */</span>		
	setDivWindowsArea : <span class="reserved">function</span>(divWindowsArea)
	{
		divWindowsArea = DHTMLSuite.commonObj.getEl(divWindowsArea);
		<span class="reserved">this</span>.divWindowsArea = divWindowsArea;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __sortItems()</span>
    <span class="comment">/**
     *	Private sort method used to sort window widgets.
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__sortItems : <span class="reserved">function</span>(a,b)
	{
		<span class="reserved">return</span> a.windowModel.__getZIndex()/1-b.windowModel.__getZIndex()/1;
	}	
	
	
}

<span class="comment">/*[FILE_START:dhtmlSuite-resize.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML window scripts
*
*	Created:						January, 27th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Resize element widget
*			
*	Css files used by this script:	
*
*	Demos of this class:			demo-resize-1.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Resize widget
*		
* <span class="attrib">@param</span> Array - Associative array of resize properties(possible keys: minWidth,maxWidth,minHeight,maxHeight,preserveRatio,callbackOnBeforeResize,callbackOnAfterResize,callbackOnDuringResize,resizeInWhichDirections)
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>
DHTMLSuite.resize = <span class="reserved">function</span>(propertyArray)
{
	var resizeWhichElement;
	var resizeHandles;

	<span class="reserved">this</span>.resizeHandles = new Array();
	var preserveRatio;
	var minWidth;
	var maxWidth;
	var minHeight;
	var maxHeight;
	var callbackOnBeforeResize;
	var callbackOnAfterResize;
	var callbackOnDuringResize;
	var resizeTimer;
	var resizeInWhichDirections;
	var resizeHandleelativePath;
	var objectIndex;
	
	var mouseStartPos;					<span class="comment">// Position of mouse pointer when the resize process starts</span>
	var initElementSize;
	var currentResizeDirection;			<span class="comment">// In which direction are we currently resizing the element(example: "west","east","southeast")</span>
	var classNameOfResizeHandles;		<span class="comment">// Class name of resize handles, in case they are created dynamically</span>
	var layoutCSS;
	var resizeHandlerOffsetInPixels;
	var elementToResizeIsAbsolutePositioned;
	var sizeOfWidthRelativeToHeight;
	
	
	<span class="reserved">this</span>.minWidth = 0;
	<span class="reserved">this</span>.minHeight = 0;
	<span class="reserved">this</span>.maxWidth = 150000;
	<span class="reserved">this</span>.maxHeight = 150000;
	<span class="reserved">this</span>.classNameOfResizeHandles = <span class="literal">'DHTMLSuite_resize_handle'</span>;
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'resize.css'</span>;
	<span class="reserved">this</span>.resizeHandleelativePath = <span class="literal">'resize/small_square.gif'</span>;
	<span class="reserved">this</span>.resizeTimer = -1;
	<span class="reserved">this</span>.mouseStartPos = new Object();
	<span class="reserved">this</span>.initElementSize = new Object();
	<span class="reserved">this</span>.resizeHandlerOffsetInPixels = 4;
	<span class="reserved">this</span>.elementToResizeIsAbsolutePositioned = false;
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	
	<span class="reserved">if</span>(propertyArray)<span class="reserved">this</span>.__setInitProps(propertyArray);
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
}
DHTMLSuite.resize.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Specify new css file for the resize widget, default = resize.css
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setLayoutCss : <span class="reserved">function</span>(cssFileName)
	{
		<span class="reserved">this</span>.layoutCSS = cssFileName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     *	Specify new css file for the resize widget, default = resize.css
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	setCssClassNameForResizeHandles : <span class="reserved">function</span>(classNameOfResizeHandles)
	{
		<span class="reserved">this</span>.classNameOfResizeHandles = classNameOfResizeHandles;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ setElementRoResize()</span>
    <span class="comment">/**
     *	Specify which element you want to resize
     *	
     *	<span class="attrib">@param</span> Object elementReference - id or direct reference to HTML element(this element should be either absolute or relative positioned)
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setElementRoResize : <span class="reserved">function</span>(elementReference)
	{
		elementReference = DHTMLSuite.commonObj.getEl(elementReference);
		<span class="reserved">this</span>.resizeWhichElement = elementReference;				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addResizeHandle()</span>
    <span class="comment">/**
     *	Specify a sub element of the reized element which acts as a resize handle
     *	
     *	<span class="attrib">@param</span> Object resizeHandle - id or direct reference to HTML element
     *	<span class="attrib">@param</span> String direction - Resize direction(possible values "all", "south","west","east","north","northwest","northheast","southwest","southeast")
     *	
     * <span class="attrib">@public</span>	
     */</span>			
	addResizeHandle : <span class="reserved">function</span>(resizeHandle,direction)
	{
		resizeHandle = DHTMLSuite.commonObj.getEl(resizeHandle);
		var index = <span class="reserved">this</span>.resizeHandles.length;
		<span class="reserved">this</span>.resizeHandles[index] = new Object();
		<span class="reserved">this</span>.resizeHandles[index].element = resizeHandle;
		<span class="reserved">this</span>.resizeHandles[index].direction = direction;				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMinWidthInPixels()</span>
    <span class="comment">/**
     *	Specify minimum width
     *	
     *	<span class="attrib">@param</span> Integer pixels - Minimum width of resized element in pixels. i.e. restrict the resize widget from making it smaller.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setMinWidthInPixels : <span class="reserved">function</span>(pixels)
	{
		<span class="reserved">this</span>.minWidth = pixels;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMaxWidthInPixels()</span>
    <span class="comment">/**
     *	Specify maximum width
     *	
     *	<span class="attrib">@param</span> Integer pixels - Maximum width of resized element in pixels. i.e. restrict the resize widget from making it larger.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setMaxWidthInPixels : <span class="reserved">function</span>(pixels)
	{
		<span class="reserved">this</span>.maxWidth = pixels;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMinHeightInPixels()</span>
    <span class="comment">/**
     *	Specify minimum width
     *	
     *	<span class="attrib">@param</span> Integer pixels - minimum width of resized element in pixels. i.e. restrict the resize widget from making it smaller.
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setMinHeightInPixels : <span class="reserved">function</span>(pixels)
	{
		<span class="reserved">this</span>.minHeight = pixels;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setMaxHeightInPixels()</span>
    <span class="comment">/**
     *	Specify maximum height
     *	
     *	<span class="attrib">@param</span> Integer pixels - maximum height of resized element in pixels. i.e. restrict the resize widget from making it smaller.
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setMaxHeightInPixels : <span class="reserved">function</span>(pixels)
	{
		<span class="reserved">this</span>.maxHeight = pixels;
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackOnBeforeResize()</span>
    <span class="comment">/**
     *	Specify name of call back function which will be executed before restarts starts
     *	
     *	<span class="attrib">@param</span> String functionName - Only the name of the function to execute, example. "myCallbackFunction", a reference to this resize object will be sent as only argument to this function.
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setCallbackOnBeforeResize : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnBeforeResize = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackOnAfterResize()</span>
    <span class="comment">/**
     *	Specify name of call back function which will be executed when restarts ends(i.e. mouse up)
     *	
     *	<span class="attrib">@param</span> String functionName - Only the name of the function to execute, example. "myCallbackFunction", a reference to this resize object will be sent as only argument to this function.
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setCallbackOnAfterResize : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnAfterResize = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackOnDuringResize()</span>
    <span class="comment">/**
     *	Specify name of call back function which will be executed during resize
     *	
     *	<span class="attrib">@param</span> String functionName - Only the name of the function to execute, example. "myCallbackFunction", a reference to this resize object will be sent as only argument to this function.
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setCallbackOnDuringResize : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnDuringResize = functionName;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setResizeHandlerOffsetInPixels()</span>
    <span class="comment">/**
     *	Specify offset in pixels for automatically created resize handles. If you don't add a resize handle manually, automatic resize handles will be created for you. These will be placed along the edge of the resizable element. You can move these handles by specifying an offset value.
     *	
     *	<span class="attrib">@param</span> Integer offsetInPx - Offset in pixels
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setResizeHandlerOffsetInPixels : <span class="reserved">function</span>(offsetInPx)
	{
		<span class="reserved">this</span>.resizeHandlerOffsetInPixels = offsetInPx;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setIsResizeElementAbsolutePositioned()</span>
    <span class="comment">/**
     *	Specify if resized element is absolute positioned.
     *	
     *	<span class="attrib">@param</span> Boolean absolutePositioned - Is the resizable element absolute positioned on your page ?
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setIsResizeElementAbsolutePositioned : <span class="reserved">function</span>(absolutePositioned)
	{
		<span class="reserved">this</span>.elementToResizeIsAbsolutePositioned = absolutePositioned;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getReferenceToResizedElement()</span>
    <span class="comment">/**
     *	Returns a reference to the resizable element
     *	
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	getReferenceToResizedElement : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.resizeWhichElement;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the widget. Call this method after you are finished with your set-method calls.
     *	
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__setAspectRatio();
		<span class="reserved">this</span>.__createResizeHandlesAutomatically();
		<span class="reserved">this</span>.__setCursorOfResizeHandles();
		<span class="reserved">this</span>.__addEventsToResizeHandles();
		<span class="reserved">this</span>.__addBasicEvents();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setAspectRatio()</span>
    <span class="comment">/**
     *	Determine aspect ratio
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__setAspectRatio : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.sizeOfWidthRelativeToHeight = <span class="reserved">this</span>.resizeWhichElement.offsetWidth / <span class="reserved">this</span>.resizeWhichElement.offsetHeight;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     *	Save initial properties sent to the constructor
     *	<span class="attrib">@param</span> Array - associative array of properties.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__setInitProps : <span class="reserved">function</span>(propertyArray)
	{
		<span class="reserved">if</span>(propertyArray.minWidth)<span class="reserved">this</span>.minWidth = propertyArray.minWidth;	
		<span class="reserved">if</span>(propertyArray.maxWidth)<span class="reserved">this</span>.maxWidth = propertyArray.maxWidth;	
		<span class="reserved">if</span>(propertyArray.minHeight)<span class="reserved">this</span>.minHeight = propertyArray.minHeight;	
		<span class="reserved">if</span>(propertyArray.maxHeight)<span class="reserved">this</span>.maxHeight = propertyArray.maxHeight;		
		<span class="reserved">if</span>(propertyArray.preserveRatio)<span class="reserved">this</span>.preserveRatio = propertyArray.preserveRatio;		
		<span class="reserved">if</span>(propertyArray.callbackOnBeforeResize)<span class="reserved">this</span>.callbackOnBeforeResize = propertyArray.callbackOnBeforeResize;		
		<span class="reserved">if</span>(propertyArray.callbackOnAfterResize)<span class="reserved">this</span>.callbackOnAfterResize = propertyArray.callbackOnAfterResize;		
		<span class="reserved">if</span>(propertyArray.callbackOnDuringResize)<span class="reserved">this</span>.callbackOnDuringResize = propertyArray.callbackOnDuringResize;		
		<span class="reserved">if</span>(propertyArray.resizeInWhichDirections)<span class="reserved">this</span>.resizeInWhichDirections = propertyArray.resizeInWhichDirections;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createResizeHandlesAutomatically()</span>
    <span class="comment">/**
     *	Create resize handles automatically.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createResizeHandlesAutomatically : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeHandles.length&gt;0)<span class="reserved">return</span>;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.resizeInWhichDirections || <span class="reserved">this</span>.resizeInWhichDirections==<span class="literal">'all'</span>)<span class="reserved">this</span>.resizeInWhichDirections = <span class="literal">'west,east,north,south,southeast,southwest,northwest,northeast'</span>;
		
		var directions = <span class="reserved">this</span>.resizeInWhichDirections.split(/,/g);
		<span class="reserved">for</span>(var no=0;no&lt;directions.length;no++){
			<span class="reserved">this</span>.resizeHandles[no] = new Object();
			<span class="reserved">this</span>.resizeHandles[no].element = document.createElement(<span class="literal">'DIV'</span>);
			<span class="reserved">this</span>.resizeHandles[no].element.className = <span class="reserved">this</span>.classNameOfResizeHandles;
			<span class="reserved">this</span>.resizeWhichElement.appendChild(<span class="reserved">this</span>.resizeHandles[no].element);
			<span class="reserved">this</span>.resizeHandles[no].direction = directions[no];
			var el = <span class="reserved">this</span>.resizeHandles[no].element;
			el.style.position = <span class="literal">'absolute'</span>;
			el.style.top = <span class="literal">'50%'</span>;
			el.style.left = <span class="literal">'50%'</span>;
			<span class="reserved">if</span>(directions[no].indexOf(<span class="literal">'west'</span>)&gt;=0)el.style.left = (0-<span class="reserved">this</span>.resizeHandlerOffsetInPixels) + <span class="literal">'px'</span>;
			<span class="reserved">if</span>(directions[no].indexOf(<span class="literal">'east'</span>)&gt;=0){
				el.style.right = (0-<span class="reserved">this</span>.resizeHandlerOffsetInPixels) + <span class="literal">'px'</span>;
				el.style.left = <span class="literal">''</span>;
			}
			<span class="reserved">if</span>(directions[no].indexOf(<span class="literal">'north'</span>)&gt;=0)el.style.top = (0-<span class="reserved">this</span>.resizeHandlerOffsetInPixels) + <span class="literal">'px'</span>;
			<span class="reserved">if</span>(directions[no].indexOf(<span class="literal">'south'</span>)&gt;=0){
				el.style.bottom = (0-<span class="reserved">this</span>.resizeHandlerOffsetInPixels) + <span class="literal">'px'</span>;
				el.style.top = <span class="literal">''</span>;
			}
			
			<span class="reserved">if</span>(el.style.top==<span class="literal">'50%'</span>)el.style.marginTop = <span class="literal">'-'</span> + Math.round(el.offsetHeight/2) + <span class="literal">'px'</span>;		
			<span class="reserved">if</span>(el.style.left==<span class="literal">'50%'</span>)el.style.marginLeft = <span class="literal">'-'</span> + Math.round(el.offsetWidth/2) + <span class="literal">'px'</span>;	
			
		}			
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setCursorOfResizeHandles()</span>
    <span class="comment">/**
     *	Set css cursor attributes for all the resize handles depending of how they resize the element
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__setCursorOfResizeHandles : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.resizeHandles.length;no++){
			
			switch(<span class="reserved">this</span>.resizeHandles[no].direction){
				case <span class="literal">"west"</span>:
				case <span class="literal">"east"</span>:
					<span class="reserved">this</span>.resizeHandles[no].element.style.cursor = <span class="literal">'e-resize'</span>;	
					break;
				case <span class="literal">"north"</span>:
				case <span class="literal">"south"</span>:
					<span class="reserved">this</span>.resizeHandles[no].element.style.cursor = <span class="literal">'s-resize'</span>;
					break;
				case <span class="literal">"northeast"</span>:
					<span class="reserved">this</span>.resizeHandles[no].element.style.cursor = <span class="literal">'ne-resize'</span>;
					break;
				case <span class="literal">"northwest"</span>:
					<span class="reserved">this</span>.resizeHandles[no].element.style.cursor = <span class="literal">'nw-resize'</span>;
					break;
				case <span class="literal">"southwest"</span>:
					<span class="reserved">this</span>.resizeHandles[no].element.style.cursor = <span class="literal">'sw-resize'</span>;
					break;
				case <span class="literal">"southeast"</span>:
					<span class="reserved">this</span>.resizeHandles[no].element.style.cursor = <span class="literal">'se-resize'</span>;
					break;				
			}				
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addEventsToResizeHandles()</span>
    <span class="comment">/**
     * Add events to resize handles.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__addEventsToResizeHandles : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.resizeHandles.length;no++){
			<span class="reserved">this</span>.resizeHandles[no].element.onmousedown = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__initResize(e); }
			<span class="reserved">this</span>.resizeHandles[no].element.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };	
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.resizeHandles[no].element);
			<span class="reserved">this</span>.resizeHandles[no].element.setAttribute(<span class="literal">'resizeInDirection'</span>,<span class="reserved">this</span>.resizeHandles[no].direction);		
			<span class="reserved">this</span>.resizeHandles[no].element.resizeInDirection = <span class="reserved">this</span>.resizeHandles[no].direction;			
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addBasicEvents()</span>
    <span class="comment">/**
     * Add basic events for the widget
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__addBasicEvents : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__processResize(e); },ind);
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mouseup'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__endResize(e); },ind);	
		<span class="reserved">if</span>(!document.documentElement.onselectstart)document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initResize()</span>
    <span class="comment">/**
     * Resize process starts
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__initResize : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnBeforeResize){
			var ok = <span class="reserved">this</span>.__handleCallback(<span class="literal">'beforeResize'</span>);
			<span class="reserved">if</span>(!ok)<span class="reserved">return</span>;
		}
		DHTMLSuite.commonObj.__setTextSelOk(false);
		<span class="reserved">this</span>.resizeTimer = 0;
		<span class="reserved">this</span>.mouseStartPos.x = e.clientX;
		<span class="reserved">this</span>.mouseStartPos.y = e.clientY;
		<span class="reserved">this</span>.initElementSize.width = <span class="reserved">this</span>.resizeWhichElement.offsetWidth;
		<span class="reserved">this</span>.initElementSize.height = <span class="reserved">this</span>.resizeWhichElement.offsetHeight;
		<span class="reserved">this</span>.initElementSize.top = <span class="reserved">this</span>.resizeWhichElement.style.top.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		<span class="reserved">if</span>(<span class="reserved">this</span>.elementToResizeIsAbsolutePositioned &amp;&amp; !<span class="reserved">this</span>.initElementSize.top)<span class="reserved">this</span>.initElementSize.top = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.resizeWhichElement);
		<span class="reserved">this</span>.initElementSize.left = <span class="reserved">this</span>.resizeWhichElement.style.left.replace(<span class="literal">'px'</span>,<span class="literal">''</span>)/1;
		<span class="reserved">if</span>(<span class="reserved">this</span>.elementToResizeIsAbsolutePositioned &amp;&amp; !<span class="reserved">this</span>.initElementSize.left)<span class="reserved">this</span>.initElementSize.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.resizeWhichElement);
		
		<span class="reserved">this</span>.currentResizeDirection = src.getAttribute(<span class="literal">'resizeInDirection'</span>);
		<span class="reserved">this</span>.__delayBeforeResize();
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __delayBeforeResize()</span>
    <span class="comment">/**
     * A small delay from mouse is pressed down to the resize starts.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__delayBeforeResize : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeTimer&gt;=0 &amp;&amp; <span class="reserved">this</span>.resizeTimer&lt;5){
			var ind = <span class="reserved">this</span>.objectIndex;
			<span class="reserved">this</span>.resizeTimer++;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__delayBeforeResize()'</span>,20);
			<span class="reserved">return</span>;
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __processResize()</span>
    <span class="comment">/**
     * Process resize, i.e. mouse has been pressed down and the mouse pointer is moving.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__processResize : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeTimer&lt;5)<span class="reserved">return</span>;
		<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; e.button!=1)<span class="reserved">return</span> <span class="reserved">this</span>.__endResize();
		
		var newWidth = <span class="reserved">this</span>.initElementSize.width;
		var newHeight = <span class="reserved">this</span>.initElementSize.height;
		
		var newTop = <span class="reserved">this</span>.initElementSize.top;
		var newLeft = <span class="reserved">this</span>.initElementSize.left;
		
		switch(<span class="reserved">this</span>.currentResizeDirection){
			case <span class="literal">"east"</span>:
			case <span class="literal">"northeast"</span>:
			case <span class="literal">"southeast"</span>:
				newWidth = (<span class="reserved">this</span>.initElementSize.width + e.clientX - <span class="reserved">this</span>.mouseStartPos.x);			
				break;	
		}
		switch(<span class="reserved">this</span>.currentResizeDirection){
			case <span class="literal">"south"</span>:
			case <span class="literal">"southeast"</span>:
			case <span class="literal">"southwest"</span>:
				newHeight = (<span class="reserved">this</span>.initElementSize.height + e.clientY - <span class="reserved">this</span>.mouseStartPos.y)
				break;
			
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentResizeDirection.indexOf(<span class="literal">'north'</span>)&gt;=0){
			newTop = <span class="reserved">this</span>.initElementSize.top  + e.clientY - <span class="reserved">this</span>.mouseStartPos.y;
			newHeight = newHeight - (newTop - <span class="reserved">this</span>.initElementSize.top);
			<span class="reserved">if</span>(<span class="reserved">this</span>.preserveRatio &amp;&amp; <span class="reserved">this</span>.currentResizeDirection==<span class="literal">'north'</span>)newWidth = Math.round(newHeight * <span class="reserved">this</span>.sizeOfWidthRelativeToHeight);
			<span class="reserved">if</span>(newHeight&lt;<span class="reserved">this</span>.minHeight){
				newTop-=(<span class="reserved">this</span>.minHeight-newHeight);
			}			
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentResizeDirection.indexOf(<span class="literal">'west'</span>)&gt;=0){
			newLeft = <span class="reserved">this</span>.initElementSize.left  + e.clientX - <span class="reserved">this</span>.mouseStartPos.x;
			newWidth = newWidth - (newLeft - <span class="reserved">this</span>.initElementSize.left);
			<span class="reserved">if</span>(<span class="reserved">this</span>.preserveRatio &amp;&amp; <span class="reserved">this</span>.currentResizeDirection==<span class="literal">'west'</span>)newHeight = Math.round(newWidth / <span class="reserved">this</span>.sizeOfWidthRelativeToHeight);
			<span class="reserved">if</span>(newWidth&lt;<span class="reserved">this</span>.minWidth){
				newLeft-=(<span class="reserved">this</span>.minWidth-newWidth);
			}	
			<span class="reserved">if</span>(newWidth&gt;<span class="reserved">this</span>.maxWidth){
				newLeft+=(newWidth-<span class="reserved">this</span>.maxWidth);
			}		
		}
				
		<span class="reserved">if</span>(newWidth&lt;<span class="reserved">this</span>.minWidth)newWidth = <span class="reserved">this</span>.minWidth;
		<span class="reserved">if</span>(newHeight&lt;<span class="reserved">this</span>.minHeight)newHeight = <span class="reserved">this</span>.minHeight;
		<span class="reserved">if</span>(<span class="reserved">this</span>.maxWidth &amp;&amp; newWidth&gt;<span class="reserved">this</span>.maxWidth)newWidth = <span class="reserved">this</span>.maxWidth;
		<span class="reserved">if</span>(<span class="reserved">this</span>.maxHeight &amp;&amp; newHeight&gt;<span class="reserved">this</span>.maxHeight)newHeight = <span class="reserved">this</span>.maxHeight;

		<span class="reserved">if</span>(<span class="reserved">this</span>.currentResizeDirection.indexOf(<span class="literal">'east'</span>)&gt;=0 &amp;&amp; <span class="reserved">this</span>.preserveRatio){
			newHeight = Math.round(newWidth / <span class="reserved">this</span>.sizeOfWidthRelativeToHeight);
		}	
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentResizeDirection.indexOf(<span class="literal">'south'</span>)&gt;=0 &amp;&amp; <span class="reserved">this</span>.preserveRatio){
			newWidth = Math.round(newHeight * <span class="reserved">this</span>.sizeOfWidthRelativeToHeight);
		}			
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentResizeDirection==<span class="literal">'northwest'</span> &amp;&amp; <span class="reserved">this</span>.preserveRatio){
			<span class="reserved">if</span>(newWidth/newHeight &gt; <span class="reserved">this</span>.sizeOfWidthRelativeToHeight){
				newHeight = Math.round(newWidth / <span class="reserved">this</span>.sizeOfWidthRelativeToHeight);
			}<span class="reserved">else</span>{
				newWidth = Math.round(newHeight * <span class="reserved">this</span>.sizeOfWidthRelativeToHeight);
			}		
		}
		
		<span class="reserved">this</span>.resizeWhichElement.style.width = newWidth + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.resizeWhichElement.style.height = newHeight + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.resizeWhichElement.style.top = newTop + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.resizeWhichElement.style.left = newLeft + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnDuringResize)<span class="reserved">this</span>.__handleCallback(<span class="literal">'duringResize'</span>);
	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __endResize()</span>
    <span class="comment">/**
     * Resize process ends.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__endResize : <span class="reserved">function</span>(e)
	{
		DHTMLSuite.commonObj.__setTextSelOk(true);
		<span class="reserved">if</span>(<span class="reserved">this</span>.resizeTimer==5){
			<span class="reserved">this</span>.__handleCallback(<span class="literal">'afterResize'</span>);
		}
		<span class="reserved">this</span>.resizeTimer=-1;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     * Execute eventual callback functions.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">"afterResize"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnAfterResize;
				break;
			case <span class="literal">"duringResize"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnDuringResize;
				break;
			case <span class="literal">"beforeResize"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnBeforeResize;
				break;
			
		}
		
		<span class="reserved">if</span>(callbackString)callbackString = callbackString + <span class="literal">'(DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'])'</span>;
		
		try{
			<span class="reserved">return</span> eval(callbackString);
		}catch(e){
			alert(<span class="literal">'Could not execute call back string after resize'</span>);
		}		
	}
}


<span class="comment">/*[FILE_START:dhtmlSuite-colorWidgets.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML window scripts
*
*	Created:						January, 27th, 2006
*	<span class="attrib">@class</span> Purpose of class:		Color palette
*			
*	Css files used by this script:	
*
*	Demos of this class:			demo-color-window-1.html
*
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> 	This class simply creates a color palette
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@param</span> colorProperties - associative array of palette properties, possible keys: width, callbackOnColorClick
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
*
*	css file used for this widget: color-widget.css
*	Demo: (&lt;a href="../../demos/demo-color-window-1.html" target="_blank"&gt;demo 1&lt;/a&gt;)
**/</span>

DHTMLSuite.colorPalette = <span class="reserved">function</span>(propertyArray)
{
	var divElement;
	var layoutCSS;
	var colors;
	var colorHelper;
	var width;
	var callbackOnColorClick;
	var objectIndex;
	var currentColor;
	
	try{
		<span class="reserved">this</span>.colorHelper = new DHTMLSuite.colorUtil();
	}catch(e){
		alert(<span class="literal">'You need to include dhtmlSuite-colorUtil.js'</span>);
	}
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'color-palette.css'</span>;
	<span class="reserved">this</span>.colors = new Array();
	<span class="reserved">this</span>.currentColor = new Object();
	
	<span class="reserved">if</span>(propertyArray)<span class="reserved">this</span>.__setInitProps(propertyArray);
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
}

DHTMLSuite.colorPalette.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ setCallbackOnColorClick()</span>
    <span class="comment">/**
     * Specify callback function executed when user clicks on a color. A callback function cal also be specified in the constructor.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setCallbackOnColorClick : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnColorClick = functionName;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     * Save initial palette properties sent to the constructor
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__setInitProps : <span class="reserved">function</span>(propertyArray)
	{
		<span class="reserved">if</span>(propertyArray.width){
			propertyArray.width = propertyArray.width + <span class="literal">''</span>;
			<span class="reserved">if</span>(propertyArray.width.match(/^[^0-9]*?$/)){
				propertyArray.width = propertyArray.width + <span class="literal">'px'</span>;
			}
			<span class="reserved">this</span>.width = propertyArray.width;
		}
		<span class="reserved">if</span>(propertyArray.callbackOnColorClick)<span class="reserved">this</span>.callbackOnColorClick = propertyArray.callbackOnColorClick;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ addAllWebColors()</span>
    <span class="comment">/**
     * Add all 216 web colors to the palette.
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	addAllWebColors : <span class="reserved">function</span>()
	{
		var colors = <span class="reserved">this</span>.colorHelper.getAllWebColors();
		<span class="reserved">for</span>(var no=0;no&lt;colors.length;no++){
			<span class="reserved">this</span>.colors[<span class="reserved">this</span>.colors.length] = [<span class="literal">'#'</span> + colors[no],<span class="literal">'#'</span> + colors[no]];
			
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addAllNamedColors()</span>
    <span class="comment">/**
     * Add all named colors to the palette
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	addAllNamedColors : <span class="reserved">function</span>()
	{
		var colors = <span class="reserved">this</span>.colorHelper.getAllNamedColors();	
		<span class="reserved">for</span>(var no=0;no&lt;colors.length;no++){
			<span class="reserved">this</span>.colors[<span class="reserved">this</span>.colors.length] = [<span class="literal">'#'</span> + colors[no][1],colors[no][0]];			
		}		
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addGrayScaleColors()</span>
    <span class="comment">/**
     * Add gray scale colors to the palette
     *	
     *	<span class="attrib">@param</span> Int numberOfColors - Number of colors to add
     *	<span class="attrib">@param</span> Int rangeFrom - Optional parameter between 0 and 255(default is 0)
     *	<span class="attrib">@param</span> Int rangeTo - Optional parameter between 0 and 255 ( default is 255)
     * <span class="attrib">@public</span>	
     */</span>		
	addGrayScaleColors : <span class="reserved">function</span>(numberOfColors,rangeFrom,rangeTo)
	{
		<span class="reserved">if</span>(!numberOfColors)numberOfColors = 16;
		<span class="reserved">if</span>(!rangeFrom)rangeFrom = 0;
		<span class="reserved">if</span>(!rangeTo)rangeTo = 255;
		<span class="reserved">if</span>(rangeFrom&gt;rangeTo){
			var tmpRange = rangeFrom;
			rangeFrom = rangeTo;
			rangeTo = tmpRange;	
		}		
		var step = (rangeTo - rangeFrom) / numberOfColors;
		<span class="reserved">for</span>(var no=rangeFrom;no&lt;=rangeTo;no+=step){
			var color = <span class="reserved">this</span>.colorHelper.baseConverter(Math.round(no),10,16)+<span class="literal">''</span>;
			<span class="reserved">while</span>(color.length&lt;2)color = <span class="literal">'0'</span> + color;
			<span class="reserved">this</span>.colors[<span class="reserved">this</span>.colors.length] = [<span class="literal">'#'</span> + color + color + color,<span class="literal">'#'</span> + color + color + color];			
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ addColor()</span>
    <span class="comment">/**
     * Add a single color to the palette
     *	
     *	<span class="attrib">@param</span> String color - Rgb code of color, example. #FF0000
     *	<span class="attrib">@param</span> String name - Name of color (optional parameter)
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	addColor : <span class="reserved">function</span>(color,name)
	{	
		<span class="reserved">if</span>(!name)name = color;
		<span class="reserved">this</span>.colors[<span class="reserved">this</span>.colors.length] = [color,name];		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setLayoutCss()</span>
    <span class="comment">/**
     * Specify name of css file.
     *	
     *	<span class="attrib">@param</span> String cssFileName - Name of css file. path will be the config path + this name.(DHTMLSuite.configObj.cssPath)
     *	
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	setLayoutCss : <span class="reserved">function</span>(cssFileName)
	{
		<span class="reserved">this</span>.layoutCSS = cssFileName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getDivElement()</span>
    <span class="comment">/**
     * Returns a reference to the div element for this widget.
     *	
     *	<span class="attrib">@return</span> Object DivElement - Reference to div element.
     *	
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	getDivElement : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.divElement;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * Initializes the widget. Call this method after all colors has been added to the palette.
     *	
     *	
     * <span class="attrib">@public</span>	
     */</span>	
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__createMainDivEl();	
		<span class="reserved">this</span>.__createColorDivs();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createMainDivEl()</span>
    <span class="comment">/**
     * Create main div element for the widget.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createMainDivEl : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.className = <span class="literal">'DHTMLSuite_colorPalette'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.width){
			<span class="reserved">this</span>.divElement.style.width = <span class="reserved">this</span>.width;
		}
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createColorDivs()</span>
    <span class="comment">/**
     * Create small color divs for the widget.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createColorDivs : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.colors.length;no++){
			var div = document.createElement(<span class="literal">'DIV'</span>);
			div.className = <span class="literal">'DHTMLSuite_colorPaletteColor'</span>;
			div.setAttribute(<span class="literal">'rgb'</span>,<span class="reserved">this</span>.colors[no][0]);
			try{
				div.style.backgroundColor = <span class="reserved">this</span>.colors[no][0];
			}catch(e){
				div.style.display=<span class="literal">'none'</span>;
			}
			div.onclick = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__clickOnColor(e); };
			DHTMLSuite.commonObj.__addEventEl(div)
			div.title = <span class="reserved">this</span>.colors[no][1];
			<span class="reserved">this</span>.divElement.appendChild(div);	
			
		}	
		var clearDiv = document.createElement(<span class="literal">'DIV'</span>);
		clearDiv.style.clear=<span class="literal">'both'</span>;
		<span class="reserved">this</span>.divElement.appendChild(clearDiv);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __clickOnColor()</span>
    <span class="comment">/**
     * Called when users clicks on a color
     *	<span class="attrib">@param</span> Event e - Event object - used to get a reference to the clicked color div.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__clickOnColor : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		
		<span class="reserved">this</span>.currentColor.rgb = src.getAttribute(<span class="literal">'rgb'</span>);
		<span class="reserved">if</span>(!<span class="reserved">this</span>.currentColor.rgb)<span class="reserved">this</span>.currentColor.rgb = src.rgb;
		<span class="reserved">this</span>.currentColor.name = src.title;
		<span class="reserved">this</span>.__handleCallback(<span class="literal">'colorClick'</span>);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     * Handle call back actions.
     *	<span class="attrib">@param</span> String Action - Callback action to execute
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action)
		{
			case <span class="literal">"colorClick"</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnColorClick)callbackString = <span class="reserved">this</span>.callbackOnColorClick;
				break;
				
		}
		
		<span class="reserved">if</span>(callbackString){
			callbackString = callbackString + <span class="literal">'({ rgb:this.currentColor.rgb, name:this.currentColor.name})'</span>;
			eval(callbackString);
		}		
	}
}


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> This is a color slider class
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@param</span> Array properties - Possible keys:
*
*
*	css file used for this widget: color-widget.css
*	Demo: (&lt;a href="../../demos/demo-color-window-1.html" target="_blank"&gt;demo 1&lt;/a&gt;)
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>


DHTMLSuite.colorSlider = <span class="reserved">function</span>(propertyArray)
{
	var divElement;
	var layoutCSS;
	var colorHelper;	<span class="comment">// Object of class DHTMLSuite.colorUtil</span>
	
	var currentRgb;		
	var currentRed;
	var currentGreen;
	var currentBlue;
	var objectIndex;
	var frmFieldRed;
	var frmFieldGreen;
	var frmFieldBlue;
	var callbackOnChangeRgb;
	
	<span class="reserved">this</span>.currentRgb = <span class="literal">'FF0000'</span>;
	<span class="reserved">this</span>.currentRed = 255;
	<span class="reserved">this</span>.currentBlue = 0;
	<span class="reserved">this</span>.currentGreen = 0;
	
	<span class="reserved">this</span>.currentRedHex = <span class="literal">'FF'</span>;
	<span class="reserved">this</span>.currentGreenHex = <span class="literal">'00'</span>;
	<span class="reserved">this</span>.currentBlueHex = <span class="literal">'00'</span>;
	
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'color-slider.css'</span>;
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}	
	
	try{
		<span class="reserved">this</span>.colorHelper = new DHTMLSuite.colorUtil();
	}catch(e){
		alert(<span class="literal">'You need to include dhtmlSuite-colorUtil.js'</span>);
	}
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
	
	<span class="reserved">if</span>(propertyArray)<span class="reserved">this</span>.__setInitProps(propertyArray);
}


DHTMLSuite.colorSlider.<span class="reserved">prototype</span> = 
{	
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     * Handle call back actions.
     * <span class="attrib">@param</span> Array props - Array of properties
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__setInitProps : <span class="reserved">function</span>(props)
	{
		<span class="reserved">if</span>(props.callbackOnChangeRgb)<span class="reserved">this</span>.callbackOnChangeRgb = props.callbackOnChangeRgb;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * Initializes the script
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__createMainDivEl();	
		<span class="reserved">this</span>.__createDivPreview();
		<span class="reserved">this</span>.__createSliderDiv();
		<span class="reserved">this</span>.__createColorDiv();		
		<span class="reserved">this</span>.__setPreviewDivBgColor();		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setRgbColor()</span>
    <span class="comment">/**
     * Set new rgb code
     *
     *	<span class="attrib">@param</span> String rgbCode - New RGB code in the format RRGGBB
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	setRgbColor : <span class="reserved">function</span>(rgbCode)
	{
		rgbCode = rgbCode + <span class="literal">''</span>;
		rgbCode = rgbCode.replace(/[^0-9A-F]/gi,<span class="literal">''</span>);
		<span class="reserved">if</span>(rgbCode.length!=6)<span class="reserved">return</span> false;
		<span class="reserved">this</span>.currentRgb = rgbCode;
		<span class="reserved">this</span>.__setParamsFromCurrentRgb();
		try{
			<span class="reserved">this</span>.__updateSliderHandles();
			<span class="reserved">this</span>.__updateFormFields();
			<span class="reserved">this</span>.__setPreviewDivBgColor();		
		}catch(e){
			<span class="comment">// Widget not yet initialized by the init() method</span>
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getDivElement()</span>
    <span class="comment">/**
     * Return a reference to the main div element for this widget. you can use appendChild() to append it to an element on your web page.
     *	example: document.body.appendChild(colorSlider.getDivElement()).
     *
     *	<span class="attrib">@return</span> Object divElement - Reference to div element for this widget
     *	
     * <span class="attrib">@public</span>	
     */</span>		
	getDivElement : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.divElement;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createMainDivEl()</span>
    <span class="comment">/**
     * Create main div element for the widget. This is the top most parent div.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createMainDivEl : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.className = <span class="literal">'DHTMLSuite_colorSlider'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createDivPreview()</span>
    <span class="comment">/**
     * Create color preview div.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createDivPreview : <span class="reserved">function</span>()
	{
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_colorSliderPreviewParent'</span>;
		<span class="reserved">this</span>.divPreview = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divPreview.className = <span class="literal">'DHTMLSuite_colorSliderPreview'</span>;
		div.appendChild(<span class="reserved">this</span>.divPreview);
		<span class="reserved">this</span>.divElement.appendChild(div);			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createSliderDiv()</span>
    <span class="comment">/**
     * Create divs for the sliders.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createSliderDiv : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_colorSliderSliderParent'</span>;
		<span class="reserved">this</span>.divElement.appendChild(div);
		
		<span class="comment">// Red slider</span>
		var divRed = document.createElement(<span class="literal">'DIV'</span>);
		divRed.className = <span class="literal">'DHTMLSuite_colorSliderSliderColorRow'</span>;
		div.appendChild(divRed);
		
		var labelDiv = document.createElement(<span class="literal">'DIV'</span>);
		labelDiv.className = <span class="literal">'DHTMLSuite_colorSliderSliderLabelDiv'</span>;
		labelDiv.innerHTML = <span class="literal">'R'</span>;
		divRed.appendChild(labelDiv);
		
		var sliderDiv = document.createElement(<span class="literal">'DIV'</span>);
		sliderDiv.className = <span class="literal">'DHTMLSuite_colorSliderSlider'</span>;
		divRed.appendChild(sliderDiv);
		try{
			var sliderObj = new DHTMLSuite.slider();
		}catch(e){
			alert(<span class="literal">'Error - you need to include dhtmlSuite-slider.js'</span>);
		}
		sliderObj.setSliderTarget(sliderDiv);
		sliderObj.setSliderWidth(240);
		sliderObj.setOnChangeEvent(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__receiveRedFromSlider'</span>);
		sliderObj.setSliderName(<span class="literal">'red'</span>);
		sliderObj.setInitialValue(<span class="reserved">this</span>.currentRed);
		sliderObj.setSliderMaxValue(255);
		sliderObj.init();		
		<span class="reserved">this</span>.sliderObjRed = sliderObj;
		
		var inputDiv = document.createElement(<span class="literal">'DIV'</span>);
		inputDiv.className = <span class="literal">'DHTMLSuite_colorSliderSliderInputDiv'</span>;
		<span class="reserved">this</span>.frmFieldRed = document.createElement(<span class="literal">'INPUT'</span>);
		<span class="reserved">this</span>.frmFieldRed.value = <span class="reserved">this</span>.currentRed;
		<span class="reserved">this</span>.frmFieldRed.maxLength = 3;
		inputDiv.appendChild(<span class="reserved">this</span>.frmFieldRed);		
		divRed.appendChild(inputDiv);
		<span class="reserved">this</span>.frmFieldRed.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveRedFromForm(e); };
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.frmFieldRed);		

		
		<span class="comment">// Green slider</span>
		var divGreen = document.createElement(<span class="literal">'DIV'</span>);
		divGreen.className = <span class="literal">'DHTMLSuite_colorSliderSliderColorRow'</span>;
		div.appendChild(divGreen);
		
		var labelDiv = document.createElement(<span class="literal">'DIV'</span>);
		labelDiv.className = <span class="literal">'DHTMLSuite_colorSliderSliderLabelDiv'</span>;
		labelDiv.innerHTML = <span class="literal">'G'</span>;
		divGreen.appendChild(labelDiv);
		
		var sliderDiv = document.createElement(<span class="literal">'DIV'</span>);
		sliderDiv.className = <span class="literal">'DHTMLSuite_colorSliderSlider'</span>;
		divGreen.appendChild(sliderDiv);

		var sliderObj = new DHTMLSuite.slider();
		sliderObj.setSliderTarget(sliderDiv);
		sliderObj.setSliderWidth(240);
		sliderObj.setOnChangeEvent(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__receiveGreenFromSlider'</span>);
		sliderObj.setSliderName(<span class="literal">'green'</span>);
		sliderObj.setInitialValue(<span class="reserved">this</span>.currentGreen);
		sliderObj.setSliderMaxValue(255);
		sliderObj.init();		
		<span class="reserved">this</span>.sliderObjGreen = sliderObj;
		
		var inputDiv = document.createElement(<span class="literal">'DIV'</span>);
		inputDiv.className = <span class="literal">'DHTMLSuite_colorSliderSliderInputDiv'</span>;
		<span class="reserved">this</span>.frmFieldGreen = document.createElement(<span class="literal">'INPUT'</span>);
		<span class="reserved">this</span>.frmFieldGreen.value = <span class="reserved">this</span>.currentGreen;
		<span class="reserved">this</span>.frmFieldGreen.maxLength = 3;
		inputDiv.appendChild(<span class="reserved">this</span>.frmFieldGreen);		
		divGreen.appendChild(inputDiv);
		<span class="reserved">this</span>.frmFieldGreen.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveGreenFromForm(e); };
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.frmFieldGreen);
				
		<span class="comment">// Blue slider</span>
		var divBlue = document.createElement(<span class="literal">'DIV'</span>);
		divBlue.className = <span class="literal">'DHTMLSuite_colorSliderSliderColorRow'</span>;
		div.appendChild(divBlue);
		
		var labelDiv = document.createElement(<span class="literal">'DIV'</span>);
		labelDiv.className = <span class="literal">'DHTMLSuite_colorSliderSliderLabelDiv'</span>;
		labelDiv.innerHTML = <span class="literal">'B'</span>;
		divBlue.appendChild(labelDiv);
		
		var sliderDiv = document.createElement(<span class="literal">'DIV'</span>);
		sliderDiv.className = <span class="literal">'DHTMLSuite_colorSliderSlider'</span>;
		divBlue.appendChild(sliderDiv);

		var sliderObj = new DHTMLSuite.slider();
		sliderObj.setSliderTarget(sliderDiv);
		sliderObj.setSliderWidth(240);
		sliderObj.setOnChangeEvent(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__receiveBlueFromSlider'</span>);
		sliderObj.setSliderName(<span class="literal">'blue'</span>);
		sliderObj.setInitialValue(<span class="reserved">this</span>.currentBlue);
		sliderObj.setSliderMaxValue(255);
		sliderObj.init();		
		<span class="reserved">this</span>.sliderObjBlue = sliderObj;
		
		var inputDiv = document.createElement(<span class="literal">'DIV'</span>);
		inputDiv.className = <span class="literal">'DHTMLSuite_colorSliderSliderInputDiv'</span>;
		<span class="reserved">this</span>.frmFieldBlue = document.createElement(<span class="literal">'INPUT'</span>);
		<span class="reserved">this</span>.frmFieldBlue.value = <span class="reserved">this</span>.currentBlue;
		<span class="reserved">this</span>.frmFieldBlue.maxLength = 3;
		<span class="reserved">this</span>.frmFieldBlue.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveBlueFromForm(e); };
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.frmFieldBlue);
		inputDiv.appendChild(<span class="reserved">this</span>.frmFieldBlue);		
		divBlue.appendChild(inputDiv);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getValidatedFormVar()</span>
    <span class="comment">/**
     * Return form variable(red,green or blue) from event
     *	
     *	<span class="attrib">@param</span> Event e - Reference to the Event object.
     * <span class="attrib">@private</span>	
     */</span>		
	__getValidatedFormVar : <span class="reserved">function</span>(e)
	{
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var val = src.value;
		val = val.replace(/[^0-9]/gi,<span class="literal">''</span>);
		<span class="reserved">if</span>(!val)val = 0;
		val = val/1;
		<span class="reserved">if</span>(val&lt;0)val = 0;
		<span class="reserved">if</span>(val&gt;255)val = 255;	
		<span class="reserved">return</span> val;	
	}
	,
	<span class="comment">// {{{ __receiveRedFromForm()</span>
    <span class="comment">/**
     * Receive color from the red text input.
     *	<span class="attrib">@param</span> Event e - Reference to the Event object
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__receiveRedFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">this</span>.currentRed = <span class="reserved">this</span>.__getValidatedFormVar(e);		
		<span class="reserved">this</span>.currentRedHex = <span class="reserved">this</span>.colorHelper.baseConverter(<span class="reserved">this</span>.currentRed,10,16) + <span class="literal">''</span>;
		<span class="reserved">while</span>(<span class="reserved">this</span>.currentRedHex.length&lt;2)<span class="reserved">this</span>.currentRedHex = <span class="literal">'0'</span> + <span class="reserved">this</span>.currentRedHex;
		<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.currentRedHex + <span class="reserved">this</span>.currentGreenHex + <span class="reserved">this</span>.currentBlueHex;
		<span class="reserved">this</span>.__updateSliderHandles();
		<span class="reserved">this</span>.__updateFormFields();
		<span class="reserved">this</span>.__setPreviewDivBgColor();		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveGreenFromForm()</span>
    <span class="comment">/**
     * Receive color from the green text input.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__receiveGreenFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">this</span>.currentGreen = <span class="reserved">this</span>.__getValidatedFormVar(e);
		<span class="reserved">this</span>.currentGreenHex = <span class="reserved">this</span>.colorHelper.baseConverter(<span class="reserved">this</span>.currentGreen,10,16) + <span class="literal">''</span>;
		<span class="reserved">while</span>(<span class="reserved">this</span>.currentGreenHex.length&lt;2)<span class="reserved">this</span>.currentGreenHex = <span class="literal">'0'</span> + <span class="reserved">this</span>.currentGreenHex;
		<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.currentRedHex + <span class="reserved">this</span>.currentGreenHex + <span class="reserved">this</span>.currentBlueHex;			
		<span class="reserved">this</span>.__updateSliderHandles();
		<span class="reserved">this</span>.__updateFormFields();
		<span class="reserved">this</span>.__setPreviewDivBgColor();			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveBlueFromForm()</span>
    <span class="comment">/**
     * Receive blue color from form.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__receiveBlueFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">this</span>.currentBlue = <span class="reserved">this</span>.__getValidatedFormVar(e);
		<span class="reserved">this</span>.currentBlueHex = <span class="reserved">this</span>.colorHelper.baseConverter(<span class="reserved">this</span>.currentBlue,10,16) + <span class="literal">''</span>;
		<span class="reserved">while</span>(<span class="reserved">this</span>.currentBlueHex.length&lt;2)<span class="reserved">this</span>.currentBlueHex = <span class="literal">'0'</span> + <span class="reserved">this</span>.currentBlueHex;
		<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.currentRedHex + <span class="reserved">this</span>.currentGreenHex + <span class="reserved">this</span>.currentBlueHex;		
		<span class="reserved">this</span>.__updateSliderHandles();
		<span class="reserved">this</span>.__updateFormFields();
		<span class="reserved">this</span>.__setPreviewDivBgColor();				
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createColorDiv()</span>
    <span class="comment">/**
     * Create color div at the bottom, the div users can click on in order to select a color.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__createColorDiv : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_colorSliderRgbBgParent'</span>;
		<span class="reserved">this</span>.divElement.appendChild(div);
		<span class="reserved">this</span>.colorDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.colorDiv.className = <span class="literal">'DHTMLSuite_colorSliderRgbBg'</span>;
		div.appendChild(<span class="reserved">this</span>.colorDiv);		
		DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.colorDiv,<span class="literal">'click'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__clickOnRgbBg(e); });	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setPreviewDivBgColor()</span>
    <span class="comment">/**
     * Update the background color of the preview div..
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__setPreviewDivBgColor : <span class="reserved">function</span>()
	{
		try{
			<span class="reserved">this</span>.divPreview.style.backgroundColor = <span class="literal">'#'</span> + <span class="reserved">this</span>.currentRgb;
			<span class="reserved">this</span>.__handleCallback(<span class="literal">'rgbChange'</span>);
		}catch(e){
			alert(<span class="reserved">this</span>.currentRgb);
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setParamsFromCurrentRgb()</span>
    <span class="comment">/**
     * Save properties by parsing rgbCode
     *	
     * <span class="attrib">@private</span>	
     */</span>		
	__setParamsFromCurrentRgb : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.currentRedHex = <span class="reserved">this</span>.currentRgb.substr(0,2); 
		<span class="reserved">this</span>.currentGreenHex = <span class="reserved">this</span>.currentRgb.substr(2,2); 
		<span class="reserved">this</span>.currentBlueHex = <span class="reserved">this</span>.currentRgb.substr(4,2); 			
		<span class="reserved">this</span>.currentRed = <span class="reserved">this</span>.colorHelper.baseConverter(<span class="reserved">this</span>.currentRedHex,16,10);
		<span class="reserved">this</span>.currentGreen = <span class="reserved">this</span>.colorHelper.baseConverter(<span class="reserved">this</span>.currentGreenHex,16,10);
		<span class="reserved">this</span>.currentBlue = <span class="reserved">this</span>.colorHelper.baseConverter(<span class="reserved">this</span>.currentBlueHex,16,10);			
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __clickOnRgbBg()</span>
    <span class="comment">/**
     * Click event on the color gradient at the bottom.
     *	<span class="attrib">@param</span> Object e - reference to the Event object.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__clickOnRgbBg : <span class="reserved">function</span>(e)
	{
		var left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.colorDiv);
		var top = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.colorDiv);
		<span class="reserved">if</span>(document.all) e = event;
		
		var width = 350;
		var height = 20;
		var y = e.clientY - top;
		var x = e.clientX - left - 1;
		<span class="reserved">if</span>(e.layerX){ <span class="comment">// For those browsers who supports layerX, example: Firefox.</span>
			x = e.layerX;	
			y = e.layerY;
		}
		<span class="reserved">if</span>(y&gt;height)y=height;
		<span class="reserved">if</span>(x&lt;=350){
			<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.__getHorizColor(y*width+x-1, width, height);	
			<span class="reserved">this</span>.__setParamsFromCurrentRgb();
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.currentRgb = <span class="literal">'000000'</span>;
			<span class="reserved">this</span>.currentRedHex = <span class="literal">'00'</span>;
			<span class="reserved">this</span>.currentGreenHex = <span class="literal">'00'</span>;
			<span class="reserved">this</span>.currentBlueHex = <span class="literal">'00'</span>;
			<span class="reserved">this</span>.currentRed = 0;
			<span class="reserved">this</span>.currentGreen = 0;
			<span class="reserved">this</span>.currentBlue = 0;
		}
		<span class="reserved">this</span>.__updateSliderHandles();
		<span class="reserved">this</span>.__updateFormFields();
		<span class="reserved">this</span>.__setPreviewDivBgColor();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateSliderHandles()</span>
    <span class="comment">/**
     *  Users has clicked on color bar at the bottom or changed the values of the inputs-&gt;Update position of sliders.
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__updateSliderHandles : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.sliderObjRed.setSliderValue(<span class="reserved">this</span>.currentRed);
		<span class="reserved">this</span>.sliderObjGreen.setSliderValue(<span class="reserved">this</span>.currentGreen);
		<span class="reserved">this</span>.sliderObjBlue.setSliderValue(<span class="reserved">this</span>.currentBlue);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateFormFields()</span>
    <span class="comment">/**
     *  Update values of form fields
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__updateFormFields : <span class="reserved">function</span>()
	{	
		<span class="reserved">this</span>.frmFieldRed.value = <span class="reserved">this</span>.currentRed;
		<span class="reserved">this</span>.frmFieldGreen.value = <span class="reserved">this</span>.currentGreen;
		<span class="reserved">this</span>.frmFieldBlue.value = <span class="reserved">this</span>.currentBlue;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveRedFromSlider()</span>
    <span class="comment">/**
     *  Receive red color from slider
     *	<span class="attrib">@param</span> Integer value - New red value(0-255)
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__receiveRedFromSlider : <span class="reserved">function</span>(value)
	{
		<span class="reserved">this</span>.frmFieldRed.value = value;	
		<span class="reserved">this</span>.currentRed = value;	
		<span class="reserved">this</span>.currentRedHex = <span class="reserved">this</span>.colorHelper.baseConverter(value,10,16) + <span class="literal">''</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentRedHex.length==1)<span class="reserved">this</span>.currentRedHex = <span class="literal">'0'</span> + <span class="reserved">this</span>.currentRedHex;	
		<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.currentRedHex + <span class="reserved">this</span>.currentGreenHex + <span class="reserved">this</span>.currentBlueHex;
		<span class="reserved">this</span>.__setPreviewDivBgColor();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveGreenFromSlider()</span>
    <span class="comment">/**
     *  Receive green color from slider
     *	<span class="attrib">@param</span> Integer value - New green value(0-255)
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__receiveGreenFromSlider : <span class="reserved">function</span>(value)
	{
		<span class="reserved">this</span>.frmFieldGreen.value = value;	
		<span class="reserved">this</span>.currentGreen = value;
		<span class="reserved">this</span>.currentGreenHex = <span class="reserved">this</span>.colorHelper.baseConverter(value,10,16) + <span class="literal">''</span>;	
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentGreenHex.length==1)<span class="reserved">this</span>.currentGreenHex = <span class="literal">'0'</span> + <span class="reserved">this</span>.currentGreenHex;	
		<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.currentRedHex + <span class="reserved">this</span>.currentGreenHex + <span class="reserved">this</span>.currentBlueHex;
		<span class="reserved">this</span>.__setPreviewDivBgColor();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveBlueFromSlider()</span>
    <span class="comment">/**
     *  Receive blue color from slider
     *	<span class="attrib">@param</span> Integer value - New green value(0-255)
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__receiveBlueFromSlider : <span class="reserved">function</span>(value)
	{
		<span class="reserved">this</span>.frmFieldBlue.value = value;	
		<span class="reserved">this</span>.currentBlue = value;
		<span class="reserved">this</span>.currentBlueHex = <span class="reserved">this</span>.colorHelper.baseConverter(value,10,16) + <span class="literal">''</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentBlueHex.length==1)<span class="reserved">this</span>.currentBlueHex = <span class="literal">'0'</span> + <span class="reserved">this</span>.currentBlueHex;	
		<span class="reserved">this</span>.currentRgb = <span class="reserved">this</span>.currentRedHex + <span class="reserved">this</span>.currentGreenHex + <span class="reserved">this</span>.currentBlueHex;		
		<span class="reserved">this</span>.__setPreviewDivBgColor();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ ____getHorizColor()</span>
    <span class="comment">/**
     /* This function is from the great article at http://www.webreference.com/programming/javascript/mk/column3/index.html 
     *
     *  Click events on color bar -&gt; this method returns the correct color based on where the mouse was on the bar
     *
     *	<span class="attrib">@param</span> Integer i - Combination of x and y position on the bar
     *	<span class="attrib">@param</span> Integer width - Width of bar
     *	<span class="attrib">@param</span> Integer height - Height of bar
     *	
     * <span class="attrib">@private</span>	
     */</span>	
    __getHorizColor : <span class="reserved">function</span> (i, width, height){
		var sWidth = (width)/7;         <span class="comment">// "section" width</span>
		var C=i%width;                  <span class="comment">// column</span>
		var R=Math.floor(i/(sWidth*7)); <span class="comment">// row</span>
		var c=i%sWidth;                 <span class="comment">// column in current group</span>
		var r, g, b, h;
	
		var l=(255/sWidth)*c;           <span class="comment">// color percentage</span>
	
		<span class="reserved">if</span>(C&gt;=sWidth*6){
			r=g=b=255-l;
		} <span class="reserved">else</span> {
			h=255-l;	
			r=C&lt;sWidth?255:C&lt;sWidth*2?h:C&lt;sWidth*4?0:C&lt;sWidth*5?l:255;
			g=C&lt;sWidth?l:C&lt;sWidth*3?255:C&lt;sWidth*4?h:0;
			b=C&lt;sWidth*2?0:C&lt;sWidth*3?l:C&lt;sWidth*5?255:h;	
			<span class="reserved">if</span>(R&lt;(height/2)){
				var base = 255-(255*2/height)*R;	
				r=base+(r*R*2/height);
				g=base+(g*R*2/height);
				b=base+(b*R*2/height);
			}<span class="reserved">else</span> <span class="reserved">if</span>(R&gt;(height/2)){
				var base = (height-R)/(height/2);	
				r=r*base;
				g=g*base;
				b=b*base;
			}
		}	
		var red = <span class="reserved">this</span>.colorHelper.baseConverter(r,10,16) + <span class="literal">''</span>;
		<span class="reserved">if</span>(red.length==<span class="literal">'1'</span>)red = <span class="literal">'0'</span> + red;
		var green = <span class="reserved">this</span>.colorHelper.baseConverter(g,10,16) + <span class="literal">''</span>;
		<span class="reserved">if</span>(green.length==<span class="literal">'1'</span>)green = <span class="literal">'0'</span> + green;
		var blue = <span class="reserved">this</span>.colorHelper.baseConverter(b,10,16) + <span class="literal">''</span>;
		<span class="reserved">if</span>(blue.length==<span class="literal">'1'</span>)blue = <span class="literal">'0'</span> + blue;
		<span class="reserved">return</span> red + green + blue;

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     *  Handle callback
     *	<span class="attrib">@param</span> String action - Action to execute
     *	
     * <span class="attrib">@private</span>	
     */</span>	
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">"rgbChange"</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnChangeRgb)callbackString = <span class="reserved">this</span>.callbackOnChangeRgb;
				break;
		}
		<span class="reserved">if</span>(callbackString){			
			var rgb = <span class="reserved">this</span>.currentRgb.toUpperCase();
			callbackString = callbackString + <span class="literal">'({ rgb:"#'</span> + rgb + <span class="literal">'",name:"#'</span> + rgb + <span class="literal">'"})'</span>;
			<span class="reserved">return</span> eval(callbackString);
		}
	}
}


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> This class provides some methods for working with colors.
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@param</span> Array properties - Possible keys:
*		hueSliderPosition("horizontal" or "vertical"(default): 
*		displayHsv (true or false if hsv form fields should be shown - true is default)
*		displayRgb (true or false if rgb form fields should be shown - true is default)
*		displayRgbCode ( true or false if the rgb code field should be shown - true is default)
*		callbackOnChangeRgb ( callback function to execute when rgb code changes)
*		updateFormDuringMoveOnPalette - Update the form with hsv and rgb codes during drag on palette(default = true) - setting this value to false spees up the widget a little bit
*
*
*	css file used for this widget: color-widget.css
*	Demo: (&lt;a href="../../demos/demo-color-window-1.html" target="_blank"&gt;demo 1&lt;/a&gt;)
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>


DHTMLSuite.colorWidget = <span class="reserved">function</span>(propertyArray)
{
	var divElement;
	var divElPalette;
	var divElPaletteCircle;
	var divElHueBar;
	var sliderDiv;
	var updateFormDuringMoveOnPalette;
	
	var layoutCSS;
	var objectIndex;
	
	var currentHue;
	var currentBrightness;
	var currentSaturation;
	var currentRgbCode;
	
	var colorHelper;
	var dragObject;
	var topPosHueBar;
	var paletteSize;
	
	var formFieldHue;
	var formFieldSaturation;
	var formFieldBrightness;
	var formFieldBlue;
	var formFieldGreen;
	var formFieldRed;
	
	var displayHsv;
	var displayRgb;
	var displayRgbCode;
	
	<span class="reserved">this</span>.displayRgb = true;
	<span class="reserved">this</span>.displayHsv = true;
	<span class="reserved">this</span>.displayRgbCode = true;
	<span class="reserved">this</span>.updateFormDuringMoveOnPalette = true;
	
	var hueSliderPosition;
	var circleOffsetSize;			<span class="comment">// Size of small circle / 2 rounded</span>
	var posdivElPalette;
	var parentRef;
	
	<span class="reserved">this</span>.posdivElPalette = new Object();
	
	var circleOffsetBecauseOfWinWidget;
	
	var callbackOnChangeRgb;
	
	<span class="reserved">this</span>.circleOffsetBecauseOfWinWidget = 0;
	
	<span class="reserved">this</span>.circleOffsetSize = 7;
	<span class="reserved">this</span>.hueSliderPosition = <span class="literal">'vertical'</span>;
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'color-widget.css'</span>;
	<span class="reserved">this</span>.currentHue = 0;
	<span class="reserved">this</span>.currentBrightness = 100;
	<span class="reserved">this</span>.currentSaturation = 100;
	<span class="reserved">this</span>.paletteSize = 256;
	<span class="reserved">this</span>.currentRgbCode = <span class="literal">'FF0000'</span>;

	try{
		<span class="reserved">this</span>.colorHelper = new DHTMLSuite.colorUtil();
	}catch(e){
		alert(<span class="literal">'You need to include dhtmlSuite-colorUtil.js'</span>);
	}
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}

	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;
	
	<span class="reserved">this</span>.__setInitProps(propertyArray);
}

DHTMLSuite.colorWidget.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     * Set initial properties sent to the constructor
     *
     * <span class="attrib">@private</span>
     */</span>		
	__setInitProps : <span class="reserved">function</span>(propertyArray)
	{
		<span class="reserved">if</span>(!propertyArray)<span class="reserved">return</span>;
		<span class="reserved">if</span>(propertyArray.hueSliderPosition)<span class="reserved">this</span>.hueSliderPosition = propertyArray.hueSliderPosition;
		<span class="reserved">if</span>(propertyArray.callbackOnChangeRgb)<span class="reserved">this</span>.callbackOnChangeRgb = propertyArray.callbackOnChangeRgb;
		<span class="reserved">if</span>(propertyArray.displayHsv || propertyArray.displayHsv===false)<span class="reserved">this</span>.displayHsv = propertyArray.displayHsv;
		<span class="reserved">if</span>(propertyArray.displayRgb || propertyArray.displayRgb===false)<span class="reserved">this</span>.displayRgb = propertyArray.displayRgb;
		<span class="reserved">if</span>(propertyArray.displayRgbCode || propertyArray.displayRgbCode===false)<span class="reserved">this</span>.displayRgbCode = propertyArray.displayRgbCode;
		<span class="reserved">if</span>(propertyArray.updateFormDuringMoveOnPalette || propertyArray.updateFormDuringMoveOnPalette===false)<span class="reserved">this</span>.updateFormDuringMoveOnPalette = propertyArray.updateFormDuringMoveOnPalette;
		<span class="reserved">if</span>(propertyArray.parentRef)<span class="reserved">this</span>.parentRef = DHTMLSuite.commonObj.getEl(propertyArray.parentRef);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setHueSliderPosition()</span>
    <span class="comment">/**
     * Specify position of hue slider, vertical or horizontal
     *
     * <span class="attrib">@param</span> String hueSliderPosition - Hue slider position - "vertical" or "horizontal"
     * <span class="attrib">@public</span>
     */</span>		
	setHueSliderPosition : <span class="reserved">function</span>(hueSliderPosition)
	{
		<span class="reserved">this</span>.hueSliderPosition = hueSliderPosition;
		<span class="reserved">if</span>(hueSliderPosition==<span class="literal">'vertical'</span>){			
			<span class="reserved">this</span>.sliderDivHorMain.style.display=<span class="literal">'none'</span>;
			<span class="reserved">this</span>.sliderDivMain.style.display=<span class="literal">'block'</span>;
			var ind = <span class="reserved">this</span>.objectIndex;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].sliderDiv.style.marginTop = (2 -Math.floor(DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].sliderDiv.offsetHeight/2)) + "px"'</span>,100);
			
				
		}
		<span class="reserved">if</span>(hueSliderPosition==<span class="literal">'horizontal'</span>){
			<span class="reserved">if</span>(<span class="reserved">this</span>.sliderDivMain){
				<span class="reserved">this</span>.sliderDivHorMain.style.display=<span class="literal">'block'</span>;
				<span class="reserved">this</span>.sliderDivMain.style.display=<span class="literal">'none'</span>;
			}	
		}
	

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setCallbackOnChangeRgb()</span>
    <span class="comment">/**
     * Specify call back function which is executed when the rgb value is modified. Only the name of the function should be sent to this method. 
     *	When the callback is executed, an associative array will be sent as argument. Keys in this array will be rgb,hue,saturation and brightness.
     *
     * <span class="attrib">@param</span> String functionName - Name of function to execute when the rgb color is changed.
     * <span class="attrib">@public</span>
     */</span>		
	setCallbackOnChangeRgb : <span class="reserved">function</span>(functionName)
	{
		<span class="reserved">this</span>.callbackOnChangeRgb = functionName;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setRgbColor()</span>
    <span class="comment">/**
     * Set new rgb color for the slider.
     *
     * <span class="attrib">@public</span>
     */</span>	
	setRgbColor : <span class="reserved">function</span>(rgbColor)
	{
		var hsv = <span class="reserved">this</span>.colorHelper.getHsvByRgbCode(rgbColor);
		<span class="reserved">this</span>.currentHue = Math.round(hsv.hue);
		<span class="reserved">this</span>.currentBrightness = Math.round(hsv.brightness*100);
		<span class="reserved">this</span>.currentSaturation = Math.round(hsv.saturation*100);
		<span class="reserved">this</span>.__changeViewAfterColorChange();

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setHue()</span>
    <span class="comment">/**
     * Set new hue, i.e. position on the color circle.
     *
     *	<span class="attrib">@param</span> Int hue - value between 0 and 359
     *
     * <span class="attrib">@public</span>
     */</span>	
	setHue : <span class="reserved">function</span>(hue)
	{
		hue = hue + <span class="literal">''</span>;
		<span class="reserved">if</span>(hue.match(/^[0-9]+$/)){
			<span class="reserved">while</span>(hue&gt;=360)hue-=360;
			<span class="reserved">this</span>.currentHue = hue;
			<span class="reserved">this</span>.__changeViewAfterColorChange();
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setSaturation()</span>
    <span class="comment">/**
     * Set new saturation, i.e. amount of color(hue)
     *
     *	<span class="attrib">@param</span> Int saturation - value between 0 and 100
     *
     * <span class="attrib">@public</span>
     */</span>	
	setSaturation : <span class="reserved">function</span>(saturation)
	{
		saturation = saturation + <span class="literal">''</span>;
		<span class="reserved">if</span>(saturation.match(/^[0-9]+$/)){
			<span class="reserved">while</span>(saturation&gt;100)saturation-=100;
			<span class="reserved">this</span>.currentSaturation = saturation;
			<span class="reserved">this</span>.__changeViewAfterColorChange();
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ setBrightness()</span>
    <span class="comment">/**
     * Set new brightness
     *
     *	<span class="attrib">@param</span> Int brightness - value between 0 and 100
     *
     * <span class="attrib">@public</span>
     */</span>	
	setBrightness : <span class="reserved">function</span>(brightness)
	{
		brightness = brightness + <span class="literal">''</span>;
		<span class="reserved">if</span>(brightness.match(/^[0-9]+$/)){
			<span class="reserved">while</span>(brightness&gt;100)brightness-=100;
			<span class="reserved">this</span>.currentBrightness = brightness;
			<span class="reserved">this</span>.__changeViewAfterColorChange();
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getDivElement()</span>
    <span class="comment">/**
     * Return a reference to main div element for the widget.
     *
     * <span class="attrib">@public</span>
     */</span>	
	getDivElement : <span class="reserved">function</span>()
	{
		<span class="reserved">return</span> <span class="reserved">this</span>.divElement;
	
	}		
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     * Initializes the widget
     *
     * <span class="attrib">@public</span>
     */</span>		
	init : <span class="reserved">function</span>()
	{
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
		<span class="reserved">this</span>.__createMainDivEl();	
		<span class="reserved">this</span>.__createdivElPalette();
		<span class="reserved">this</span>.__createHueBar();
		
		<span class="reserved">this</span>.__createFormDiv();
		<span class="reserved">this</span>.__createHueBarHorizontal();
		<span class="reserved">this</span>.__addEvents();
		<span class="reserved">this</span>.__setPaletteBgColor();
		<span class="reserved">this</span>.__updateHsvInForm();
		<span class="reserved">this</span>.__setBgColorPreviewDiv();
		<span class="reserved">this</span>.__updateRgbInForm();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __changeViewAfterColorChange()</span>
    <span class="comment">/**
     * This method is called after a color has been changed by external calls(example: setRgbColor)
     *
     * <span class="attrib">@private</span>
     */</span>	
	__changeViewAfterColorChange : <span class="reserved">function</span>()
	{		
		<span class="reserved">this</span>.__setCurrentRgbCode();
		<span class="reserved">this</span>.__setPaletteBgColor();		
		<span class="reserved">this</span>.__setBgColorPreviewDiv();
		<span class="reserved">this</span>.__setSliderPos();
		<span class="reserved">this</span>.__updateRgbInForm();
		<span class="reserved">this</span>.__updateHsvInForm();
		<span class="reserved">this</span>.__setSmallCirclePosition();		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateHsvInForm()</span>
    <span class="comment">/**
     * Update Hsv colors in form.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__updateHsvInForm : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.displayHsv)<span class="reserved">return</span>;
		<span class="reserved">this</span>.fieldHue.value = <span class="reserved">this</span>.currentHue;
		<span class="reserved">this</span>.fieldSaturation.value = <span class="reserved">this</span>.currentSaturation;
		<span class="reserved">this</span>.fieldBrightness.value = <span class="reserved">this</span>.currentBrightness;
		<span class="reserved">return</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentBrightness &gt; 80){			
			<span class="reserved">this</span>.divElPaletteCircle.className  = <span class="literal">'DHTMLSuite_colorSlider_palette_circle DHTMLSuite_colorSlider_palette_circleBlack'</span>;
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.divElPaletteCircle.className  =<span class="literal">'DHTMLSuite_colorSlider_palette_circle'</span>;
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __updateRgbInForm()</span>
    <span class="comment">/**
     * Update rgb colors in form.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__updateRgbInForm : <span class="reserved">function</span>()
	{
		
		var rgbColors = <span class="reserved">this</span>.colorHelper.getRgbColorsByRgbCode(<span class="reserved">this</span>.currentRgbCode);

		<span class="reserved">if</span>(<span class="reserved">this</span>.displayRgb){
			<span class="reserved">this</span>.fieldBlue.value = rgbColors.blue;		
			<span class="reserved">this</span>.fieldRed.value = rgbColors.red;		
			<span class="reserved">this</span>.fieldGreen.value = rgbColors.green;	
		}	
		<span class="reserved">if</span>(<span class="reserved">this</span>.displayRgbCode){
			<span class="reserved">this</span>.fieldRgbCode.value = <span class="reserved">this</span>.currentRgbCode;
		}		
		<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnChangeRgb)<span class="reserved">this</span>.__handleCallback(<span class="literal">'rgbChange'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setSliderPos()</span>
    <span class="comment">/**
     * Position vertical and horizontal sliders - called after manually changes in the form
     *
     * <span class="attrib">@private</span>
     */</span>		
	__setSliderPos : <span class="reserved">function</span>()
	{
		var topPos = Math.round(<span class="reserved">this</span>.paletteSize - ((<span class="reserved">this</span>.currentHue / 360) * <span class="reserved">this</span>.paletteSize))-3;
		<span class="reserved">this</span>.sliderDiv.style.top = topPos; 
		<span class="reserved">this</span>.sliderDivHor.style.left = (<span class="reserved">this</span>.currentHue - 4) + <span class="literal">'px'</span>; 		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setBgColorPreviewDiv()</span>
    <span class="comment">/**
     * Set background color of preview div
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setBgColorPreviewDiv : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElPreviewDiv.style.backgroundColor = <span class="literal">'#'</span> + <span class="reserved">this</span>.currentRgbCode;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setPaletteBgColor()</span>
    <span class="comment">/**
     * Set background color of gradient palette
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setPaletteBgColor : <span class="reserved">function</span>()
	{
		try{
			<span class="reserved">this</span>.divElPalette.style.backgroundColor = <span class="literal">'#'</span> + <span class="reserved">this</span>.colorHelper.getRgbCodeByHsv(<span class="reserved">this</span>.currentHue,1,1);
		}catch(e)
		{
			
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createFormDiv()</span>
    <span class="comment">/**
     * Create form elements for the slider
     *
     * <span class="attrib">@private</span>
     */</span>		
	__createFormDiv : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="reserved">this</span>.divElForm = document.createElement(<span class="literal">'DIV'</span>);	
		<span class="reserved">this</span>.divElForm.className = <span class="literal">'DHTMLSuite_colorSliderFormDiv'</span>;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.divElForm);
		
		<span class="reserved">this</span>.divElPreviewDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElPreviewDiv.className = <span class="literal">'DHTMLSuite_colorSlider_colorPreview'</span>;
		<span class="reserved">this</span>.divElForm.appendChild(<span class="reserved">this</span>.divElPreviewDiv);
		
		
		var table = document.createElement(<span class="literal">'TABLE'</span>);
		table.cellpadding = 0;
		table.cellspacing = 0;
		table.className = <span class="literal">'DHTMLSuite_colorSliderFormTable'</span>;
		var form = document.createElement(<span class="literal">'FORM'</span>);
		table.appendChild(form);
		<span class="reserved">this</span>.divElForm.appendChild(table);
		
		
		<span class="comment">/* Hue */</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.displayHsv){
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'H:'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldHue = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldHue.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveHueFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldHue);
			<span class="reserved">this</span>.fieldHue.maxLength=3;
			cell.appendChild(<span class="reserved">this</span>.fieldHue);
			
			<span class="comment">/* Saturation */</span>
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'S:'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldSaturation = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldSaturation.maxLength=3;
			<span class="reserved">this</span>.fieldSaturation.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveSatFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldSaturation);
			cell.appendChild(<span class="reserved">this</span>.fieldSaturation);
			
			<span class="comment">/* Brightness */</span>
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'B:'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldBrightness = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldBrightness.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveBriFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldBrightness);
			<span class="reserved">this</span>.fieldBrightness.maxLength=3;
			cell.appendChild(<span class="reserved">this</span>.fieldBrightness);
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.displayRgb){		
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'R:'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldRed = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldRed.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setRedColorFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldRed);		
			<span class="reserved">this</span>.fieldRed.maxLength=3;
			cell.appendChild(<span class="reserved">this</span>.fieldRed);
			
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'G:'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldGreen = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldGreen.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setGreenColorFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldGreen);				
			<span class="reserved">this</span>.fieldGreen.maxLength=3;
			cell.appendChild(<span class="reserved">this</span>.fieldGreen);
			
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'B:'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldBlue = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldBlue.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__setBlueColorFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldBlue);			
			<span class="reserved">this</span>.fieldBlue.maxLength=3;
			cell.appendChild(<span class="reserved">this</span>.fieldBlue);
		}	
		<span class="reserved">if</span>(<span class="reserved">this</span>.displayRgbCode){
			var row = table.insertRow(-1);
			var cell = row.insertCell(-1);
			cell.innerHTML = <span class="literal">'#'</span>;
			var cell = row.insertCell(-1);
			<span class="reserved">this</span>.fieldRgbCode = document.createElement(<span class="literal">'INPUT'</span>);
			<span class="reserved">this</span>.fieldRgbCode.maxLength=6;
			<span class="reserved">this</span>.fieldRgbCode.className = <span class="literal">'DHTMLSuite_colorSlider_rgbCode'</span>;
			<span class="reserved">this</span>.fieldRgbCode.onchange = <span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__receiveRgbCodeFromForm(e); }
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.fieldRgbCode);	
			cell.appendChild(<span class="reserved">this</span>.fieldRgbCode);	
		}		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __createMainDivEl()</span>
    <span class="comment">/**
     * Create main div element
     *
     * <span class="attrib">@private</span>
     */</span>		
	__createMainDivEl : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.divElement = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElement.className = <span class="literal">'DHTMLSuite_colorSlider'</span>;	
		<span class="reserved">if</span>(<span class="reserved">this</span>.parentRef)<span class="reserved">this</span>.parentRef.appendChild(<span class="reserved">this</span>.divElement);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __correctPng()</span>
    <span class="comment">/**
     * Correct png gradient for IE6 and below.
     *
     * <span class="attrib">@private</span>
     */</span>		
	__correctPng : <span class="reserved">function</span>(id)
	{	
		try{
			var img = document.getElementById(id);
			var html = <span class="literal">'&lt;span style="display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'</span><span class="literal">' + img.src + '</span>\<span class="literal">',sizingMethod=\'</span>scale\<span class="literal">');width:'</span> + <span class="reserved">this</span>.paletteSize + <span class="literal">';height:'</span> + <span class="reserved">this</span>.paletteSize + <span class="literal">'"&gt;&lt;/span&gt;'</span>;
			img.outerHTML = html;		
		}catch(e){
			var ind = <span class="reserved">this</span>.objectIndex;
			setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__correctPng("'</span> + id + <span class="literal">'")'</span>,20);
		}	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createdivElPalette()</span>
    <span class="comment">/**
     * Create div element for the palette
     *
     * <span class="attrib">@private</span>
     */</span>		
	__createdivElPalette : <span class="reserved">function</span>() 
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_colorSlider_palette_border'</span>;
		div.style.position = <span class="literal">'relative'</span>;
		<span class="reserved">this</span>.divElement.appendChild(div);
		<span class="reserved">this</span>.divElPaletteBorder = div;
		
		<span class="reserved">this</span>.divElPalette = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElPalette.className = <span class="literal">'DHTMLSuite_colorSlider_palette'</span>;	
		<span class="reserved">this</span>.divElPalette.style.position=<span class="literal">'relative'</span>;
		
		DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.divElPalette);
		
		var img = document.createElement(<span class="literal">'IMG'</span>);
		img.src = DHTMLSuite.configObj.imagePath + <span class="literal">'colorPalettes/bgGradient.png'</span>;
		img.setAttribute(<span class="literal">'width'</span>,<span class="reserved">this</span>.paletteSize);
		img.setAttribute(<span class="literal">'height'</span>,<span class="reserved">this</span>.paletteSize);
		img.ondragstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };	
		img.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };	
		img.onmousedown = <span class="reserved">function</span>() { <span class="reserved">return</span> false; };
		img.id = <span class="literal">''</span> + DHTMLSuite.commonObj.getUniqueId();
		<span class="reserved">this</span>.divElPalette.appendChild(img);
		DHTMLSuite.commonObj.__addEventEl(img);
		
		<span class="reserved">if</span>((DHTMLSuite.clientInfoObj.isMSIE &amp;&amp; DHTMLSuite.clientInfoObj.navigatorVersion&lt;7) || DHTMLSuite.clientInfoObj.isOpera){
			<span class="reserved">this</span>.__correctPng(img.id);		
		}		
		div.appendChild(<span class="reserved">this</span>.divElPalette);			
		<span class="reserved">this</span>.divElPaletteCircle = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElPaletteCircle.className = <span class="literal">'DHTMLSuite_colorSlider_palette_circle'</span>;	
		<span class="reserved">this</span>.divElPalette.appendChild(<span class="reserved">this</span>.divElPaletteCircle);		
		<span class="reserved">this</span>.divElPaletteCircle.display=<span class="literal">'block'</span>;		
		<span class="reserved">this</span>.divElPaletteCircle.style.top = <span class="literal">'-'</span> + <span class="reserved">this</span>.circleOffsetSize + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElPaletteCircle.style.left = (<span class="reserved">this</span>.paletteSize - <span class="reserved">this</span>.circleOffsetSize) + <span class="literal">'px'</span>;

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setSmallCirclePosition()</span>
    <span class="comment">/**
     * Position the small circle.
     *
     * <span class="attrib">@private</span>
     */</span>			
	__setSmallCirclePosition : <span class="reserved">function</span>()
	{
		var leftPos = Math.round(<span class="reserved">this</span>.currentSaturation * (<span class="reserved">this</span>.paletteSize / 100)) - <span class="reserved">this</span>.circleOffsetSize;
		var topPos = <span class="reserved">this</span>.paletteSize - Math.round(<span class="reserved">this</span>.currentBrightness * (<span class="reserved">this</span>.paletteSize / 100)) - <span class="reserved">this</span>.circleOffsetSize;		
		<span class="reserved">this</span>.divElPaletteCircle.style.left = leftPos + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElPaletteCircle.style.top = topPos  + <span class="literal">'px'</span>;		
		<span class="reserved">this</span>.divElPaletteCircle.className = <span class="reserved">this</span>.divElPaletteCircle.className.replace(<span class="literal">' DHTMLSuite_colorSlider_palette_circleBlack'</span>,<span class="literal">''</span>);
		<span class="reserved">if</span>(<span class="reserved">this</span>.currentBrightness &gt; 80){			
			<span class="reserved">this</span>.divElPaletteCircle.className  = <span class="reserved">this</span>.divElPaletteCircle.className + <span class="literal">' DHTMLSuite_colorSlider_palette_circleBlack'</span>;
		}	
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createHueBar()</span>
    <span class="comment">/**
     * Create vertical hue bar
     *
     * <span class="attrib">@private</span>
     */</span>	
	__createHueBar : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;		
		var mainDiv = document.createElement(<span class="literal">'DIV'</span>);
		mainDiv.className = <span class="literal">'DHTMLSuite_colorSlider_hue'</span>;
		<span class="reserved">this</span>.sliderDivMain = mainDiv;
		<span class="reserved">this</span>.divElement.appendChild(mainDiv);
		<span class="reserved">this</span>.sliderDiv = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.sliderDiv.className = <span class="literal">'DHTMLSuite_colorSlider_sliderHandle'</span>;
		mainDiv.appendChild(<span class="reserved">this</span>.sliderDiv);
		<span class="reserved">this</span>.sliderDiv.innerHTML = <span class="literal">'&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;'</span>;
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].sliderDiv.style.marginTop = (2 -Math.floor(DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].sliderDiv.offsetHeight/2)) + "px"'</span>,100);
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_colorSlider_hueBar_border'</span>;
		mainDiv.appendChild(div);
		<span class="reserved">this</span>.divElHueBar = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElHueBar.className = <span class="literal">'DHTMLSuite_colorSlider_hueBar'</span>;
		div.appendChild(<span class="reserved">this</span>.divElHueBar);
		<span class="reserved">if</span>(<span class="reserved">this</span>.hueSliderPosition==<span class="literal">'horizontal'</span>)mainDiv.style.display=<span class="literal">'none'</span>;
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createHueBarHorizontal()</span>
    <span class="comment">/**
     * Create horizontal hue bar
     *
     * <span class="attrib">@private</span>
     */</span>	
	__createHueBarHorizontal : <span class="reserved">function</span>()
	{		
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.sliderDivHorMain = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.sliderDivHorMain.className = <span class="literal">'DHTMLSuite_colorSlider_hueHorizontal'</span>;
		<span class="reserved">this</span>.divElement.appendChild(<span class="reserved">this</span>.sliderDivHorMain);
		<span class="reserved">this</span>.sliderDivHor = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.sliderDivHor.className = <span class="literal">'DHTMLSuite_colorSlider_sliderHandleHorizontal'</span>;
		<span class="reserved">this</span>.sliderDivHorMain.appendChild(<span class="reserved">this</span>.sliderDivHor);
		<span class="reserved">this</span>.sliderDivHor.innerHTML = <span class="literal">'&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;'</span>;
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].sliderDiv.style.marginTop = (2 -Math.floor(DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].sliderDiv.offsetHeight/2)) + "px"'</span>,100);
		var div = document.createElement(<span class="literal">'DIV'</span>);
		div.className = <span class="literal">'DHTMLSuite_colorSlider_hueBarHorizontal_border'</span>;
		<span class="reserved">this</span>.sliderDivHorMain.appendChild(div);
		<span class="reserved">this</span>.divElHueBarHorizontal = document.createElement(<span class="literal">'DIV'</span>);
		<span class="reserved">this</span>.divElHueBarHorizontal.className = <span class="literal">'DHTMLSuite_colorSlider_hueBarHorizontal'</span>;
		div.appendChild(<span class="reserved">this</span>.divElHueBarHorizontal);
		<span class="reserved">if</span>(<span class="reserved">this</span>.hueSliderPosition==<span class="literal">'vertical'</span>)<span class="reserved">this</span>.sliderDivHorMain.style.display=<span class="literal">'none'</span>;		
	}	

	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHueFromHorizontalSlider()</span>
    <span class="comment">/**
     * User has dragged the hrozintal scrollbar - we need to update the view.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setHueFromHorizontalSlider : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var hue = <span class="reserved">this</span>.sliderDivHor.offsetLeft + 4;
		<span class="reserved">if</span>(hue&gt;359 || hue&lt;0)hue=0;
		<span class="reserved">this</span>.currentHue = hue;
		<span class="reserved">this</span>.__setPaletteBgColor();
		<span class="reserved">this</span>.__setBgColorPreviewDiv();	
		<span class="reserved">this</span>.__updateRgbInForm();	
		<span class="reserved">this</span>.__updateHsvInForm();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHueFromSlider()</span>
    <span class="comment">/**
     * User has dragged the vertical scrollbar - we need to update the view.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setHueFromSlider : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var hue = 360 - Math.round((<span class="reserved">this</span>.sliderDiv.offsetTop + 4) * (360/<span class="reserved">this</span>.paletteSize))
		<span class="reserved">if</span>(hue&gt;359 || hue&lt;0)hue=0;
		<span class="reserved">this</span>.currentHue = hue;
		<span class="reserved">this</span>.__setPaletteBgColor();	
		<span class="reserved">this</span>.__setBgColorPreviewDiv();	
		<span class="reserved">this</span>.__updateHsvInForm();
		<span class="reserved">this</span>.__updateRgbInForm();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addEvents()</span>
    <span class="comment">/**
     * Add basic events.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__addEvents : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.sliderDivHorMain,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__initHorHueMove(e); });		
		DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.sliderDivMain,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__initHueMove(e); });		
		DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.divElPalette,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__initPaletteMove(e); });		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnPalette(e); });		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnHorizHueBar(e); });		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mousemove'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnHueBar(e); });		
		DHTMLSuite.commonObj.addEvent(document.documentElement,<span class="literal">'mouseup'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__endDrag(e); });			
		DHTMLSuite.commonObj.addEvent(<span class="reserved">this</span>.divElHueBar,<span class="literal">'mousedown'</span>,<span class="reserved">function</span>(e){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__moveOnHueBar(e); });		
	
		<span class="reserved">if</span>(!document.documentElement.onselectstart){
			document.documentElement.onselectstart = <span class="reserved">function</span>() { <span class="reserved">return</span> DHTMLSuite.commonObj.__isTextSelOk(); };
			DHTMLSuite.commonObj.__addEventEl(document.documentElement);		
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOnHueBar()</span>
    <span class="comment">/**
     * Click on hue bar - move the slider and update the view.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__moveOnHueBar : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.hueStatus!=1)<span class="reserved">return</span>;
		<span class="reserved">if</span>(document.all)e = event;
		var topPos = <span class="reserved">this</span>.poxYHue;		
		var diff = e.clientY + document.documentElement.scrollTop - topPos;
		<span class="reserved">if</span>(diff&gt;<span class="reserved">this</span>.paletteSize)diff = <span class="reserved">this</span>.paletteSize;
		<span class="reserved">if</span>(diff&lt;0)diff=0;
		<span class="reserved">this</span>.sliderDiv.style.top = diff + <span class="literal">'px'</span>;
		var hue = Math.round(((<span class="reserved">this</span>.paletteSize-diff) * (360/<span class="reserved">this</span>.paletteSize))); 
		<span class="reserved">if</span>(hue==360)hue=0;
		<span class="reserved">this</span>.currentHue = hue;
		<span class="reserved">this</span>.__setCurrentRgbCode();
		<span class="reserved">this</span>.__setPaletteBgColor();	
		<span class="reserved">this</span>.__setBgColorPreviewDiv();	
		<span class="reserved">this</span>.__updateHsvInForm();	
		<span class="reserved">this</span>.__updateRgbInForm();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOnHorizHueBar()</span>
    <span class="comment">/**
     * Click on hue bar - move the slider and update the view.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__moveOnHorizHueBar : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.hueHorStatus!=1)<span class="reserved">return</span>;
		<span class="reserved">if</span>(document.all)e = event;
		var leftPos = <span class="reserved">this</span>.posXHorHue;		
		var diff = e.clientX - leftPos - <span class="reserved">this</span>.circleOffsetBecauseOfWinWidget;		
		<span class="reserved">if</span>(diff&lt;0)diff=0;
		<span class="reserved">if</span>(diff&gt;362)diff=362;
		<span class="reserved">this</span>.sliderDivHor.style.left = (diff -4) + <span class="literal">'px'</span>;
		var hue = diff; 
		<span class="reserved">if</span>(hue&gt;=360)hue=0;
		<span class="reserved">this</span>.currentHue = hue;
		<span class="reserved">this</span>.__setCurrentRgbCode();
		<span class="reserved">this</span>.__setPaletteBgColor();	
		<span class="reserved">this</span>.__setBgColorPreviewDiv();
		<span class="reserved">this</span>.__updateHsvInForm();	
		<span class="reserved">this</span>.__updateRgbInForm();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setHueFromRgbColorsInForm()</span>
    <span class="comment">/**
     * User have changed value in the rgb code text input
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setHueFromRgbColorsInForm : <span class="reserved">function</span>()
	{
		var color = <span class="reserved">this</span>.colorHelper.getRgbCodeByRgbColors(<span class="reserved">this</span>.fieldRed.value,<span class="reserved">this</span>.fieldGreen.value,<span class="reserved">this</span>.fieldBlue.value);		
		var hsv = <span class="reserved">this</span>.colorHelper.getHsvByRgbCode(color);
		<span class="reserved">this</span>.currentHue = Math.round(hsv.hue);
		<span class="reserved">this</span>.currentSaturation = Math.round(hsv.saturation*100);
		<span class="reserved">this</span>.currentBrightness = Math.round(hsv.brightness*100);
		<span class="reserved">this</span>.__changeViewAfterColorChange();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setRedColorFromForm()</span>
    <span class="comment">/**
     * Receive red value from form
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setRedColorFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var red = src.value;	
		<span class="reserved">if</span>(red.match(/^[0-9]+$/)){
			<span class="reserved">if</span>(red/1&gt;255)red=255;
		}<span class="reserved">else</span>{
			red = 0;
		}
		src.value = red;
		<span class="reserved">this</span>.__setHueFromRgbColorsInForm();
		<span class="reserved">this</span>.__changeViewAfterColorChange();						
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setGreenColorFromForm()</span>
    <span class="comment">/**
     * Receive green value from form
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setGreenColorFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var green = src.value;		
		var green = src.value;	
		<span class="reserved">if</span>(green.match(/^[0-9]+$/)){
			<span class="reserved">if</span>(green/1&gt;255)green=255;
		}<span class="reserved">else</span>{
			green = 0;
		}
		src.value = green;
		<span class="reserved">this</span>.__setHueFromRgbColorsInForm();		
		<span class="reserved">this</span>.__changeViewAfterColorChange();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setBlueColorFromForm()</span>
    <span class="comment">/**
     * Receive blue value from form
     *
     * <span class="attrib">@private</span>
     */</span>
	__setBlueColorFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var blue = src.value;
		var blue = src.value;	
		<span class="reserved">if</span>(blue.match(/^[0-9]+$/)){
			<span class="reserved">if</span>(blue/1&gt;255)blue=255;
		}<span class="reserved">else</span>{
			blue = 0;
		}
		src.value = blue;
		<span class="reserved">this</span>.__setHueFromRgbColorsInForm();			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveRgbCodeFromForm()</span>
    <span class="comment">/**
     * Receive rgb code from form
     *
     * <span class="attrib">@private</span>
     */</span>
	__receiveRgbCodeFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var rgbCode = src.value;
		<span class="reserved">if</span>(!rgbCode.match(/^[0-9A-F][0-9A-F][0-9A-F][0-9A-F][0-9A-F][0-9A-F]$/i)){
			rgbCode = <span class="literal">'FF0000'</span>;
		}
		var hsv = <span class="reserved">this</span>.colorHelper.getHsvByRgbCode(rgbCode);
		<span class="reserved">this</span>.currentHue = Math.round(hsv.hue);
		<span class="reserved">this</span>.currentSaturation = Math.round(hsv.saturation*100);
		<span class="reserved">this</span>.currentBrightness = Math.round(hsv.brightness*100);
		<span class="reserved">this</span>.__changeViewAfterColorChange();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveHueFromForm()</span>
    <span class="comment">/**
     * Receive hue from form
     *
     * <span class="attrib">@private</span>
     */</span>
	__receiveHueFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var hue = src.value;
		hue = hue + <span class="literal">''</span>;
		<span class="reserved">if</span>(hue.match(/^[0-9]+$/)){
			<span class="reserved">if</span>(hue/1&gt;360)hue=360;
		}<span class="reserved">else</span>{
			hue = 0;
		}		
		<span class="reserved">if</span>(hue==360)hue=0;
		<span class="reserved">this</span>.currentHue = hue;
		src.value = hue;
		<span class="reserved">this</span>.__changeViewAfterColorChange();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveBriFromForm()</span>
    <span class="comment">/**
     * Receive brightness from form
     *
     * <span class="attrib">@private</span>
     */</span>
	__receiveBriFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var brightness = src.value;
		brightness = brightness + <span class="literal">''</span>;
		<span class="reserved">if</span>(brightness.match(/^[0-9]+$/)){
			<span class="reserved">if</span>(brightness/1&gt;100)brightness=100;
		}<span class="reserved">else</span>{
			brightness = 0;
		}
		<span class="reserved">this</span>.currentBrightness = brightness;
		src.value = brightness;
		<span class="reserved">this</span>.__changeViewAfterColorChange();	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __receiveSatFromForm()</span>
    <span class="comment">/**
     * Receive saturation from form
     *
     * <span class="attrib">@private</span>
     */</span>
	__receiveSatFromForm : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var saturation = src.value;
		saturation = saturation + <span class="literal">''</span>;
		<span class="reserved">if</span>(saturation.match(/^[0-9]+$/)){
			<span class="reserved">if</span>(saturation/1&gt;100)saturation=100;
		}<span class="reserved">else</span>{
			saturation = 0;
		}
		<span class="reserved">this</span>.currentSaturation = saturation;
		src.value = saturation;
		<span class="reserved">this</span>.__changeViewAfterColorChange();
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ffHackWinWidget()</span>
    <span class="comment">/**
     * Firefox hack - should be replaced when we find a good way to extract the correct x and y position of an element. The current DHTMLSuite.getLeftPos function doesn't work well there.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__ffHackWinWidget : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.divElement.parentNode.className &amp;&amp; <span class="reserved">this</span>.divElement.parentNode.className.indexOf(<span class="literal">'windowContent'</span>)&gt;=0 &amp;&amp; !document.all){
			<span class="reserved">this</span>.circleOffsetBecauseOfWinWidget = 0; <span class="comment">// Firefox hack because of problems with the getLeftPos() method. Need to figure out a better way to do this. the getLeftPos method returns wrong position in Firefox for window widget content</span>
		}			
	}
	<span class="comment">// }}}</span>
	,
	__initHorHueMove : <span class="reserved">function</span>(e)
	{
		<span class="reserved">this</span>.hueHorStatus = 1;
		<span class="reserved">this</span>.__ffHackWinWidget();
		<span class="reserved">this</span>.posXHorHue = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElHueBarHorizontal);		
		DHTMLSuite.commonObj.__setTextSelOk(false);
		<span class="reserved">this</span>.__moveOnHorizHueBar(e);	
		<span class="reserved">return</span> false;
	}	
	<span class="comment">// }}}</span>
	,
	__initHueMove : <span class="reserved">function</span>(e)
	{
		<span class="reserved">this</span>.hueStatus = 1;
		<span class="reserved">this</span>.poxYHue = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElHueBar);
		DHTMLSuite.commonObj.__setTextSelOk(false);
		<span class="reserved">this</span>.__moveOnHueBar(e);	
		<span class="reserved">return</span> false;
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initPaletteMove()</span>
    <span class="comment">/**
     * Initiate move on palette.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__initPaletteMove : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(document.all)e = event;
		<span class="reserved">this</span>.__ffHackWinWidget();
		<span class="comment">// Cache x and y position position of palette	</span>
		<span class="reserved">this</span>.posdivElPalette.x = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.divElPalette) + <span class="reserved">this</span>.circleOffsetBecauseOfWinWidget;
		<span class="reserved">this</span>.posdivElPalette.y = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.divElPalette) + <span class="reserved">this</span>.circleOffsetBecauseOfWinWidget;	
		<span class="reserved">this</span>.dragStatus = 1;		
		
		<span class="reserved">this</span>.paletteMaxX = (<span class="reserved">this</span>.divElPalette.clientWidth -<span class="reserved">this</span>.circleOffsetSize); 
		<span class="reserved">this</span>.paletteMaxY = (<span class="reserved">this</span>.divElPalette.clientHeight -<span class="reserved">this</span>.circleOffsetSize); 
		<span class="reserved">this</span>.__moveOnPalette(e);		
		DHTMLSuite.commonObj.__setTextSelOk(false);
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setCurrentRgbCode()</span>
    <span class="comment">/**
     * Save current rgb code
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setCurrentRgbCode : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.currentRgbCode = <span class="reserved">this</span>.colorHelper.getRgbCodeByHsv(<span class="reserved">this</span>.currentHue,<span class="reserved">this</span>.currentSaturation/100,<span class="reserved">this</span>.currentBrightness/100);

	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __endDrag()</span>
    <span class="comment">/**
     * End moving circle on palette
     *
     * <span class="attrib">@private</span>
     */</span>	
	__endDrag : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus==1){
			<span class="reserved">this</span>.__updateHsvInForm();
			<span class="reserved">this</span>.__updateRgbInForm();
		}			
		<span class="reserved">this</span>.dragStatus = 0;
		<span class="reserved">this</span>.hueHorStatus = 0;
		<span class="reserved">this</span>.hueStatus = 0;
		
		

					
		DHTMLSuite.commonObj.__setTextSelOk(true);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __moveOnPalette()</span>
    <span class="comment">/**
     * Click on palette
     *
     * <span class="attrib">@private</span>
     */</span>	
	__moveOnPalette : <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.dragStatus!=1)<span class="reserved">return</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.clickOnPaletteInProgress)<span class="reserved">return</span>;
		<span class="reserved">this</span>.clickOnPaletteInProgress= true;	
		<span class="reserved">if</span>(document.all)e = event;	
		var leftEl = <span class="reserved">this</span>.posdivElPalette.x;
		var topEl = <span class="reserved">this</span>.posdivElPalette.y;			
		
		var left = e.clientX +  document.documentElement.scrollLeft - leftEl -<span class="reserved">this</span>.circleOffsetSize;
		var top = e.clientY + document.documentElement.scrollTop - topEl -<span class="reserved">this</span>.circleOffsetSize;
		
		<span class="reserved">if</span>(left&lt;<span class="reserved">this</span>.circleOffsetSize*-1)left = <span class="reserved">this</span>.circleOffsetSize*-1;
		<span class="reserved">if</span>(top&lt;<span class="reserved">this</span>.circleOffsetSize*-1)top = <span class="reserved">this</span>.circleOffsetSize*-1;
		
		<span class="reserved">if</span>(left&gt;<span class="reserved">this</span>.paletteMaxX)left = <span class="reserved">this</span>.paletteMaxX;
		<span class="reserved">if</span>(top&gt;<span class="reserved">this</span>.paletteMaxY)top = <span class="reserved">this</span>.paletteMaxY;			
		
		<span class="reserved">this</span>.divElPaletteCircle.style.left = left + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.divElPaletteCircle.style.top = top + <span class="literal">'px'</span>;
		
		<span class="reserved">this</span>.currentSaturation = Math.round(((left+<span class="reserved">this</span>.circleOffsetSize) / <span class="reserved">this</span>.paletteSize) * 100);
		<span class="reserved">this</span>.currentBrightness = 100 - Math.round(((top+<span class="reserved">this</span>.circleOffsetSize) / <span class="reserved">this</span>.paletteSize) * 100);
		
		<span class="reserved">this</span>.__setCurrentRgbCode();
		<span class="reserved">this</span>.__setBgColorPreviewDiv();
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.updateFormDuringMoveOnPalette){
			<span class="reserved">this</span>.__updateHsvInForm();
			<span class="reserved">this</span>.__updateRgbInForm();		
		}
		<span class="reserved">this</span>.clickOnPaletteInProgress = false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     * Handle/Evaluate call back
     *
     * <span class="attrib">@private</span>
     */</span>	
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">'rgbChange'</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnChangeRgb)callbackString = <span class="reserved">this</span>.callbackOnChangeRgb;
				break;	
			
		}	
		<span class="reserved">if</span>(callbackString){
			callbackString = callbackString + <span class="literal">'({ rgb:"#" + this.currentRgbCode,hue:this.currentHue,brightness:this.currentBrightness,saturation:this.currentSaturation })'</span>;
			eval(callbackString);		
		}
	}	
}
<span class="comment">/*[FILE_START:dhtmlSuite-colorUtil.js] */</span>
<span class="comment">/************************************************************************************************************
*	Color functions
*
*	Created:			August, 23rd, 2006
*	<span class="attrib">@class</span> Purpose of class:	This class provides some methods for working with colors.
*			
* 	Update log:
*
************************************************************************************************************/</span>
<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> This class provides some methods for working with colors.
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>
DHTMLSuite.colorUtil = <span class="reserved">function</span>()
{	
}

DHTMLSuite.colorUtil.<span class="reserved">prototype</span> = {

	<span class="comment">// {{{ baseConverter()</span>
    <span class="comment">/**
     *	converts numbers from different number systems(example: Decimal to octal)
     * 	
     *	<span class="attrib">@param</span> mixed numberToConvert - Number to convert
     *	<span class="attrib">@param</span> int oldBase - Convert from which base(8 = octal, 10 = decimal, 16 = hexadecimal)
     *	<span class="attrib">@param</span> int newBase - Convert to which base(8 = octal, 10 = decimal, 16 = hexadecimal)
     *	
     *	<span class="attrib">@return</span> String number in new base.(Example: decimal "16" returns "F" when converted to hexadecimal)
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>	
    	
	baseConverter : <span class="reserved">function</span>(numberToConvert,oldBase,newBase) {
		<span class="reserved">if</span>(newBase==10){
			<span class="reserved">return</span> parseInt(numberToConvert,16);
		}
		<span class="reserved">if</span>(newBase==16){
			<span class="reserved">return</span> parseInt(numberToConvert).toString(16);
		}		
		numberToConvert = numberToConvert + <span class="literal">""</span>;
		numberToConvert = numberToConvert.toUpperCase();
		var listOfCharacters = <span class="literal">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span>;
		var dec = 0;
		<span class="reserved">for</span> (var i = 0; i &lt;=  numberToConvert.length; i++) {
			dec += (listOfCharacters.indexOf(numberToConvert.charAt(i))) * (Math.pow(oldBase , (numberToConvert.length - i - 1)));
		}
		numberToConvert = <span class="literal">""</span>;
		var magnitude = Math.floor((Math.log(dec))/(Math.log(newBase)));
		<span class="reserved">for</span> (var i = magnitude; i &gt;= 0; i--) {
			var amount = Math.floor(dec/Math.pow(newBase,i));
			numberToConvert = numberToConvert + listOfCharacters.charAt(amount); 
			dec -= amount*(Math.pow(newBase,i));
		}
		<span class="reserved">if</span>(numberToConvert.length==0)numberToConvertToConvert=0;
		<span class="reserved">if</span>(!numberToConvert)numberToConvert=0;
		<span class="reserved">return</span> numberToConvert;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getHsvByRgbCode()</span>
    <span class="comment">/**
     *	Converts a RGB color to HSV
     * 	
     *	<span class="attrib">@param</span> String rgbColor - Example: #FF12AB or FF12AB
     *	<span class="attrib">@return</span> Array H,S,B = Hue, Saturation and Brightness
     *	<span class="attrib">@type</span> Array
     *
     * <span class="attrib">@public</span>
     */</span>		
	getHsvByRgbCode : <span class="reserved">function</span>(rgbColor){
		rgbColor = rgbColor.replace(<span class="literal">'#'</span>,<span class="literal">''</span>);		
		red = <span class="reserved">this</span>.baseConverter(rgbColor.substr(0,2),16,10);
		green = <span class="reserved">this</span>.baseConverter(rgbColor.substr(2,2),16,10);
		blue = <span class="reserved">this</span>.baseConverter(rgbColor.substr(4,2),16,10);

		<span class="reserved">if</span>(red==0 &amp;&amp; green==0 &amp;&amp; blue==0){
			var returnArray = new Object();
			returnArray.hue = 0;
			returnArray.saturation=0;
			returnArray.brightness = 0;
			<span class="reserved">return</span> returnArray;		
		}
			
		red = red/255;
		green = green/255;
		blue = blue/255;
		
		maxValue = Math.max(red,green,blue);
		minValue = Math.min(red,green,blue);
		
		var hue = 0;
		
		<span class="reserved">if</span>(maxValue==minValue){
			hue = 0;
			saturation=0;
		}<span class="reserved">else</span>{
			<span class="reserved">if</span>(red == maxValue){
				hue = (green - blue) / (maxValue-minValue)/1;	
			}<span class="reserved">else</span> <span class="reserved">if</span>(green == maxValue){
				hue = 2 + (blue - red)/1 / (maxValue-minValue)/1;	
			}<span class="reserved">else</span> <span class="reserved">if</span>(blue == maxValue){
				hue = 4 + (red - green) / (maxValue-minValue)/1;	
			}
			saturation = (maxValue-minValue) / maxValue;
		}
		hue = hue * 60; 
		valueBrightness = maxValue;
	
		<span class="reserved">if</span>(hue&lt;0)hue+=360;	
		var returnArray = new Object();
		returnArray.hue = hue;
		returnArray.saturation = saturation;
		returnArray.brightness = valueBrightness;
		<span class="reserved">return</span> returnArray;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getCompColorByRgb()</span>
    <span class="comment">/**
     *	Return the rgb code of a complementary color
     * 	
     *	<span class="attrib">@param</span> String inputRgb - Rgb code
     *
     *	<span class="attrib">@return</span> String rgbCode - Complementary color
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getContrastColorByRgb : <span class="reserved">function</span>(rgbCode)
	{
		var hsv = <span class="reserved">this</span>.getHsvByRgbCode(rgbCode);	
		hsv.hue+=180;
		<span class="reserved">if</span>(hsv.hue&gt;=360)hsv.hue-=360;
		<span class="reserved">return</span> <span class="reserved">this</span>.getRgbCodeByHsv(hsv.hue,hsv.saturation,hsv.brightness);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getTriadeColorsByRgb()</span>
    <span class="comment">/**
     *	Return triade colors of an rgb code. Triade colors are 3 colors located 120 degrees from each other on the color wheel. This method will return the 2 triade colors for the input color
     * 	
     *	<span class="attrib">@param</span> String inputRgb - Rgb code
     *
     *	<span class="attrib">@return</span> Array colors - Array of triade colors
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getTriadeColorsByRgb : <span class="reserved">function</span>(rgbCode)
	{
		var hsv = <span class="reserved">this</span>.getHsvByRgbCode(rgbCode);	
		var colors = new Array();
		<span class="reserved">for</span>(var no=120;no&lt;360;no+=120){
			colors[colors.length] = <span class="reserved">this</span>.getRgbCodeByHsv(hsv.hue + no,hsv.saturation,hsv.brightness)		
		}
		<span class="reserved">return</span> colors;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getTetradeColorsByRgb()</span>
    <span class="comment">/**
     *	Return tetrade colors of an rgb code. Triade colors are 4 colors located 90 degrees from each other on the color wheel. This method will return the 3 tetrade colors for the input color
     * 	
     *	<span class="attrib">@param</span> String inputRgb - Rgb code
     *
     *	<span class="attrib">@return</span> Array colors - Array of triade colors
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getTetradeColorsByRgb : <span class="reserved">function</span>(rgbCode)
	{
		var hsv = <span class="reserved">this</span>.getHsvByRgbCode(rgbCode);	
		var colors = new Array();
		<span class="reserved">for</span>(var no=90;no&lt;360;no+=90){
			colors[colors.length] = <span class="reserved">this</span>.getRgbCodeByHsv(hsv.hue + no,hsv.saturation,hsv.brightness)		
		}
		<span class="reserved">return</span> colors;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getAnalogicColors()</span>
    <span class="comment">/**
     *	Return getAnalogicColors colors of an rgb code. Analogic colors will return 4 colors, two evenly distanced on both sides of the input color. You can specify distance by sending in a second argument to this
     *	method. Default is 25.
     * 	
     *	<span class="attrib">@param</span> String inputRgb - Rgb code
     *	<span class="attrib">@param</span> Integer degrees - Degrees on the color wheel between colors(value between 15 and 30)
     *
     *	<span class="attrib">@return</span> Array colors - Array of triade colors
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getAnalogicColors : <span class="reserved">function</span>(rgbCode,degrees)
	{
		degrees = degrees + <span class="literal">''</span>;
		<span class="reserved">if</span>(!degrees)degrees = 25;
		<span class="reserved">if</span>(!degrees.match(/^[0-9]{2}$/)){
			degrees = 25;
		}
		<span class="reserved">if</span>(degrees&lt;15)degrees=15;
		<span class="reserved">if</span>(degrees&gt;30)degrees=30;
		degrees/=1;
		var hsv = <span class="reserved">this</span>.getHsvByRgbCode(rgbCode);	
		var colors = new Array();
		<span class="reserved">for</span>(var no=1;no&lt;=2;no++){
			colors[colors.length] = <span class="reserved">this</span>.getRgbCodeByHsv(hsv.hue + (no*degrees),hsv.saturation,hsv.brightness)		
		}
		<span class="reserved">for</span>(var no=-1;no&gt;=-2;no--){
			colors[colors.length] = <span class="reserved">this</span>.getRgbCodeByHsv(hsv.hue + (no*degrees),hsv.saturation,hsv.brightness)		
		}
		<span class="reserved">return</span> colors;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getRgbCodeByRgbColors()</span>
    <span class="comment">/**
     *	Return an rgb code from numeric red,green and blue
     * 	
     *	<span class="attrib">@param</span> Int red - (0 - 255)
     *	<span class="attrib">@param</span> int green - ( 0 - 255)
     *	<span class="attrib">@param</span> int blue - (0-255)
     *
     *	<span class="attrib">@return</span> Array RGB - Returns an associative array of the keys red,green,blue, example myColor['red'] or myColor.red)
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getRgbCodeByRgbColors : <span class="reserved">function</span>(red,green,blue)
	{
		red = <span class="reserved">this</span>.baseConverter(red,10,16);
		green = <span class="reserved">this</span>.baseConverter(green,10,16);
		blue = <span class="reserved">this</span>.baseConverter(blue,10,16);
		
		red = red + <span class="literal">""</span>;
		green = green + <span class="literal">""</span>;
		blue = blue + <span class="literal">""</span>;
	
		<span class="reserved">while</span>(red.length&lt;2){
			red = <span class="literal">"0"</span> + red;
		}	
		<span class="reserved">while</span>(green.length&lt;2){
			green = <span class="literal">"0"</span> + green;
		}	
		<span class="reserved">while</span>(blue.length&lt;2){
			blue = <span class="literal">"0"</span> + <span class="literal">""</span> + blue;
		}
		rgbColor = red + <span class="literal">""</span> + green + <span class="literal">""</span> + blue;
		<span class="reserved">return</span> rgbColor.toUpperCase();		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getRgbColorsByRgbCode()</span>
    <span class="comment">/**
     *	Return an rgb code from numeric red,green and blue
     * 	
     *	<span class="attrib">@param</span> String rgbCode in the format RRGGBB ( NO # as prefix)
     *
     *	<span class="attrib">@return</span> Array RGB - Returns an associative array of the keys red,green,blue, example myColor['red'] or myColor.red)
     *	<span class="attrib">@type</span> Array
     *
     * <span class="attrib">@public</span>
     */</span>		
	getRgbColorsByRgbCode : <span class="reserved">function</span>(rgbCode)
	{
		var retArray = new Object();
		retArray.red = <span class="reserved">this</span>.baseConverter(rgbCode.substr(0,2),16,10);
		retArray.green = <span class="reserved">this</span>.baseConverter(rgbCode.substr(2,2),16,10);
		retArray.blue = <span class="reserved">this</span>.baseConverter(rgbCode.substr(4,2),16,10);
		<span class="reserved">return</span> retArray;	
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ getRgbColorsByHsv()</span>
    <span class="comment">/**
     *	Return an array of red,green and blue from hue,saturation and brightness
     * 	
     *	<span class="attrib">@param</span> Int hue - Degrees - Position on color wheel. Value between 0 and 359
     *	<span class="attrib">@param</span> float saturation - Intensity of color(value between 0 and 1)
     *	<span class="attrib">@param</span> float valueBrightness - Brightness(value between 0 and 1)
     *
     *	<span class="attrib">@return</span> Array RGB - Returns an associative array of the keys red,green,blue, example myColor['red'] or myColor.red)
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getRgbColorsByHsv : <span class="reserved">function</span>(hue,saturation,valueBrightness)
	{
		Hi = Math.floor(hue / 60);
		<span class="reserved">if</span>(hue==360)hue=0;
		f = hue/60 - Hi;
		<span class="reserved">if</span>(saturation&gt;1)saturation/=100;
		<span class="reserved">if</span>(valueBrightness&gt;1)valueBrightness/=100;
		
		p = (valueBrightness * (1- saturation));
		q = (valueBrightness * (1 - (f * saturation)));
		t = (valueBrightness * (1 - ((1-f)*saturation)));

		switch(Hi){
			case 0:
				red = valueBrightness;
				green = t;
				blue = p;				
				break;
			case 1: 
				red = q;
				green = valueBrightness;
				blue = p;
				break;
			case 2: 
				red = p;
				green = valueBrightness;
				blue = t;
				break;
			case 3: 
				red = p;
				green = q;;
				blue = valueBrightness;
				break;
			case 4:
				red = t;
				green = p;
				blue = valueBrightness;
				break;
			default:
				red = valueBrightness;
				green = p;
				blue = q;
				break;
		}
		
		<span class="reserved">if</span>(saturation==0){
			red = valueBrightness;
			green = valueBrightness;
			blue = valueBrightness;		
		}
		
		red*=255;
		green*=255;
		blue*=255;
	
		red = Math.round(red);
		green = Math.round(green);
		blue = Math.round(blue);	
			
		var retArray = new Object();
		retArray.red = red;
		retArray.green = green;
		retArray.blue = blue;
		<span class="reserved">return</span> retArray;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getRgbCodeByHsv()</span>
    <span class="comment">/**
     *	Converts a RGB color to HSV
     * 	
     *	<span class="attrib">@param</span> Int hue - Degrees - Position on color wheel. Value between 0 and 359
     *	<span class="attrib">@param</span> float saturation - Intensity of color(value between 0 and 1)
     *	<span class="attrib">@param</span> float valueBrightness - Brightness(value between 0 and 1)
     *
     *	<span class="attrib">@return</span> String RGBColor - example #FF00FF
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getRgbCodeByHsv : <span class="reserved">function</span>(hue,saturation,valueBrightness){
		<span class="reserved">while</span>(hue&gt;=360)hue-=360;
		var colors = <span class="reserved">this</span>.getRgbColorsByHsv(hue,saturation,valueBrightness);		
		var red = colors.red;
		var green = colors.green
		var blue = colors.blue;
		
		<span class="reserved">return</span> <span class="reserved">this</span>.getRgbCodeByRgbColors(red,green,blue);
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ getColorByDegrees()</span>
    <span class="comment">/**
     *	Returns RGB color from a position on the color wheel
     * 	
     *	<span class="attrib">@param</span> String rgbColor - Rgb color to calculate degrees from
     *	<span class="attrib">@param</span> Float degrees - How many degrees to move on the color wheel(clockwise)
     *
     *	<span class="attrib">@return</span> String RGBColor - new rgb color - example #FF00FF
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>	
	getColorByDegrees : <span class="reserved">function</span>(rgbColor,degrees){
		rgbColor = rgbColor.replace(<span class="literal">'#'</span>,<span class="literal">''</span>);
		myArray = <span class="reserved">this</span>.getHsvByRgbCode(rgbColor);
		myArray.hue+=degrees;
		<span class="reserved">if</span>(myArray.hue&gt;=360)myArray.hue-=360;
		<span class="reserved">if</span>(myArray.hue&lt;0)myArray.hue+=360;	
		<span class="reserved">return</span> <span class="reserved">this</span>.getRgbCodeByHsv(myArray.hue,myArray.saturation,myArray.brightness);
	}
	<span class="comment">// }}}	</span>
	,
	<span class="comment">// {{{ findColorByBrightness()</span>
    <span class="comment">/**
     *	Returns a new rgb color after change of brightness
     * 	
     *	<span class="attrib">@param</span> String rgbColor - RGB start color
     *	<span class="attrib">@param</span> Int brightness - Change in brightness (value between -100 and 100)
     *
     *	<span class="attrib">@return</span> String RGBColor - new rgb color - example #FF00FF
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	findColorByBrightness : <span class="reserved">function</span>(rgbColor,brightness){
		
		rgbColor = rgbColor.replace(<span class="literal">'#'</span>,<span class="literal">''</span>);
		myArray = <span class="reserved">this</span>.getHsvByRgbCode(rgbColor);
		
		myArray.brightness+=brightness/100;
		<span class="reserved">if</span>(myArray.brightness&gt;1)myArray.brightness=1;
		<span class="reserved">if</span>(myArray.brightness&lt;0)myArray.brightness=0;	
		
		<span class="reserved">if</span>(myArray.saturation&gt;1)myArray.saturation=1;
		<span class="reserved">if</span>(myArray.saturation&lt;0)myArray.saturation=0;		
		
		<span class="reserved">return</span> <span class="reserved">this</span>.getRgbCodeByHsv(myArray.hue,myArray.saturation,myArray.brightness);			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getRgbFromNumbers()</span>
    <span class="comment">/**
     *	Returns a color in RGB format(e.g.: #FFEECC from numeric values of red, green and blue)
     * 	
     *	<span class="attrib">@param</span> Int red - Amount of red(0-255)
     *	<span class="attrib">@param</span> Int green - Amount of green(0-255)
     *	<span class="attrib">@param</span> Int blue - Amount of blue(0-255)
	 *
     *
     *	<span class="attrib">@return</span> String RGBColor - new rgb color - example #FF00FF
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>	
	getRgbFromNumbers : <span class="reserved">function</span>(red,green,blue)
	{
		red = <span class="reserved">this</span>.baseConverter(red,10,16);
		<span class="reserved">if</span>(red.length==0)red = <span class="literal">'0'</span> + red;
		green = <span class="reserved">this</span>.baseConverter(green,10,16);
		<span class="reserved">if</span>(green.length==0)green = <span class="literal">'0'</span> + green;
		blue = <span class="reserved">this</span>.baseConverter(blue,10,16);
		<span class="reserved">if</span>(blue.length==0)blue = <span class="literal">'0'</span> + blue;
		<span class="reserved">return</span> <span class="literal">'#'</span> + red + green + blue;
	}   
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getAllWebColors()</span>
    <span class="comment">/**
     *	This method returns an array of all web colors
     * 	
	 *
     *
     *	<span class="attrib">@return</span> Array RGBColors - Numeric array of all web colors (216 colors)
     *	<span class="attrib">@type</span> String
     *
     * <span class="attrib">@public</span>
     */</span>		
	getAllWebColors : <span class="reserved">function</span>()
	{
		var retArray = new Array();
		<span class="reserved">for</span>(var red=0;red&lt;=15;red+=3){
			<span class="reserved">for</span>(var green=0;green&lt;=15;green+=3){
				<span class="reserved">for</span>(var blue=0;blue&lt;=15;blue+=3){
					var newRed = <span class="reserved">this</span>.baseConverter(red,10,16);			
					var newGreen = <span class="reserved">this</span>.baseConverter(green,10,16);			
					var newBlue = <span class="reserved">this</span>.baseConverter(blue,10,16);	
					retArray[retArray.length] = newRed + <span class="literal">''</span> + newRed + <span class="literal">''</span> +newGreen +<span class="literal">''</span> + newGreen +<span class="literal">''</span> + newBlue + <span class="literal">''</span> + newBlue;		
				}
			}
		}
		<span class="reserved">return</span> retArray;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ getAllNamedColors()</span>
    <span class="comment">/**
     *	This method returns an array of all web colors
     * 	
	 *
     *
     *	<span class="attrib">@return</span> Array Colors - Returns a multi dimensional array of colors, first index separate each color. Each item in the main array will then contain two values: 1) color name, 2) rgb code 
     *	<span class="attrib">@type</span> Array
     *
     * <span class="attrib">@public</span>
     */</span>		
	getAllNamedColors : <span class="reserved">function</span>()
	{
		var c = new Array();
		c[c.length] = [<span class="literal">'AliceBlue'</span>,<span class="literal">'F0F8FF'</span>];
		c[c.length] = [<span class="literal">'AntiqueWhite'</span>,<span class="literal">'FAEBD7'</span>];
		c[c.length] = [<span class="literal">'Aqua'</span>,<span class="literal">'00FFFF'</span>];
		c[c.length] = [<span class="literal">'Aquamarine'</span>,<span class="literal">'7FFFD4'</span>];
		c[c.length] = [<span class="literal">'Azure'</span>,<span class="literal">'F0FFFF'</span>];
		c[c.length] = [<span class="literal">'Beige'</span>,<span class="literal">'F5F5DC'</span>];
		c[c.length] = [<span class="literal">'Bisque'</span>,<span class="literal">'FFE4C4'</span>];
		c[c.length] = [<span class="literal">'Black'</span>,<span class="literal">'000000'</span>];
		c[c.length] = [<span class="literal">'BlanchedAlmond'</span>,<span class="literal">'FFEBCD'</span>];
		c[c.length] = [<span class="literal">'Blue'</span>,<span class="literal">'0000FF'</span>];
		c[c.length] = [<span class="literal">'BlueViolet'</span>,<span class="literal">'8A2BE2'</span>];
		c[c.length] = [<span class="literal">'Brown'</span>,<span class="literal">'A52A2A'</span>];
		c[c.length] = [<span class="literal">'BurlyWood'</span>,<span class="literal">'DEB887'</span>];
		c[c.length] = [<span class="literal">'CadetBlue'</span>,<span class="literal">'5F9EA0'</span>];
		c[c.length] = [<span class="literal">'Chartreuse'</span>,<span class="literal">'7FFF00'</span>];
		c[c.length] = [<span class="literal">'Chocolate'</span>,<span class="literal">'D2691E'</span>];
		c[c.length] = [<span class="literal">'Coral'</span>,<span class="literal">'FF7F50'</span>];
		c[c.length] = [<span class="literal">'CornflowerBlue'</span>,<span class="literal">'6495ED'</span>];
		c[c.length] = [<span class="literal">'Cornsilk'</span>,<span class="literal">'FFF8DC'</span>];
		c[c.length] = [<span class="literal">'Crimson'</span>,<span class="literal">'DC143C'</span>];
		c[c.length] = [<span class="literal">'Cyan'</span>,<span class="literal">'00FFFF'</span>];
		c[c.length] = [<span class="literal">'DarkBlue'</span>,<span class="literal">'00008B'</span>];
		c[c.length] = [<span class="literal">'DarkCyan'</span>,<span class="literal">'008B8B'</span>];
		c[c.length] = [<span class="literal">'DarkGoldenRod'</span>,<span class="literal">'B8860B'</span>];
		c[c.length] = [<span class="literal">'DarkGray'</span>,<span class="literal">'A9A9A9'</span>];
		c[c.length] = [<span class="literal">'DarkGrey'</span>,<span class="literal">'A9A9A9'</span>];
		c[c.length] = [<span class="literal">'DarkGreen'</span>,<span class="literal">'006400'</span>];
		c[c.length] = [<span class="literal">'DarkKhaki'</span>,<span class="literal">'BDB76B'</span>];
		c[c.length] = [<span class="literal">'DarkMagenta'</span>,<span class="literal">'8B008B'</span>];
		c[c.length] = [<span class="literal">'DarkOliveGreen'</span>,<span class="literal">'556B2F'</span>];
		c[c.length] = [<span class="literal">'Darkorange'</span>,<span class="literal">'FF8C00'</span>];
		c[c.length] = [<span class="literal">'DarkOrchid'</span>,<span class="literal">'9932CC'</span>];
		c[c.length] = [<span class="literal">'DarkRed'</span>,<span class="literal">'8B0000'</span>];
		c[c.length] = [<span class="literal">'DarkSalmon'</span>,<span class="literal">'E9967A'</span>];
		c[c.length] = [<span class="literal">'DarkSeaGreen'</span>,<span class="literal">'8FBC8F'</span>];
		c[c.length] = [<span class="literal">'DarkSlateBlue'</span>,<span class="literal">'483D8B'</span>];
		c[c.length] = [<span class="literal">'DarkSlateGray'</span>,<span class="literal">'2F4F4F'</span>];
		c[c.length] = [<span class="literal">'DarkSlateGrey'</span>,<span class="literal">'2F4F4F'</span>];
		c[c.length] = [<span class="literal">'DarkTurquoise'</span>,<span class="literal">'00CED1'</span>];
		c[c.length] = [<span class="literal">'DarkViolet'</span>,<span class="literal">'9400D3'</span>];
		c[c.length] = [<span class="literal">'DeepPink'</span>,<span class="literal">'FF1493'</span>];
		c[c.length] = [<span class="literal">'DeepSkyBlue'</span>,<span class="literal">'00BFFF'</span>];
		c[c.length] = [<span class="literal">'DimGray'</span>,<span class="literal">'696969'</span>];
		c[c.length] = [<span class="literal">'DimGrey'</span>,<span class="literal">'696969'</span>];
		c[c.length] = [<span class="literal">'DodgerBlue'</span>,<span class="literal">'1E90FF'</span>];
		c[c.length] = [<span class="literal">'FireBrick'</span>,<span class="literal">'B22222'</span>];
		c[c.length] = [<span class="literal">'FloralWhite'</span>,<span class="literal">'FFFAF0'</span>];
		c[c.length] = [<span class="literal">'ForestGreen'</span>,<span class="literal">'228B22'</span>];
		c[c.length] = [<span class="literal">'Fuchsia'</span>,<span class="literal">'FF00FF'</span>];
		c[c.length] = [<span class="literal">'Gainsboro'</span>,<span class="literal">'DCDCDC'</span>];
		c[c.length] = [<span class="literal">'GhostWhite'</span>,<span class="literal">'F8F8FF'</span>];
		c[c.length] = [<span class="literal">'Gold'</span>,<span class="literal">'FFD700'</span>];
		c[c.length] = [<span class="literal">'GoldenRod'</span>,<span class="literal">'DAA520'</span>];
		c[c.length] = [<span class="literal">'Gray'</span>,<span class="literal">'808080'</span>];
		c[c.length] = [<span class="literal">'Grey'</span>,<span class="literal">'808080'</span>];
		c[c.length] = [<span class="literal">'Green'</span>,<span class="literal">'008000'</span>];
		c[c.length] = [<span class="literal">'GreenYellow'</span>,<span class="literal">'ADFF2F'</span>];
		c[c.length] = [<span class="literal">'HoneyDew'</span>,<span class="literal">'F0FFF0'</span>];
		c[c.length] = [<span class="literal">'HotPink'</span>,<span class="literal">'FF69B4'</span>];
		c[c.length] = [<span class="literal">'IndianRed '</span>,<span class="literal">'CD5C5C'</span>];
		c[c.length] = [<span class="literal">'Indigo  '</span>,<span class="literal">'4B0082'</span>];
		c[c.length] = [<span class="literal">'Ivory'</span>,<span class="literal">'FFFFF0'</span>];
		c[c.length] = [<span class="literal">'Khaki'</span>,<span class="literal">'F0E68C'</span>];
		c[c.length] = [<span class="literal">'Lavender'</span>,<span class="literal">'E6E6FA'</span>];
		c[c.length] = [<span class="literal">'LavenderBlush'</span>,<span class="literal">'FFF0F5'</span>];
		c[c.length] = [<span class="literal">'LawnGreen'</span>,<span class="literal">'7CFC00'</span>];
		c[c.length] = [<span class="literal">'LemonChiffon'</span>,<span class="literal">'FFFACD'</span>];
		c[c.length] = [<span class="literal">'LightBlue'</span>,<span class="literal">'ADD8E6'</span>];
		c[c.length] = [<span class="literal">'LightCoral'</span>,<span class="literal">'F08080'</span>];
		c[c.length] = [<span class="literal">'LightCyan'</span>,<span class="literal">'E0FFFF'</span>];
		c[c.length] = [<span class="literal">'LightGoldenRodYellow'</span>,<span class="literal">'FAFAD2'</span>];
		c[c.length] = [<span class="literal">'LightGray'</span>,<span class="literal">'D3D3D3'</span>];
		c[c.length] = [<span class="literal">'LightGrey'</span>,<span class="literal">'D3D3D3'</span>];
		c[c.length] = [<span class="literal">'LightGreen'</span>,<span class="literal">'90EE90'</span>];
		c[c.length] = [<span class="literal">'LightPink'</span>,<span class="literal">'FFB6C1'</span>];
		c[c.length] = [<span class="literal">'LightSalmon'</span>,<span class="literal">'FFA07A'</span>];
		c[c.length] = [<span class="literal">'LightSeaGreen'</span>,<span class="literal">'20B2AA'</span>];
		c[c.length] = [<span class="literal">'LightSkyBlue'</span>,<span class="literal">'87CEFA'</span>];
		c[c.length] = [<span class="literal">'LightSlateGray'</span>,<span class="literal">'778899'</span>];
		c[c.length] = [<span class="literal">'LightSlateGrey'</span>,<span class="literal">'778899'</span>];
		c[c.length] = [<span class="literal">'LightSteelBlue'</span>,<span class="literal">'B0C4DE'</span>];
		c[c.length] = [<span class="literal">'LightYellow'</span>,<span class="literal">'FFFFE0'</span>];
		c[c.length] = [<span class="literal">'Lime'</span>,<span class="literal">'00FF00'</span>];
		c[c.length] = [<span class="literal">'LimeGreen'</span>,<span class="literal">'32CD32'</span>];
		c[c.length] = [<span class="literal">'Linen'</span>,<span class="literal">'FAF0E6'</span>];
		c[c.length] = [<span class="literal">'Magenta'</span>,<span class="literal">'FF00FF'</span>];
		c[c.length] = [<span class="literal">'Maroon'</span>,<span class="literal">'800000'</span>];
		c[c.length] = [<span class="literal">'MediumAquaMarine'</span>,<span class="literal">'66CDAA'</span>];
		c[c.length] = [<span class="literal">'MediumBlue'</span>,<span class="literal">'0000CD'</span>];
		c[c.length] = [<span class="literal">'MediumOrchid'</span>,<span class="literal">'BA55D3'</span>];
		c[c.length] = [<span class="literal">'MediumPurple'</span>,<span class="literal">'9370D8'</span>];
		c[c.length] = [<span class="literal">'MediumSeaGreen'</span>,<span class="literal">'3CB371'</span>];
		c[c.length] = [<span class="literal">'MediumSlateBlue'</span>,<span class="literal">'7B68EE'</span>];
		c[c.length] = [<span class="literal">'MediumSpringGreen'</span>,<span class="literal">'00FA9A'</span>];
		c[c.length] = [<span class="literal">'MediumTurquoise'</span>,<span class="literal">'48D1CC'</span>];
		c[c.length] = [<span class="literal">'MediumVioletRed'</span>,<span class="literal">'C71585'</span>];
		c[c.length] = [<span class="literal">'MidnightBlue'</span>,<span class="literal">'191970'</span>];
		c[c.length] = [<span class="literal">'MintCream'</span>,<span class="literal">'F5FFFA'</span>];
		c[c.length] = [<span class="literal">'MistyRose'</span>,<span class="literal">'FFE4E1'</span>];
		c[c.length] = [<span class="literal">'Moccasin'</span>,<span class="literal">'FFE4B5'</span>];
		c[c.length] = [<span class="literal">'NavajoWhite'</span>,<span class="literal">'FFDEAD'</span>];
		c[c.length] = [<span class="literal">'Navy'</span>,<span class="literal">'000080'</span>];
		c[c.length] = [<span class="literal">'OldLace'</span>,<span class="literal">'FDF5E6'</span>];
		c[c.length] = [<span class="literal">'Olive'</span>,<span class="literal">'808000'</span>];
		c[c.length] = [<span class="literal">'OliveDrab'</span>,<span class="literal">'6B8E23'</span>];
		c[c.length] = [<span class="literal">'Orange'</span>,<span class="literal">'FFA500'</span>];
		c[c.length] = [<span class="literal">'OrangeRed'</span>,<span class="literal">'FF4500'</span>];
		c[c.length] = [<span class="literal">'Orchid'</span>,<span class="literal">'DA70D6'</span>];
		c[c.length] = [<span class="literal">'PaleGoldenRod'</span>,<span class="literal">'EEE8AA'</span>];
		c[c.length] = [<span class="literal">'PaleGreen'</span>,<span class="literal">'98FB98'</span>];
		c[c.length] = [<span class="literal">'PaleTurquoise'</span>,<span class="literal">'AFEEEE'</span>];
		c[c.length] = [<span class="literal">'PaleVioletRed'</span>,<span class="literal">'D87093'</span>];
		c[c.length] = [<span class="literal">'PapayaWhip'</span>,<span class="literal">'FFEFD5'</span>];
		c[c.length] = [<span class="literal">'PeachPuff'</span>,<span class="literal">'FFDAB9'</span>];
		c[c.length] = [<span class="literal">'Peru'</span>,<span class="literal">'CD853F'</span>];
		c[c.length] = [<span class="literal">'Pink'</span>,<span class="literal">'FFC0CB'</span>];
		c[c.length] = [<span class="literal">'Plum'</span>,<span class="literal">'DDA0DD'</span>];
		c[c.length] = [<span class="literal">'PowderBlue'</span>,<span class="literal">'B0E0E6'</span>];
		c[c.length] = [<span class="literal">'Purple'</span>,<span class="literal">'800080'</span>];
		c[c.length] = [<span class="literal">'Red'</span>,<span class="literal">'FF0000'</span>];
		c[c.length] = [<span class="literal">'RosyBrown'</span>,<span class="literal">'BC8F8F'</span>];
		c[c.length] = [<span class="literal">'RoyalBlue'</span>,<span class="literal">'4169E1'</span>];
		c[c.length] = [<span class="literal">'SaddleBrown'</span>,<span class="literal">'8B4513'</span>];
		c[c.length] = [<span class="literal">'Salmon'</span>,<span class="literal">'FA8072'</span>];
		c[c.length] = [<span class="literal">'SandyBrown'</span>,<span class="literal">'F4A460'</span>];
		c[c.length] = [<span class="literal">'SeaGreen'</span>,<span class="literal">'2E8B57'</span>];
		c[c.length] = [<span class="literal">'SeaShell'</span>,<span class="literal">'FFF5EE'</span>];
		c[c.length] = [<span class="literal">'Sienna'</span>,<span class="literal">'A0522D'</span>];
		c[c.length] = [<span class="literal">'Silver'</span>,<span class="literal">'C0C0C0'</span>];
		c[c.length] = [<span class="literal">'SkyBlue'</span>,<span class="literal">'87CEEB'</span>];
		c[c.length] = [<span class="literal">'SlateBlue'</span>,<span class="literal">'6A5ACD'</span>];
		c[c.length] = [<span class="literal">'SlateGray'</span>,<span class="literal">'708090'</span>];
		c[c.length] = [<span class="literal">'SlateGrey'</span>,<span class="literal">'708090'</span>];
		c[c.length] = [<span class="literal">'Snow'</span>,<span class="literal">'FFFAFA'</span>];
		c[c.length] = [<span class="literal">'SpringGreen'</span>,<span class="literal">'00FF7F'</span>];
		c[c.length] = [<span class="literal">'SteelBlue'</span>,<span class="literal">'4682B4'</span>];
		c[c.length] = [<span class="literal">'Tan'</span>,<span class="literal">'D2B48C'</span>];
		c[c.length] = [<span class="literal">'Teal'</span>,<span class="literal">'008080'</span>];
		c[c.length] = [<span class="literal">'Thistle'</span>,<span class="literal">'D8BFD8'</span>];
		c[c.length] = [<span class="literal">'Tomato'</span>,<span class="literal">'FF6347'</span>];
		c[c.length] = [<span class="literal">'Turquoise'</span>,<span class="literal">'40E0D0'</span>];
		c[c.length] = [<span class="literal">'Violet'</span>,<span class="literal">'EE82EE'</span>];
		c[c.length] = [<span class="literal">'Wheat'</span>,<span class="literal">'F5DEB3'</span>];
		c[c.length] = [<span class="literal">'White'</span>,<span class="literal">'FFFFFF'</span>];
		c[c.length] = [<span class="literal">'WhiteSmoke'</span>,<span class="literal">'F5F5F5'</span>];
		c[c.length] = [<span class="literal">'Yellow'</span>,<span class="literal">'FFFF00'</span>];
		c[c.length] = [<span class="literal">'YellowGreen'</span>,<span class="literal">'9ACD32'</span>];
		<span class="reserved">return</span> c;		
	}	
}


<span class="comment">/*[FILE_START:dhtmlSuite-formUtil.js] */</span>
<span class="comment">/************************************************************************************************************
*	Form utility classes
*
*	Created:						February, 22nd, 2007
*	Last updated:					March, 13th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Form utility classes
*			
*	Css files used by this script:	form-validator.css
*
*	Demos of this class:			demo-form-validator.html
*
* 	Update log:
*
************************************************************************************************************/</span>

<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Form validator
* Demo: &lt;a href="../../demos/demo-form-validator.html" target="_blank"&gt;demo-form-validator.html&lt;/a&gt;		
*
* <span class="attrib">@param</span> Object - propArray - Associative array of properties. Possible keys:&lt;br&gt;
*	formRef - Reference to form&lt;br&gt;
*	indicateWithCss - Indicate error by adding a red or green border around elements. (default = false)
*	keyValidation - Validate as you type. This applies to numeric and letteric characters (default = false)
*	callbackOnFormValid - Name of function to execute when the form is valid
*	callbackOnFormInvalid - Name of function to execute when the form is invalid
*	indicateWithBars - Indicate valid and invalid form elements by a red or green bar at the left of the elements. (default = false)
*	
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>
DHTMLSuite.formValidator = <span class="reserved">function</span>(propArray)
{
	var formRef;
	var indicateWithCss;
	var indicateWithBars;
	
	var keyValidation;
	var objectIndex;
	var layoutCSS;
	
	var callbackOnFormValid;
	var callbackOnFormInvalid;
	
	var formElements;
	var masks;	
	var radios;
	var indicationImages;
	var indicationBars;
	var equalToEls;
 	var formUtil;
 	
 
	<span class="reserved">this</span>.equalToEls= new Object();
	<span class="reserved">this</span>.equalToEls.from = new Object();
	<span class="reserved">this</span>.equalToEls.to = new Object();
	
	<span class="reserved">this</span>.formUtil = new DHTMLSuite.formUtil();
	
	<span class="reserved">this</span>.masks = new Object();	
	<span class="reserved">this</span>.indicationImages = new Array();
	<span class="reserved">this</span>.indicationBars = new Array();
	
	var domainString = <span class="literal">'(com|org|net|mil|edu|info|mobi|travel|a[cdfgilmnoqrstuwxz]|b[abdefghijmnorstwyz]|c[acdfghiklmnoruvxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[adefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnrwyz]|l[abcikrstuvy]|m[acdghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eouw]|s[abcdeghiklmnrtvyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[etu]|z[amw])'</span>;
	
	<span class="reserved">this</span>.masks.email = new RegExp(<span class="literal">"^[A-Z0-9._%-]+@[A-Z0-9.-]+\\."</span> + domainString + <span class="literal">"$"</span>,<span class="literal">"gi"</span>);
	<span class="reserved">this</span>.masks.numeric = /^[0-9]+$/gi;	<span class="comment">// Numeric</span>
	<span class="reserved">this</span>.masks.letter = /^[A-Z]+$/gi;	<span class="comment">// letteric</span>
	<span class="reserved">this</span>.masks.domain = new RegExp(<span class="literal">"^(https?\:\/\/)?[a-zA-Z0-9]+([a-zA-Z0-9\-\.]+)?\\."</span> + domainString + <span class="literal">"$"</span>,<span class="literal">"gi"</span>);
	
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'form-validator.css'</span>;
	<span class="reserved">this</span>.indicateWithCss = false;
	<span class="reserved">this</span>.indicateWithBars = false;
	<span class="reserved">this</span>.keyValidation = false;
	<span class="reserved">this</span>.formElements = new Object();
	<span class="reserved">this</span>.radios = new Object();	<span class="comment">// Array of radio button objects</span>
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
		
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
	
	<span class="reserved">if</span>(propArray)<span class="reserved">this</span>.__setInitProps(propArray);
	<span class="reserved">this</span>.__init();
}
DHTMLSuite.formValidator.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ addMask()</span>
    <span class="comment">/**
     *	Add regexp mask
     * 	
     *	<span class="attrib">@param</span> String maskName - Name of mask, i.e. the value you use in the flag attribute of your form elements.
     *	<span class="attrib">@param</span> String mask - Example: [0-9]
     *	<span class="attrib">@param</span> String regexpFlags - Regexp flags, example "gi"
     *
     * <span class="attrib">@public</span>
     */</span>		
	addMask : <span class="reserved">function</span>(maskName,regexpPattern,regexpFlags)
	{
		try{
			<span class="reserved">this</span>.masks[maskName] = new RegExp(regexpPattern,regexpFlags);
		}catch(e){
			alert(<span class="literal">'Could not create regexp mask of '</span> + regexpPattern +<span class="literal">',flags: '</span> + regexpFlags);
		}		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __setInitProps()</span>
    <span class="comment">/**
     *	Add regexp mask
     * 	
     *	<span class="attrib">@param</span> Array props - Array of properties
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setInitProps : <span class="reserved">function</span>(props)
	{
		<span class="reserved">if</span>(props.formRef){
			var obj = DHTMLSuite.commonObj.getEl(props.formRef);
			<span class="reserved">this</span>.formRef = obj;
		}
		<span class="reserved">if</span>(props.indicateWithCss || props.indicateWithCss===false)<span class="reserved">this</span>.indicateWithCss = props.indicateWithCss;
		<span class="reserved">if</span>(props.keyValidation)<span class="reserved">this</span>.keyValidation = props.keyValidation;
		<span class="reserved">if</span>(props.callbackOnFormValid)<span class="reserved">this</span>.callbackOnFormValid = props.callbackOnFormValid;
		<span class="reserved">if</span>(props.callbackOnFormInvalid)<span class="reserved">this</span>.callbackOnFormInvalid = props.callbackOnFormInvalid;
		<span class="reserved">if</span>(props.indicateWithBars || props.indicateWithBars===false)<span class="reserved">this</span>.indicateWithBars = props.indicateWithBars;
		<span class="reserved">if</span>(<span class="reserved">this</span>.indicateWithCss)<span class="reserved">this</span>.indicateWithBars = false;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __init()</span>
    <span class="comment">/**
     *	Initializes the widget
     *
     * <span class="attrib">@private</span>
     */</span>	
	__init : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.formRef){
			var ind = <span class="reserved">this</span>.objectIndex;
			<span class="reserved">this</span>.__initiallyParseAForm();	
			<span class="reserved">this</span>.formRef.onreset = <span class="reserved">function</span>(){ setTimeout(<span class="literal">"DHTMLSuite.variableStorage.arrayDSObjects["</span>+ ind +<span class="literal">"].__validateAllFields()"</span>,50); };
			DHTMLSuite.commonObj.__addEventEl(<span class="reserved">this</span>.formRef);
			DHTMLSuite.commonObj.addEvent(window,<span class="literal">'resize'</span>,<span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__positionIndImages(); });			
		}
		DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __validateAllFields()</span>
    <span class="comment">/**
     *	This method is called by events, example when someone resets the form.
     *
     * <span class="attrib">@private</span>
     */</span>		
	__validateAllFields : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var prop in <span class="reserved">this</span>.formElements){
			<span class="reserved">this</span>.__validateInput(<span class="reserved">this</span>.formElements[prop].el);			
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addRadiosToArray()</span>
    <span class="comment">/**
     *	This method add radios and checkboxes with the same name to the radios array
  	 * 	<span class="attrib">@param</span> HTMLElement el - Reference to a radio button
     *
     * <span class="attrib">@private</span>
     */</span>		
	__addRadiosToArray : <span class="reserved">function</span>(el)
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.radios[el.name]){	<span class="comment">// Radio with this name or id has not been added to the array</span>
			<span class="reserved">this</span>.radios[el.name] = new Array();
			<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.formRef.elements.length;no++){
				var formEl = <span class="reserved">this</span>.formRef.elements[no];
				<span class="reserved">if</span>(formEl.name==el.name)<span class="reserved">this</span>.radios[el.name][<span class="reserved">this</span>.radios[el.name].length] = formEl;
			}
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __initiallyParseAForm()</span>
    <span class="comment">/**
     *	Initially parse a form.
     *
     * <span class="attrib">@private</span>
     */</span>		
	__initiallyParseAForm : <span class="reserved">function</span>()
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var formRef = <span class="reserved">this</span>.formRef;
		var vElements = new Array();	<span class="comment">// Array of elements to parse	</span>
		var inputs = formRef.getElementsByTagName(<span class="literal">'INPUT'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;inputs.length;no++){	<span class="comment">/* Looping through inputs */</span>
			<span class="reserved">if</span>(!<span class="reserved">this</span>.__hasValidationAttr(inputs[no]))continue;
			<span class="reserved">if</span>(inputs[no].type.toLowerCase()==<span class="literal">'text'</span> || inputs[no].type.toLowerCase()==<span class="literal">'checkbox'</span> || inputs[no].type.toLowerCase()==<span class="literal">'radio'</span> || inputs[no].type.toLowerCase()==<span class="literal">'password'</span>){
				vElements[vElements.length] = inputs[no];				
			}	
			<span class="reserved">if</span>(inputs[no].type.toLowerCase()==<span class="literal">'radio'</span>){
				<span class="reserved">this</span>.__addRadiosToArray(inputs[no]);	
			}	
			<span class="reserved">if</span>(inputs[no].type.toLowerCase()==<span class="literal">'checkbox'</span>){
				<span class="reserved">this</span>.__addRadiosToArray(inputs[no]);	
			}
			
				
		}
		var ta = formRef.getElementsByTagName(<span class="literal">'TEXTAREA'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;ta.length;no++){	<span class="comment">/* Looping through inputs */</span>
			<span class="reserved">if</span>(!<span class="reserved">this</span>.__hasValidationAttr(ta[no]))continue;
			vElements[vElements.length] = ta[no];
		}		
		var sel = formRef.getElementsByTagName(<span class="literal">'SELECT'</span>);
		<span class="reserved">for</span>(var no=0;no&lt;sel.length;no++){	<span class="comment">/* Looping through inputs */</span>
			<span class="reserved">if</span>(!<span class="reserved">this</span>.__hasValidationAttr(sel[no]))continue;
			vElements[vElements.length] = sel[no];
		}
		<span class="reserved">for</span>(var no=0;no&lt;vElements.length;no++){
			var elType=vElements[no].tagName.toLowerCase();
			<span class="reserved">if</span>(elType==<span class="literal">'input'</span>)elType = vElements[no].type.toLowerCase();
			<span class="reserved">if</span>(!elType)elType=<span class="literal">'text'</span>;
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.indicateWithCss){			
				<span class="reserved">if</span>(elType==<span class="literal">'select'</span>)<span class="reserved">this</span>.__addParentToSelect(vElements[no]);				
				<span class="reserved">if</span>(elType==<span class="literal">'textarea'</span>)vElements[no].className = vElements[no].className + <span class="literal">' DHTMLSuite_validInput'</span>;
				<span class="reserved">if</span>(vElements[no].tagName.toLowerCase()==<span class="literal">'input'</span> &amp;&amp; elType==<span class="literal">'text'</span>)vElements[no].className = vElements[no].className + <span class="literal">' DHTMLSuite_validInput'</span>;
				<span class="reserved">if</span>(vElements[no].tagName.toLowerCase()==<span class="literal">'input'</span> &amp;&amp; elType==<span class="literal">'checkbox'</span>)vElements[no].className = vElements[no].className + <span class="literal">' DHTMLSuite_validInput'</span>;
			}
			<span class="reserved">if</span>(document.getElementById(<span class="literal">'_'</span> + vElements[no].name)){				
				<span class="reserved">if</span>(!<span class="reserved">this</span>.indicationImages[vElements[no].name]){
					<span class="reserved">this</span>.indicationImages[vElements[no].name] = document.createElement(<span class="literal">'DIV'</span>);				
					var el = <span class="reserved">this</span>.indicationImages[vElements[no].name];
					document.getElementById(<span class="literal">'_'</span> + vElements[no].name).appendChild(el);
					el.className = <span class="literal">'DHTMLSuite_validationImage DHTMLSuite_invalidInputImage'</span>;
					el.style.height = document.getElementById(<span class="literal">'_'</span> + vElements[no].name).clientHeight + <span class="literal">'px'</span>;
				}
			}
			<span class="reserved">if</span>(<span class="reserved">this</span>.indicateWithBars){
				<span class="reserved">if</span>(!<span class="reserved">this</span>.indicationBars[vElements[no].name] &amp;&amp; elType!=<span class="literal">'radio'</span> &amp;&amp; elType!=<span class="literal">'checkbox'</span>){					
					<span class="reserved">this</span>.indicationBars[vElements[no].name] = document.createElement(<span class="literal">'DIV'</span>);				
					var el = <span class="reserved">this</span>.indicationBars[vElements[no].name];					
					var parent = vElements[no].parentNode;
					parent.insertBefore(el,vElements[no].parentNode.firstChild);
					<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE){	<span class="comment">// Firefox doesn't support absolute positioned elements inside relative positioned td tags.</span>
						el.style.left = <span class="literal">'0px'</span>;
						el.style.top = <span class="literal">'0px'</span>;
						<span class="reserved">if</span>(DHTMLSuite.commonObj.getStyle(parent,<span class="literal">'position'</span>)!=<span class="literal">'absolute'</span>)parent.style.position = <span class="literal">'relative'</span>;
					}
					el.innerHTML = <span class="literal">'&lt;span&gt;&lt;/span&gt;'</span>;
					el.className = <span class="literal">'DHTMLSuite_validationBar DHTMLSuite_validationBarValid'</span>;
					el.style.position=<span class="literal">'absolute'</span>;					
				}			
			}
			
			<span class="reserved">if</span>(!vElements[no].id)vElements[no].id=DHTMLSuite.commonObj.getUniqueId();
			vElements[no].setAttribute(<span class="literal">'elementIndex'</span>,no);
			<span class="reserved">this</span>.formElements[vElements[no].name] = new Array();
			<span class="reserved">this</span>.formElements[vElements[no].name].el = vElements[no].id;
			<span class="reserved">this</span>.formElements[vElements[no].name].result = false;
			<span class="reserved">this</span>.__setRegExpPattern(vElements[no]);			
			<span class="reserved">this</span>.__validateInput(vElements[no]);
			<span class="reserved">this</span>.__addEvent(vElements[no]);			
		}				
		setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + <span class="reserved">this</span>.objectIndex + <span class="literal">'].__positionIndImages()'</span>,50);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionIndImages()</span>
    <span class="comment">/**
     *	Assign regexp pattern as special attribute of the HTML element.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__positionIndImages : <span class="reserved">function</span>()
	{	
		<span class="reserved">for</span>(var prop in <span class="reserved">this</span>.indicationBars){
			try{
				var el = <span class="reserved">this</span>.indicationBars[prop]; 
				var formEl = DHTMLSuite.commonObj.getEl(<span class="reserved">this</span>.formElements[prop].el);
				var left = (formEl.offsetLeft - el.offsetWidth);
				el.style.marginLeft = left + <span class="literal">'px'</span>;	
				el.style.marginTop = <span class="literal">'0px'</span>;
				<span class="reserved">if</span>(DHTMLSuite.clientInfoObj.isMSIE)el.style.marginTop = (DHTMLSuite.commonObj.getTopPos(formEl) - DHTMLSuite.commonObj.getTopPos(formEl.parentNode)) + <span class="literal">'px'</span>;	
				el.style.height = formEl.offsetHeight + <span class="literal">'px'</span>;	
			}catch(e){
				
			}		
		}
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setRegExpPattern()</span>
    <span class="comment">/**
     *	Assign regexp pattern as special attribute of the HTML element.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__setRegExpPattern : <span class="reserved">function</span>(formEl)
	{
		var pat = formEl.getAttribute(<span class="literal">'regexpPattern'</span>);
		<span class="reserved">if</span>(pat){
			<span class="reserved">if</span>(pat.indexOf(<span class="literal">'/'</span>)==-1){
				pat = <span class="literal">'/'</span> + pat + <span class="literal">'/'</span>;
				formEl.setAttribute(<span class="literal">'regexpPattern'</span>,pat);
			}
			<span class="reserved">return</span>;	<span class="comment">// Regexp pattern already exists</span>
		}
		var req = formEl.getAttribute(<span class="literal">'required'</span>);
		<span class="reserved">if</span>(req || req===<span class="literal">''</span>){
			pat = <span class="literal">'/./'</span>;	<span class="comment">// Require single character	</span>
		}
		var minLength = formEl.getAttribute(<span class="literal">'minLength'</span>);
		<span class="reserved">if</span>(minLength){
			var pat = <span class="literal">'/'</span>;
			<span class="reserved">for</span>(var no=0;no&lt;minLength;no++)pat = pat + <span class="literal">'.'</span>;
			pat = pat + <span class="literal">'/'</span>	
		}
		var sp = formEl.getAttribute(<span class="literal">'simplePattern'</span>);
		
		var freemask = formEl.getAttribute(<span class="literal">'freemask'</span>);
		<span class="reserved">if</span>(freemask){			
			var cs = formEl.getAttribute(<span class="literal">'caseInsensitive'</span>);
			cs = cs + <span class="literal">''</span>;	
	
			freemask = freemask.replace(/([^NSs])/g,<span class="literal">'\\$1'</span>);
			freemask = freemask.replace(/N/gi,<span class="literal">'[0-9]'</span>);
			freemask = freemask.replace(/s/g,<span class="literal">'[a-z]'</span>);
			freemask = freemask.replace(/S/g,<span class="literal">'[A-Z]'</span>);
			freemask = <span class="literal">'/^'</span> + freemask + <span class="literal">'$/'</span>;
			<span class="reserved">if</span>(cs || cs===<span class="literal">''</span>)freemask = freemask + <span class="literal">'i'</span>;
			pat = freemask;			
		}
		var mask = formEl.getAttribute(<span class="literal">'mask'</span>);
		<span class="reserved">if</span>(mask){
			try{
				pat = mask;
			}catch(e){
			}			
		}
		formEl.setAttribute(<span class="literal">'regexpPattern'</span>,pat);
		formEl.setAttribute(<span class="literal">'regexpFlag'</span>,pat);
		
		var equalTo = formEl.getAttribute(<span class="literal">'equalTo'</span>);
		<span class="reserved">if</span>(equalTo){
			try{
				<span class="reserved">this</span>.equalToEls.from[formEl.name] = DHTMLSuite.commonObj.getEl(equalTo);	
				<span class="reserved">this</span>.equalToEls.to[equalTo] = formEl;
				<span class="comment">// Avoid circular references		</span>
				<span class="reserved">this</span>.equalToEls.from[equalTo] = false;		
				<span class="reserved">this</span>.equalToEls.to[formEl.name] = false;				
			}catch(e){
			}
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addEvent()</span>
    <span class="comment">/**
     *	Add event to a form element.
     *	<span class="attrib">@param</span> Object formEl - referenc eto form element.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__addEvent : <span class="reserved">function</span>(formEl)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		var id = formEl.id;
		DHTMLSuite.commonObj.addEvent(formEl,<span class="literal">'change'</span>,<span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateInput(id); });		
		<span class="comment">// formEl.onchange = function() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateInput(id); };</span>
		formEl.onpaste = <span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateInput(id); };
		formEl.onblur = <span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateInput(id); };
		formEl.onkeyup = <span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateInput(id); };
		formEl.onclick = <span class="reserved">function</span>() { DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateInput(id); };
		<span class="reserved">if</span>(<span class="reserved">this</span>.keyValidation){
			formEl.onkeypress = <span class="reserved">function</span>(e) { <span class="reserved">return</span> DHTMLSuite.variableStorage.arrayDSObjects[ind].__validateKey(e,id); };
			formEl.onpaste = <span class="reserved">function</span>() { setTimeout(<span class="literal">'DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__validatePaste("'</span> + id + <span class="literal">'")'</span>,2) };
		}
		DHTMLSuite.commonObj.__addEventEl(formEl);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __validatePaste()</span>
    <span class="comment">/**
     *	Validate pasted data and remove non-valid characters from the input
     *	<span class="attrib">@param</span> String elRef - Id of form element
     *
     * <span class="attrib">@private</span>
     */</span>	
	__validatePaste : <span class="reserved">function</span>(elRef)
	{
		var src = DHTMLSuite.commonObj.getEl(elRef);
		var pat = src.getAttribute(<span class="literal">'regexpPattern'</span>);
		<span class="reserved">if</span>(pat == <span class="literal">'letter'</span>)src.value = src.value.replace(/[^a-z]/gi,<span class="literal">''</span>);
		<span class="reserved">if</span>(pat == <span class="literal">'numeric'</span>)src.value = src.value.replace(/[^0-9]/g,<span class="literal">''</span>);
		<span class="reserved">if</span>(pat==<span class="literal">'letter'</span> || pat==<span class="literal">'numeric'</span>)<span class="reserved">this</span>.__validateInput(elRef);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __validateKey()</span>
    <span class="comment">/**
     *	Validate key stroke
     *	<span class="attrib">@param</span> Event e - Event object - used to find key code
     *	<span class="attrib">@param</span> String elRef - Id of form element
     *
     * <span class="attrib">@private</span>
     */</span>	
	__validateKey : <span class="reserved">function</span>(e,elRef)
	{
		<span class="reserved">if</span>(document.all)e = event;	
		<span class="reserved">if</span>(e.ctrlKey || e.altKey)<span class="reserved">return</span> true;	
		var src = DHTMLSuite.commonObj.getSrcElement(e);
		var pat = src.getAttribute(<span class="literal">'regexpPattern'</span>);	
		var code = DHTMLSuite.commonObj.getKeyCode(e);
		var key = DHTMLSuite.commonObj.getKeyFromEvent(e);		
		<span class="reserved">if</span>(code&lt;48 &amp;&amp; code!=32)<span class="reserved">return</span> true;		
		<span class="reserved">if</span>(key==<span class="literal">'\t'</span>)<span class="reserved">return</span> true;<span class="comment">// Tabulator</span>
		<span class="reserved">if</span>(pat == <span class="literal">'letter'</span>){
			<span class="reserved">if</span>(code==192 || code==222 || code==221)<span class="reserved">return</span> true;	<span class="comment">// Scandinavian characters</span>
			<span class="reserved">if</span>(!key.match(/[a-z]/gi))<span class="reserved">return</span> false;
		}
		<span class="reserved">if</span>(pat == <span class="literal">'numeric'</span> &amp;&amp; !key.match(/[0-9]/g))<span class="reserved">return</span> false;
		<span class="reserved">return</span> true;	<span class="comment">// Not yet implemented</span>
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __hasValidationAttr()</span>
    <span class="comment">/**
     *	Should this form element be validated - look for attributes
     *
     * <span class="attrib">@private</span>
     */</span>	
	__hasValidationAttr : <span class="reserved">function</span>(el)
	{
		var req = el.getAttribute(<span class="literal">'required'</span>);
		<span class="reserved">if</span>(req || req===<span class="literal">''</span>)<span class="reserved">return</span> true;
		var mask = el.getAttribute(<span class="literal">'mask'</span>);
		<span class="reserved">if</span>(mask)<span class="reserved">return</span> true;
		var mask = el.getAttribute(<span class="literal">'freemask'</span>);
		<span class="reserved">if</span>(mask)<span class="reserved">return</span> true;
		var regexp = el.getAttribute(<span class="literal">'regexpPattern'</span>);
		<span class="reserved">if</span>(regexp)<span class="reserved">return</span> true;
		var equalTo = el.getAttribute(<span class="literal">'equalTo'</span>);
		<span class="reserved">if</span>(equalTo)<span class="reserved">return</span> true;
		<span class="reserved">return</span> false;	
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __addParentToSelect()</span>
    <span class="comment">/**
     *	Create parent div for select boxes.
     *
     * <span class="attrib">@private</span>
     */</span>		
	__addParentToSelect : <span class="reserved">function</span>(selectRef)
	{
		var div = document.createElement(<span class="literal">'DIV'</span>);
		selectRef.parentNode.insertBefore(div,selectRef);
		div.appendChild(selectRef);
		div.className = <span class="literal">'DHTMLSuite_validInput'</span>;
		div.style.cssText = <span class="literal">'display:inline-block;'</span>;
		div.style.width = selectRef.offsetWidth + <span class="literal">'px'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __validateInput()</span>
    <span class="comment">/**
     *	Validate input
     *	<span class="attrib">@param</span> Object inputRef - Reference to form element
     *
     * <span class="attrib">@private</span>
     */</span>	
	__validateInput : <span class="reserved">function</span>(inputRef)
	{
		
		inputRef = DHTMLSuite.commonObj.getEl(inputRef);
		var index = inputRef.name;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.__isInputValid(inputRef)){
			<span class="reserved">this</span>.formElements[index].result = true;
			<span class="reserved">this</span>.__toggleInput(inputRef,<span class="literal">'valid'</span>);
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.formElements[index].result = false;
			<span class="reserved">this</span>.__toggleInput(inputRef,<span class="literal">'invalid'</span>);
		}
		
		<span class="reserved">this</span>.__validateForm();
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __isInputValid()</span>
    <span class="comment">/**
     *	Validate input
     *	<span class="attrib">@param</span> Object inputRef - reference to form element
     *
     * <span class="attrib">@private</span>
     */</span>	
	__isInputValid : <span class="reserved">function</span>(inputRef,circular)
	{
		var required = inputRef.getAttribute(<span class="literal">'required'</span>);
		var elType = <span class="literal">'select'</span>;
		<span class="reserved">if</span>((inputRef.tagName.toLowerCase()==<span class="literal">'input'</span> &amp;&amp; (inputRef.type.toLowerCase()==<span class="literal">'text'</span> || inputRef.type.toLowerCase()==<span class="literal">'password'</span>)) || inputRef.tagName.toLowerCase()==<span class="literal">'textarea'</span>)elType = <span class="literal">'text'</span>;
		<span class="reserved">if</span>(inputRef.tagName.toLowerCase()==<span class="literal">'input'</span> &amp;&amp; inputRef.type.toLowerCase()==<span class="literal">'checkbox'</span>)elType = <span class="literal">'checkbox'</span>;
		<span class="reserved">if</span>(inputRef.tagName.toLowerCase()==<span class="literal">'input'</span> &amp;&amp; inputRef.type.toLowerCase()==<span class="literal">'radio'</span>)elType = <span class="literal">'radio'</span>;
		
		<span class="comment">// equalTo attribute set?</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.equalToEls.from[inputRef.name]){	
			var equal = <span class="reserved">this</span>.formUtil.areEqual(inputRef,<span class="reserved">this</span>.equalToEls.from[inputRef.name]);
			<span class="reserved">if</span>(!equal)<span class="reserved">return</span> false;			
		}
		<span class="comment">// equalTo attribute set?</span>
		<span class="reserved">if</span>(<span class="reserved">this</span>.equalToEls.to[inputRef.name]){	
			<span class="reserved">this</span>.__validateInput(<span class="reserved">this</span>.equalToEls.to[inputRef.name]);			
		}
			
		<span class="reserved">if</span>(elType==<span class="literal">'text'</span>){
			<span class="reserved">if</span>((!required &amp;&amp; required!=<span class="literal">''</span>) &amp;&amp; inputRef.value.length==0)<span class="reserved">return</span> true;
			var pat = inputRef.getAttribute(<span class="literal">'regexpPattern'</span>);
			<span class="reserved">if</span>(pat.indexOf(<span class="literal">'/'</span>)==-1)pat = <span class="reserved">this</span>.masks[pat];<span class="reserved">else</span> pat = eval(pat);
			<span class="reserved">if</span>(inputRef.value.trim().match(pat)){
				var matches = inputRef.value.trim().match(pat);
				var minLength = inputRef.getAttribute(<span class="literal">'minLength'</span>);
				<span class="reserved">if</span>(minLength)<span class="reserved">if</span>(inputRef.value.trim().length&lt;minLength)<span class="reserved">return</span> false;
				<span class="reserved">return</span> true; 
			}<span class="reserved">else</span> <span class="reserved">return</span> false;
		}
		<span class="reserved">if</span>(elType==<span class="literal">'select'</span>){
			var multiple = inputRef.getAttribute(<span class="literal">'multiple'</span>);
			<span class="reserved">if</span>(multiple || multiple===<span class="literal">''</span>){
				<span class="reserved">if</span>(required || required===<span class="literal">''</span>){
					<span class="reserved">for</span>(var no=0;no&lt;inputRef.options.length;no++){
						<span class="reserved">if</span>(inputRef.options[no].selected &amp;&amp; inputRef.options[no].value)<span class="reserved">return</span> true;
					}
					<span class="reserved">return</span> false;					
				}
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(required || required===<span class="literal">''</span> &amp;&amp; !inputRef.options[inputRef.selectedIndex].value)<span class="reserved">return</span> false;	
			}		
		}

		<span class="reserved">if</span>(elType==<span class="literal">'radio'</span> || elType==<span class="literal">'checkbox'</span>){
			var name = inputRef.name;
			var elChecked = false;
			<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.radios[name].length;no++){
				<span class="reserved">if</span>(<span class="reserved">this</span>.radios[name][no].checked)elChecked = true;	
			}
			<span class="reserved">if</span>(!elChecked)<span class="reserved">return</span> false;
		}
		<span class="reserved">return</span> true;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __toggleInput()</span>
    <span class="comment">/**
     *	Toggle input, i.e. style it depending on if it's valid or not.
     *	<span class="attrib">@param</span> Object inputRef - reference to form element
     *	<span class="attrib">@param</span> String style - "valid" or "invalid"
     *
     * <span class="attrib">@private</span>
     */</span>	
	__toggleInput : <span class="reserved">function</span>(inputRef,style)
	{
		var el = inputRef;
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.indicationImages[el.name]){			
			var obj= <span class="reserved">this</span>.indicationImages[el.name];
			obj.className = obj.className.replace(<span class="literal">' DHTMLSuite_invalidInputImage'</span>,<span class="literal">''</span>);
			obj.className = obj.className.replace(<span class="literal">' DHTMLSuite_validInputImage'</span>,<span class="literal">''</span>);
			<span class="reserved">if</span>(style==<span class="literal">'valid'</span>){
				obj.className = obj.className + <span class="literal">' DHTMLSuite_validInputImage'</span>;
			}<span class="reserved">else</span>{
				obj.className = obj.className + <span class="literal">' DHTMLSuite_invalidInputImage'</span>;
			}
		}
		<span class="reserved">if</span>(<span class="reserved">this</span>.indicateWithBars){
			var obj = <span class="reserved">this</span>.indicationBars[el.name];
			<span class="reserved">if</span>(!obj)<span class="reserved">return</span>;
			obj.className = obj.className.replace(<span class="literal">' DHTMLSuite_validationBarValid'</span>,<span class="literal">''</span>);
			obj.className = obj.className.replace(<span class="literal">' DHTMLSuite_validationBarInvalid'</span>,<span class="literal">''</span>);
			<span class="reserved">if</span>(style==<span class="literal">'valid'</span>){
				obj.className = obj.className + <span class="literal">' DHTMLSuite_validationBarValid'</span>;
			}<span class="reserved">else</span>{
				obj.className = obj.className + <span class="literal">' DHTMLSuite_validationBarInvalid'</span>;
			}						
		}
		
		<span class="reserved">if</span>(<span class="reserved">this</span>.indicateWithCss){
			<span class="reserved">if</span>(el.tagName.toLowerCase()==<span class="literal">'select'</span>)el = el.parentNode;
			<span class="reserved">if</span>(el.className.indexOf(<span class="literal">'DHTMLSuite_'</span>)==-1)<span class="reserved">return</span>;
			el.className = el.className.replace(<span class="literal">' DHTMLSuite_invalidInput'</span>,<span class="literal">''</span>);
			el.className = el.className.replace(<span class="literal">' DHTMLSuite_validInput'</span>,<span class="literal">''</span>);
						
			<span class="reserved">if</span>(style==<span class="literal">'valid'</span>){
				el.className = el.className + <span class="literal">' DHTMLSuite_validInput'</span>;				
			}<span class="reserved">else</span>{			
				el.className = el.className + <span class="literal">' DHTMLSuite_invalidInput'</span>;	
			}
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ isFormValid()</span>
    <span class="comment">/**
     *	Returns true if the form is valid, false otherwise
     *
     * <span class="attrib">@public</span>
     */</span>	
	isFormValid : <span class="reserved">function</span>()
	{
		<span class="reserved">for</span>(var no in <span class="reserved">this</span>.formElements){
			<span class="reserved">if</span>(!<span class="reserved">this</span>.formElements[no].result){				
				<span class="reserved">return</span> false;
			}
		}		
		<span class="reserved">return</span> true;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __validateForm()</span>
    <span class="comment">/**
     *	Validate form
     *
     * <span class="attrib">@private</span>
     */</span>		
	__validateForm : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.isFormValid()){
			<span class="reserved">this</span>.__handleCallback(<span class="literal">'formValid'</span>);
		}<span class="reserved">else</span>{ 
			<span class="reserved">this</span>.__handleCallback(<span class="literal">'formInvalid'</span>);
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     *	Execute call back functions.
     *
     * <span class="attrib">@private</span>
     */</span>	
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">"formValid"</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnFormValid)callbackString = <span class="reserved">this</span>.callbackOnFormValid;
				break;
			case <span class="literal">"formInvalid"</span>:
				<span class="reserved">if</span>(<span class="reserved">this</span>.callbackOnFormInvalid)callbackString = <span class="reserved">this</span>.callbackOnFormInvalid;
				break;			
		}			
		<span class="reserved">if</span>(callbackString){
			callbackString = callbackString + <span class="literal">'(this.formElements)'</span>;
			eval(callbackString);
		}	
	}
}


<span class="comment">/************************************************************************************************************
*	Form submission class
*
*	Created:						March, 6th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Ajax form submission class
*			
*	Css files used by this script:	
*
*	Demos of this class:			demo-form-validator.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Form submission
* Demo: &lt;a href="../../demos/demo-form-validator.html" target="_blank"&gt;demo-form-validator.html&lt;/a&gt;		
*
* <span class="attrib">@param</span> Object - formRef - Reference to form
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.formUtil = <span class="reserved">function</span>()
{
	
	
	
}
	
DHTMLSuite.formUtil.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ getFamily</span>
    <span class="comment">/**
     *	Return an array of elements with the same name
     *	<span class="attrib">@param</span> Object el - Reference to form element
     *	<span class="attrib">@param</span> Object formRef - Reference to form
     *
     * <span class="attrib">@public</span>
     */</span>		
	getFamily : <span class="reserved">function</span>(el,formRef)
	{
		var els = formRef.elements;
		var retArray = new Array();
		<span class="reserved">for</span>(var no=0;no&lt;els.length;no++){
			<span class="reserved">if</span>(els[no].name == el.name)retArray[retArray.length] = els[no];
		}
		<span class="reserved">return</span> retArray;		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ hasFileInputs()</span>
    <span class="comment">/**
     *	Does the form has file inputs?
     *	<span class="attrib">@param</span> Object formRef - Reference to form
     *
     * <span class="attrib">@public</span>
     */</span>		
	hasFileInputs : <span class="reserved">function</span>(formRef)
	{
		var els = formRef.elements;
		<span class="reserved">for</span>(var no=0;no&lt;els.length;no++){
			<span class="reserved">if</span>(els[no].tagName.toLowerCase()==<span class="literal">'input'</span> &amp;&amp; els[no].type.toLowerCase()==<span class="literal">'file'</span>)<span class="reserved">return</span> true;	
		}
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ getValuesAsArray()</span>
    <span class="comment">/**
     *	Return value of form as associative array
     *	<span class="attrib">@param</span> Object formRef - Reference to form
     *
     * <span class="attrib">@public</span>
     */</span>		
	getValuesAsArray : <span class="reserved">function</span>(formRef)
	{
		var retArray = new Object();
		formRef = DHTMLSuite.commonObj.getEl(formRef);
		var els = formRef.elements;
		<span class="reserved">for</span>(var no=0;no&lt;els.length;no++){
			<span class="reserved">if</span>(els[no].disabled)continue;
			var tag = els[no].tagName.toLowerCase();
			switch(tag){
				case <span class="literal">"input"</span>: 
					var type = els[no].type.toLowerCase();
					<span class="reserved">if</span>(!type)type=<span class="literal">'text'</span>;
					switch(type){
						case <span class="literal">"text"</span>:
						case <span class="literal">"image"</span>:
						case <span class="literal">"hidden"</span>:
						case <span class="literal">"password"</span>:
							retArray[els[no].name] = els[no].value;
							break;
						case <span class="literal">"checkbox"</span>:
							var boxes = <span class="reserved">this</span>.getFamily(els[no],formRef);
							<span class="reserved">if</span>(boxes.length&gt;1){
								retArray[els[no].name] = new Array();
								<span class="reserved">for</span>(var no2=0;no2&lt;boxes.length;no2++){
									<span class="reserved">if</span>(boxes[no2].checked){
										var index = retArray[els[no].name].length;
										retArray[els[no].name][index] = boxes[no2].value;
									}
								}								
							}<span class="reserved">else</span>{
								<span class="reserved">if</span>(els[no].checked)retArray[els[no].name] = els[no].value;
							}
							break;	
						case <span class="literal">"radio"</span>:
							<span class="reserved">if</span>(els[no].checked)retArray[els[no].name] = els[no].value;
							break;		
						
					}	
					break;	
				case <span class="literal">"select"</span>:
					var string = <span class="literal">''</span>;			
					var mult = els[no].getAttribute(<span class="literal">'multiple'</span>);
					<span class="reserved">if</span>(mult || mult===<span class="literal">''</span>){
						retArray[els[no].name] = new Array();
						<span class="reserved">for</span>(var no2=0;no2&lt;els[no].options.length;no2++){
							var index = retArray[els[no].name].length;
							<span class="reserved">if</span>(els[no].options[no2].selected)retArray[els[no].name][index] = els[no].options[no2].value;	
						}
					}<span class="reserved">else</span>{
						retArray[els[no].name] = els[no].options[els[no].selectedIndex].value;
					}
					break;	
				case <span class="literal">"textarea"</span>:
					retArray[els[no].name] = els[no].value;
					break;					
			}			
		}
		<span class="reserved">return</span> retArray;		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ getValue()</span>
    <span class="comment">/**
     *	Return value of form element
     *	<span class="attrib">@param</span> Object formEl - Reference to form element
     *
     * <span class="attrib">@public</span>
     */</span>
	getValue : <span class="reserved">function</span>(formEl)
	{
		switch(formEl.tagName.toLowerCase()){
			case <span class="literal">"input"</span>:
			case <span class="literal">"textarea"</span>: <span class="reserved">return</span> formEl.value;
			case <span class="literal">"select"</span>: <span class="reserved">return</span> formEl.options[formEl.selectedIndex].value;			
		}
		
	}
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ areEqual()</span>
    <span class="comment">/**
     *	Check if two form elements have the same value
     *	<span class="attrib">@param</span> Object input1 - Reference to form element
     *	<span class="attrib">@param</span> Object input2 - Reference to form element
     *
     * <span class="attrib">@public</span>
     */</span>	
	areEqual : <span class="reserved">function</span>(input1,input2)
	{
		input1 = DHTMLSuite.commonObj.getEl(input1);
		input2 = DHTMLSuite.commonObj.getEl(input2);	
		<span class="reserved">if</span>(<span class="reserved">this</span>.getValue(input1)==<span class="reserved">this</span>.getValue(input2))<span class="reserved">return</span> true;
		<span class="reserved">return</span> false;		
	}	
}
	
<span class="comment">/************************************************************************************************************
*	Form submission class
*
*	Created:						March, 6th, 2007
*	<span class="attrib">@class</span> Purpose of class:		Ajax form submission class
*			
*	Css files used by this script:	form.css
*
*	Demos of this class:			demo-form-validator.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Form submission
* Demo: &lt;a href="../../demos/demo-form-validator.html" target="_blank"&gt;demo-form-validator.html&lt;/a&gt;		
*
* <span class="attrib">@param</span> Associative array of properties, possible keys: &lt;br&gt;
*	formRef - Reference to form&lt;br&gt;
*	method - How to send the form, "GET" or "POST", default is "POST"
*	reponseEl - Where to display response from ajax
*	action - Where to send form data
*	responseFile - Alternative response file. This will be loaded dynamically once the script receives response from the file specified in "action".
*		
* <span class="attrib">@version</span>				1.0
* <span class="attrib">@version</span> 1.0
* <span class="attrib">@author</span>	Alf Magne Kalleland(www.dhtmlgoodies.com)
**/</span>

DHTMLSuite.form = <span class="reserved">function</span>(propArray)
{
	var formRef;
	var method;
	var responseEl;
	var action;
	var responseFile;
	
	var formUtil;
	var objectIndex;
	var sackObj;
	var coverDiv;
	var layoutCSS;
	var iframeName;
	
	<span class="reserved">this</span>.method = <span class="literal">'POST'</span>;
	<span class="reserved">this</span>.sackObj = new Array();
	<span class="reserved">this</span>.formUtil = new DHTMLSuite.formUtil();
	<span class="reserved">this</span>.layoutCSS = <span class="literal">'form.css'</span>;
	
	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
		
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
		
	DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCSS);
	
	<span class="reserved">if</span>(propArray)<span class="reserved">this</span>.__setInitProperties(propArray);
	
}
DHTMLSuite.form.<span class="reserved">prototype</span> = 
{
	<span class="comment">// {{{ submit()</span>
    <span class="comment">/**
     *	Submits the form
     *
     * <span class="attrib">@public</span>
     */</span>		
	submit : <span class="reserved">function</span>()
	{
		<span class="reserved">this</span>.__createCoverDiv();
		var index = <span class="reserved">this</span>.sackObj.length;
		<span class="reserved">if</span>(<span class="reserved">this</span>.formUtil.hasFileInputs(<span class="reserved">this</span>.formRef)){
			<span class="reserved">this</span>.__createIframe();
			<span class="reserved">this</span>.formRef.submit();
			
		}<span class="reserved">else</span>{
			<span class="reserved">this</span>.__createSackObject(index);			
			<span class="reserved">this</span>.__populateSack(index);			
			<span class="reserved">this</span>.sackObj[index].runAJAX();
		}
		<span class="reserved">this</span>.__positionCoverDiv();
		<span class="reserved">return</span> false;
	}
	<span class="comment">// }}}</span>
	,
	__createIframe : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.iframeName)<span class="reserved">return</span>;
		var ind = <span class="reserved">this</span>.objectIndex;
		var div = document.createElement(<span class="literal">'DIV'</span>);
		document.body.appendChild(div);
		<span class="reserved">this</span>.iframeName = <span class="literal">'DHTMLSuiteForm'</span> + DHTMLSuite.commonObj.getUniqueId();
		div.innerHTML = <span class="literal">'&lt;iframe style="visibility:hidden;width:5px;height:5px" id="'</span> + <span class="reserved">this</span>.iframeName + <span class="literal">'" name="'</span> + <span class="reserved">this</span>.iframeName + <span class="literal">'" onload="parent.DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind + <span class="literal">'].__getIframeResponse()"&gt;&lt;/iframe&gt;'</span>; 
		<span class="reserved">this</span>.formRef.method = <span class="reserved">this</span>.method;
		<span class="reserved">this</span>.formRef.action = <span class="reserved">this</span>.action;
		<span class="reserved">this</span>.formRef.target = <span class="reserved">this</span>.iframeName;	
		<span class="reserved">if</span>(!<span class="reserved">this</span>.formRef.enctype)<span class="reserved">this</span>.formRef.enctype = <span class="literal">'multipart/form-data'</span>;
			
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getIframeResponse()</span>
    <span class="comment">/**
     *	Form has been submitted to iframe - move content from iframe
     *
     * <span class="attrib">@private</span>
     */</span>	
	__getIframeResponse : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.responseEl){		
			<span class="reserved">if</span>(<span class="reserved">this</span>.responseFile){
				<span class="reserved">if</span>(!<span class="reserved">this</span>.responseEl.id)<span class="reserved">this</span>.responseEl.id = <span class="literal">'DHTMLSuite_formResponse'</span> + DHTMLSuite.getUniqueId();
				var dynContent = new DHTMLSuite.dynamicContent();
				dynContent.loadContent(<span class="reserved">this</span>.responseEl.id,<span class="reserved">this</span>.responseFile);				
			}<span class="reserved">else</span>{			
				<span class="reserved">this</span>.responseEl.innerHTML = self.frames[<span class="reserved">this</span>.iframeName].document.body.innerHTML;	
				DHTMLSuite.commonObj.__evaluateJs(<span class="reserved">this</span>.responseEl);
				DHTMLSuite.commonObj.__evaluateCss(<span class="reserved">this</span>.responseEl);	
			}						
		}	
		<span class="reserved">this</span>.coverDiv.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.__handleCallback(<span class="literal">'onComplete'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __positionCoverDiv()</span>
    <span class="comment">/**
     *	Position cover div
     *
     * <span class="attrib">@private</span>
     */</span>	
	__positionCoverDiv : <span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(!<span class="reserved">this</span>.responseEl)<span class="reserved">return</span>;
		try{
			var st = <span class="reserved">this</span>.coverDiv.style;
			st.left = DHTMLSuite.commonObj.getLeftPos(<span class="reserved">this</span>.responseEl) + <span class="literal">'px'</span>;	
			st.top = DHTMLSuite.commonObj.getTopPos(<span class="reserved">this</span>.responseEl) + <span class="literal">'px'</span>;	
			st.width = <span class="reserved">this</span>.responseEl.offsetWidth + <span class="literal">'px'</span>;	
			st.height = <span class="reserved">this</span>.responseEl.offsetHeight + <span class="literal">'px'</span>;	
			st.display=<span class="literal">'block'</span>;
		}catch(e){
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createCoverDiv()</span>
    <span class="comment">/**
     *	Submits the form
     *
     * <span class="attrib">@private</span>
     */</span>		
	__createCoverDiv : <span class="reserved">function</span>()
	{	
		<span class="reserved">if</span>(<span class="reserved">this</span>.coverDiv)<span class="reserved">return</span>;
		<span class="reserved">this</span>.coverDiv = document.createElement(<span class="literal">'DIV'</span>);
		var el = <span class="reserved">this</span>.coverDiv;
		el.style.overflow=<span class="literal">'hidden'</span>;
		el.style.zIndex = 1000;
		el.style.position = <span class="literal">'absolute'</span>;

		document.body.appendChild(el);
		
		var innerDiv = document.createElement(<span class="literal">'DIV'</span>);
		innerDiv.style.width=<span class="literal">'105%'</span>;
		innerDiv.style.height=<span class="literal">'105%'</span>;
		innerDiv.className = <span class="literal">'DHTMLSuite_formCoverDiv'</span>;
		innerDiv.style.opacity = <span class="literal">'0.2'</span>;
		innerDiv.style.filter = <span class="literal">'alpha(opacity=20)'</span>;		
		el.appendChild(innerDiv);
		
		var ajaxLoad = document.createElement(<span class="literal">'DIV'</span>);
		ajaxLoad.className = <span class="literal">'DHTMLSuite_formCoverDiv_ajaxLoader'</span>;
		el.appendChild(ajaxLoad);		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __createSackObject()</span>
    <span class="comment">/**
     *	Create new sack object
     *
     * <span class="attrib">@private</span>
     */</span>		
	__createSackObject : <span class="reserved">function</span>(ajaxIndex)
	{		
		var ind = <span class="reserved">this</span>.objectIndex;
		<span class="reserved">this</span>.sackObj[ajaxIndex] = new sack();
		<span class="reserved">this</span>.sackObj[ajaxIndex].requestFile = <span class="reserved">this</span>.action;	
		<span class="reserved">this</span>.sackObj[ajaxIndex].method = <span class="reserved">this</span>.method;		
		<span class="reserved">this</span>.sackObj[ajaxIndex].onCompletion = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__getResponse(ajaxIndex); }
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __getResponse()</span>
    <span class="comment">/**
     *	Get response from ajax
     *
     * <span class="attrib">@private</span>
     */</span>	
	__getResponse : <span class="reserved">function</span>(ajaxIndex)
	{

		<span class="reserved">if</span>(<span class="reserved">this</span>.responseEl){			
			<span class="reserved">if</span>(<span class="reserved">this</span>.responseFile){
				<span class="reserved">if</span>(!<span class="reserved">this</span>.responseEl.id)<span class="reserved">this</span>.responseEl.id = <span class="literal">'DHTMLSuite_formResponse'</span> + DHTMLSuite.getUniqueId();
				var dynContent = new DHTMLSuite.dynamicContent();
				dynContent.loadContent(<span class="reserved">this</span>.responseEl.id,<span class="reserved">this</span>.responseFile);				
			}<span class="reserved">else</span>{			
				<span class="reserved">this</span>.responseEl.innerHTML = <span class="reserved">this</span>.sackObj[ajaxIndex].response;
				DHTMLSuite.commonObj.__evaluateJs(<span class="reserved">this</span>.responseEl);
				DHTMLSuite.commonObj.__evaluateCss(<span class="reserved">this</span>.responseEl);	
			}				
		}	
		
		<span class="reserved">this</span>.coverDiv.style.display=<span class="literal">'none'</span>;
		<span class="reserved">this</span>.sackObj[ajaxIndex] = null;
		<span class="reserved">this</span>.__handleCallback(<span class="literal">'onComplete'</span>);
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __populateSack()</span>
    <span class="comment">/**
     *	Populate sack object with form data
     *	<span class="attrib">@param</span> ajaxIndex - index of current sack object
     *
     * <span class="attrib">@private</span>
     */</span>	
	__populateSack : <span class="reserved">function</span>(ajaxIndex)
	{
		var els = <span class="reserved">this</span>.formUtil.getValuesAsArray(<span class="reserved">this</span>.formRef);		
		<span class="reserved">for</span>(var prop in els){
			<span class="reserved">if</span>(DHTMLSuite.commonObj.isArray(els[prop])){
				<span class="reserved">for</span>(var no=0;no&lt;els[prop].length;no++){
					var name = prop + <span class="literal">'['</span> + no + <span class="literal">']'</span>;
					<span class="reserved">if</span>(prop.indexOf(<span class="literal">'['</span>)&gt;=0){ <span class="comment">// The name of the form field is already indicating an array</span>
						name = prop.replace(<span class="literal">'['</span>,<span class="literal">'['</span> + no);	
					}
					<span class="reserved">this</span>.sackObj[ajaxIndex].setVar(name,els[prop][no]);	
				}
			}<span class="reserved">else</span>{
				<span class="reserved">this</span>.sackObj[ajaxIndex].setVar(prop,els[prop]);			
			}			
		}		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __setInitProperties()</span>
    <span class="comment">/**
     *	Fill object with data sent to the constructor
     *	<span class="attrib">@param</span> Array props - Associative Array("Object") of properties
     *
     * <span class="attrib">@private</span>
     */</span>		
	__setInitProperties : <span class="reserved">function</span>(props)
	{
		<span class="reserved">if</span>(props.formRef)<span class="reserved">this</span>.formRef = DHTMLSuite.commonObj.getEl(props.formRef);
		<span class="reserved">if</span>(props.method)<span class="reserved">this</span>.method = props.method;
		<span class="reserved">if</span>(props.responseEl)<span class="reserved">this</span>.responseEl = DHTMLSuite.commonObj.getEl(props.responseEl);
		<span class="reserved">if</span>(props.action)<span class="reserved">this</span>.action = props.action;
		<span class="reserved">if</span>(props.responseFile)<span class="reserved">this</span>.responseFile = props.responseFile;
		<span class="reserved">if</span>(props.callbackOnComplete)<span class="reserved">this</span>.callbackOnComplete = props.callbackOnComplete;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.action)<span class="reserved">this</span>.action = <span class="reserved">this</span>.formRef.action;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.method)<span class="reserved">this</span>.method = <span class="reserved">this</span>.formRef.method;
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __handleCallback()</span>
    <span class="comment">/**
     *	Execute callback
     *	<span class="attrib">@param</span> String action - Which callback action
     *
     * <span class="attrib">@private</span>
     */</span>	
	__handleCallback : <span class="reserved">function</span>(action)
	{
		var callbackString = <span class="literal">''</span>;
		switch(action){
			case <span class="literal">"onComplete"</span>:
				callbackString = <span class="reserved">this</span>.callbackOnComplete;
				break;	
			
			
		}	
		<span class="reserved">if</span>(callbackString){
			<span class="reserved">if</span>(callbackString.indexOf(<span class="literal">'('</span>)==-1)callbackString = callbackString + <span class="literal">'("'</span> + <span class="reserved">this</span>.formRef.name + <span class="literal">'")'</span>;
			eval(callbackString);
		}
		
	}
}

<span class="comment">/*[FILE_START:dhtmlSuite-autoComplete.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML auto complete script
*
*	Created:			Jun, 06th, 2007
*	<span class="attrib">@module</span> coder: 		Batur Orkun (batur<span class="attrib">@bilkent</span>.edu.tr, http://www.xdhtml.com)
*	
*	<span class="attrib">@class</span> Purpose of class: this script shows you a list of options based on what you type into a text input. 
			Example: Type in "A" and Ajax will get you a list of all contries starting with "A".
*		
*	Css files used by this script:	auto-complete.css
*
*	Demos of this class:		demo-auto-complete.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	this script shows you a list of options based on what you type into a text input. 
* <span class="attrib">@version</span> 0.1
* <span class="attrib">@author</span>	Alf Magne Kalleland &amp; Batur Orkun 
* (www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.autoComplete=<span class="reserved">function</span>(){
	<span class="comment">// definations</span>
	var layoutCss;
	var ajaxBox_offsetX;
	var ajaxBox_offsetY;	
	var minimumLettersBeforeLookup;	<span class="comment">// Number of letters entered before a lookup is performed.</span>
	
	var ajax_list_currentLetters;
	var ajax_list_cachedLists
	var ajax_optionDiv;
	var ajax_list_MSIE;
	var ajax_list_activeItem;
	var ajax_list_objects;	
	var ajax_list_activeInput;
	var ajax_list_activeItem;
	var ajax_list_optionDivFirstItem
	var ajax_optionDiv;
	var ajax_optionDiv_iframe;	
	
	<span class="comment">// set values</span>
	<span class="reserved">this</span>.layoutCss=<span class="literal">'auto-complete.css'</span>;
	<span class="reserved">this</span>.ajaxBox_offsetX = 0;
	<span class="reserved">this</span>.ajaxBox_offsetY = 0;
	<span class="reserved">this</span>.ajax_list_currentLetters = new Array(); 
	<span class="reserved">this</span>.ajax_list_cachedLists = new Array();
	<span class="reserved">this</span>.ajax_optionDiv = false;
	<span class="reserved">this</span>.ajax_list_MSIE = false;
	<span class="reserved">if</span> (navigator.userAgent.indexOf(<span class="literal">'MSIE'</span>)&gt;=0 &amp;&amp; navigator.userAgent.indexOf(<span class="literal">'Opera'</span>)&lt;0) 
		<span class="reserved">this</span>.ajax_list_MSIE=true;
	<span class="reserved">this</span>.ajax_list_activeItem;
	<span class="reserved">this</span>.ajax_list_objects = new Array();	
	<span class="reserved">this</span>.ajax_list_activeInput = false;
	<span class="reserved">this</span>.ajax_list_activeItem;
	<span class="reserved">this</span>.ajax_list_optionDivFirstItem = false;
	<span class="reserved">this</span>.ajax_optionDiv = false;
	<span class="reserved">this</span>.ajax_optionDiv_iframe = false;	
	
	var ajax_list_MSIE = false;
	<span class="reserved">if</span>(navigator.userAgent.indexOf(<span class="literal">'MSIE'</span>)&gt;=0 &amp;&amp; navigator.userAgent.indexOf(<span class="literal">'Opera'</span>)&lt;0) ajax_list_MSIE=true;
		
	<span class="reserved">this</span>.minimumLettersBeforeLookup = 1;
		
		
	<span class="comment">// check modules</span>
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
	<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	<span class="comment">// load object to variableStorage</span>
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
	document.body.setAttribute(<span class="literal">"objectIndex"</span>,<span class="reserved">this</span>.objectIndex); <span class="comment">// set attribute to body for keyNavigation</span>
	
	DHTMLSuite.commonObj.loadCSS(<span class="reserved">this</span>.layoutCss); <span class="comment">// load css</span>
			
	
}

DHTMLSuite.autoComplete.<span class="reserved">prototype</span>={
	
	
	
	<span class="comment">// {{{ add(inputObjId,externalFile)</span>
    <span class="comment">/**
     *	add auto complete functionality for input object
     * 	     
     *	<span class="attrib">@param</span> Number inputObjId - input object id
     *	<span class="attrib">@param</span> String - cgi url
     * 
     * <span class="attrib">@public</span>
     */</span>
    add:<span class="reserved">function</span>(inputObjId,externalFile)
    {
    	var refObject = DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex];
    	eval(<span class="literal">"document.getElementById('"</span>+inputObjId+<span class="literal">"').onkeyup = function(e) { refObject.__showOptions(e,'"</span>+ inputObjId +<span class="literal">"','"</span>+ externalFile +<span class="literal">"') };"</span>);
    	DHTMLSuite.commonObj.__addEventEl(document.getElementById(inputObjId));    
    }
	<span class="comment">// }}}</span>
	,		
	<span class="comment">// {{{ setLayoutCss(newCssFileName)</span>
    <span class="comment">/**
     *	Set new CSS file name
     *
     *	<span class="attrib">@param</span> String newCssFileName-name of new css file. Should be called before any tooltips are displayed on the screen.	
     *
    *<span class="attrib">@public</span>	
     */</span>	
	setLayoutCss:<span class="reserved">function</span>(newCssFileName)
	{
		<span class="reserved">this</span>.layoutCss=newCssFileName;
	}	
	<span class="comment">// }}}</span>
	,	
	<span class="comment">// {{{ __showOptions(inputObj,externalFile,e)</span>
    <span class="comment">/**
     *	show Options
     *
     *	<span class="attrib">@param</span> Object inputObj - input object
     *	<span class="attrib">@param</span> String externalFile - cgi url
     *	<span class="attrib">@param</span> Object e - error handling
     *
    *<span class="attrib">@private</span>
     */</span>	    	
	__showOptions:<span class="reserved">function</span>(e, inputObjId,externalFile)
	{
		var inputObj = document.getElementById(inputObjId); <span class="comment">// input object</span>
		var ind = <span class="reserved">this</span>.objectIndex;	<span class="comment">// class object index</span>

		<span class="reserved">if</span>(document.all)e = event;		
		<span class="reserved">if</span>(e.keyCode==13 || e.keyCode==9)<span class="reserved">return</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_currentLetters[inputObj.name]==inputObj.value) <span class="reserved">return</span>;		
		<span class="reserved">if</span>(!<span class="reserved">this</span>.ajax_list_cachedLists[inputObj.id]) <span class="reserved">this</span>.ajax_list_cachedLists[inputObj.id] = new Array();
		
		<span class="reserved">this</span>.ajax_list_currentLetters[inputObj.name] = inputObj.value;
		<span class="reserved">if</span>(!<span class="reserved">this</span>.ajax_optionDiv){
			<span class="reserved">this</span>.ajax_optionDiv = document.createElement(<span class="literal">'DIV'</span>);
			<span class="reserved">this</span>.ajax_optionDiv.id = <span class="literal">'ajax_listOfOptions'</span>;	
			document.body.appendChild(<span class="reserved">this</span>.ajax_optionDiv);
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_MSIE){
				<span class="reserved">this</span>.ajax_optionDiv_iframe = document.createElement(<span class="literal">'IFRAME'</span>);
				<span class="reserved">this</span>.ajax_optionDiv_iframe.border=<span class="literal">'0'</span>;
				<span class="reserved">this</span>.ajax_optionDiv_iframe.style.width = <span class="reserved">this</span>.ajax_optionDiv.clientWidth + <span class="literal">'px'</span>;
				<span class="reserved">this</span>.ajax_optionDiv_iframe.style.height = <span class="reserved">this</span>.ajax_optionDiv.clientHeight + <span class="literal">'px'</span>;
				<span class="reserved">this</span>.ajax_optionDiv_iframe.id = <span class="literal">'ajax_listOfOptions_iframe'</span>;
				
				document.body.appendChild(<span class="reserved">this</span>.ajax_optionDiv_iframe);
			}
			
			var allInputs = document.getElementsByTagName(<span class="literal">'INPUT'</span>);
			<span class="reserved">for</span>(var no=0;no&lt;allInputs.length;no++){
				<span class="reserved">if</span>(!allInputs[no].onkeyup)allInputs[no].onfocus = <span class="reserved">this</span>.__ajaxOptionsHide;
			}			
			var allSelects = document.getElementsByTagName(<span class="literal">'SELECT'</span>);
			<span class="reserved">for</span>(var no=0;no&lt;allSelects.length;no++){
				allSelects[no].onfocus = <span class="reserved">this</span>.__ajaxOptionsHide;
			}

			var oldonkeydown=document.body.onkeydown;
			<span class="reserved">if</span>(typeof oldonkeydown!=<span class="literal">'function'</span>){
				document.body.onkeydown=<span class="reserved">this</span>.__ajaxOptionKeyNavigation;
			}<span class="reserved">else</span>{
				document.body.onkeydown=<span class="reserved">function</span>(){
					oldonkeydown();
					<span class="reserved">this</span>.__ajaxOptionKeyNavigation() ;}
			}
			var oldonresize=document.body.onresize;
			<span class="reserved">if</span>(typeof oldonresize!=<span class="literal">'function'</span>){
				document.body.onresize=<span class="reserved">function</span>() {<span class="reserved">this</span>.__ajaxOptionResize(inputObj); };
			}<span class="reserved">else</span>{
				document.body.onresize=<span class="reserved">function</span>(){oldonresize();
				<span class="reserved">this</span>.__ajaxOptionResize(inputObj) ;}
			}
				
		}
		
		<span class="reserved">if</span>(inputObj.value.length &lt; <span class="reserved">this</span>.minimumLettersBeforeLookup){
			<span class="reserved">this</span>.__ajaxOptionsHide();
			<span class="reserved">return</span>;
		}
				

		<span class="reserved">this</span>.ajax_optionDiv.style.top = (<span class="reserved">this</span>.__ajaxGetTopPos(inputObj) + inputObj.offsetHeight + <span class="reserved">this</span>.ajaxBox_offsetY) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.ajax_optionDiv.style.left = (<span class="reserved">this</span>.__ajaxGetLeftPos(inputObj) + <span class="reserved">this</span>.ajaxBox_offsetX) + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_optionDiv_iframe){
			<span class="reserved">this</span>.ajax_optionDiv_iframe.style.left = <span class="reserved">this</span>.ajax_optionDiv.style.left;
			<span class="reserved">this</span>.ajax_optionDiv_iframe.style.top = <span class="reserved">this</span>.ajax_optionDiv.style.top;			
		}
		
		<span class="reserved">this</span>.ajax_list_activeInput = inputObj;
		<span class="reserved">this</span>.ajax_optionDiv.onselectstart =  <span class="reserved">this</span>.__ajaxListCancelEvent;		
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_cachedLists[inputObj.id][inputObj.value.toLowerCase()]){			
			<span class="reserved">this</span>.__ajaxOptionListBuildList(inputObj.value,inputObj.id); <span class="comment">//batur						</span>
		}<span class="reserved">else</span>{						
			<span class="reserved">this</span>.ajax_optionDiv.innerHTML = <span class="literal">''</span>;
			var ajaxIndex = <span class="reserved">this</span>.ajax_list_objects.length;
			<span class="reserved">this</span>.ajax_list_objects[ajaxIndex] = new sack();
			var url = externalFile + <span class="literal">'?letters='</span> + inputObj.value.replace(<span class="literal">" "</span>,<span class="literal">"+"</span>);
			<span class="comment">//alert(url);</span>
			<span class="reserved">this</span>.ajax_list_objects[ajaxIndex].requestFile = url;	<span class="comment">// Specifying which file to get</span>
			<span class="reserved">this</span>.ajax_list_objects[ajaxIndex].onCompletion = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__ajaxOptionListShowContent(ajaxIndex,inputObj); };	<span class="comment">// Specify function that will be executed after file has been found</span>
			<span class="reserved">this</span>.ajax_list_objects[ajaxIndex].runAJAX();		<span class="comment">// Execute AJAX function		</span>
		}
		
			
	}
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ __ajaxOptionsHide()</span>
    <span class="comment">/**
     *	
     *	hide the options div
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxOptionsHide:<span class="reserved">function</span>()
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_optionDiv) <span class="reserved">this</span>.ajax_optionDiv.style.display=<span class="literal">'none'</span>;	
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_optionDiv_iframe) <span class="reserved">this</span>.ajax_optionDiv_iframe.style.display=<span class="literal">'none'</span>;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxOptionKeyNavigation(e)</span>
    <span class="comment">/**
     *	key navigation for Up arrow, Down arrow, tab, enter, esc
     *	
     *	<span class="attrib">@param</span> object - error handling
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxOptionKeyNavigation:<span class="reserved">function</span>(e)
	{	<span class="comment">// this: document.body		</span>
		<span class="reserved">if</span>(document.all)e = event;	
		var objectIndex = document.body.getAttribute(<span class="literal">"objectIndex"</span>);
		var refObject = DHTMLSuite.variableStorage.arrayDSObjects[objectIndex];
		
		<span class="reserved">if</span>(!refObject.ajax_optionDiv)<span class="reserved">return</span>;
		<span class="reserved">if</span>(refObject.ajax_optionDiv.style.display==<span class="literal">'none'</span>)<span class="reserved">return</span>;
		
		<span class="reserved">if</span>(e.keyCode==38){	<span class="comment">// Up arrow			</span>
			<span class="reserved">if</span>(!refObject.ajax_list_activeItem)<span class="reserved">return</span>;
			<span class="reserved">if</span>(refObject.ajax_list_activeItem &amp;&amp; !refObject.ajax_list_activeItem.previousSibling)<span class="reserved">return</span>;
			refObject.__ajaxOptionsRollOverActiveItem(refObject.ajax_list_activeItem.previousSibling,true);
		}
		
		<span class="reserved">if</span>(e.keyCode==40){	<span class="comment">// Down arrow</span>
			<span class="reserved">if</span>(!refObject.ajax_list_activeItem){
				refObject.__ajaxOptionsRollOverActiveItem(ajax_list_optionDivFirstItem,true);
			}<span class="reserved">else</span>{
				<span class="reserved">if</span>(!refObject.ajax_list_activeItem.nextSibling)<span class="reserved">return</span>;
				refObject.__ajaxOptionsRollOverActiveItem(refObject.ajax_list_activeItem.nextSibling,true);
			}
		}
		
		<span class="reserved">if</span>(e.keyCode==13 || e.keyCode==9){	<span class="comment">// Enter key or tab key						</span>
			<span class="reserved">if</span>(refObject.ajax_list_activeItem &amp;&amp; refObject.ajax_list_activeItem.className==<span class="literal">'optionDivSelected'</span>) refObject.__ajaxOptionSetValue(false,refObject.ajax_list_activeItem);
			<span class="reserved">if</span>(e.keyCode==13)<span class="reserved">return</span> false; <span class="reserved">else</span> <span class="reserved">return</span> true;
		}
		
		<span class="reserved">if</span>(e.keyCode==27){	<span class="comment">// Escape key</span>
			refObject.__ajaxOptionsHide();			
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxOptionsRollOverActiveItem(item,fromKeyBoard)</span>
    <span class="comment">/**
     *	rollover effect for options
     *	
     *	<span class="attrib">@param</span> object item - 
     *	<span class="attrib">@param</span> bollean fromKeyBoard - 
     *
    *<span class="attrib">@private</span>	
     */</span>	

	__ajaxOptionsRollOverActiveItem:<span class="reserved">function</span>(item,fromKeyBoard)
	{
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_activeItem) <span class="reserved">this</span>.ajax_list_activeItem.className=<span class="literal">'optionDiv'</span>;
		item.className=<span class="literal">'optionDivSelected'</span>;
		<span class="reserved">this</span>.ajax_list_activeItem = item;
		
		<span class="reserved">if</span>(fromKeyBoard){
			<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_activeItem.offsetTop &gt; <span class="reserved">this</span>.ajax_optionDiv.offsetHeight){
				<span class="reserved">this</span>.ajax_optionDiv.scrollTop = <span class="reserved">this</span>.ajax_list_activeItem.offsetTop - <span class="reserved">this</span>.ajax_optionDiv.offsetHeight + <span class="reserved">this</span>.ajax_list_activeItem.offsetHeight + 2 ;
			}
			<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_activeItem.offsetTop &lt; <span class="reserved">this</span>.ajax_optionDiv.scrollTop)
			{
				<span class="reserved">this</span>.ajax_optionDiv.scrollTop = 0;	
			}
		}
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxOptionResize(inputObj)</span>
    <span class="comment">/**
     *	rollover effect for options
     *	
     *	<span class="attrib">@param</span> object item - 
     *	<span class="attrib">@param</span> bollean fromKeyBoard - 
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxOptionResize:<span class="reserved">function</span>(inputObj)
	{
		<span class="reserved">this</span>.ajax_optionDiv.style.top  = (<span class="reserved">this</span>.__ajaxGetTopPos(inputObj) + inputObj.offsetHeight + <span class="reserved">this</span>.ajaxBox_offsetY) + <span class="literal">'px'</span>;
		<span class="reserved">this</span>.ajax_optionDiv.style.left = (<span class="reserved">this</span>.__ajaxGetLeftPos(inputObj) + <span class="reserved">this</span>.ajaxBox_offsetX) + <span class="literal">'px'</span>;
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_optionDiv_iframe){
			<span class="reserved">this</span>.ajax_optionDiv_iframe.style.left = <span class="reserved">this</span>.ajax_optionDiv.style.left;
			<span class="reserved">this</span>.ajax_optionDiv_iframe.style.top = <span class="reserved">this</span>.ajax_optionDiv.style.top;			
		}		
		
	}	
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxGetTopPos(inputObj)</span>
    <span class="comment">/**
     *	find top position of div including options
     *	     
     *	<span class="attrib">@param</span> object inputObj - input object for using auto complete
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxGetTopPos:<span class="reserved">function</span>(inputObj)
	{
		var returnValue = inputObj.offsetTop;
	  	<span class="reserved">while</span>((inputObj = inputObj.offsetParent) != null){
	  		returnValue += inputObj.offsetTop;
	  	}
	  	<span class="reserved">return</span> returnValue;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxGetLeftPos(inputObj)</span>
    <span class="comment">/**
     *	find left position of div including options
     *	     
     *	<span class="attrib">@param</span> object inputObj - input object for using auto complete
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxGetLeftPos:<span class="reserved">function</span>(inputObj)
	{
		var returnValue = inputObj.offsetLeft;
	  	<span class="reserved">while</span>((inputObj = inputObj.offsetParent) != null)returnValue += inputObj.offsetLeft;
	  
	  	<span class="reserved">return</span> returnValue;
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxOptionListShowContent(ajaxIndex,inputObj)</span>
    <span class="comment">/**
     *	call build options function and show content
     *	     
     *	<span class="attrib">@param</span> number ajaxIndex 
     *	<span class="attrib">@param</span> object inputObj  - input object     
     *
    *<span class="attrib">@private</span>	
     */</span>	
  	__ajaxOptionListShowContent:<span class="reserved">function</span>(ajaxIndex,inputObj)
	{		
		var letters = inputObj.value;
		var content = <span class="reserved">this</span>.ajax_list_objects[ajaxIndex].response;
		var elements = content.split(<span class="literal">'|'</span>);
		<span class="reserved">this</span>.ajax_list_cachedLists[inputObj.id][letters.toLowerCase()] = elements;
		<span class="reserved">this</span>.__ajaxOptionListBuildList(letters,inputObj.id);
		
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxOptionListBuildList(letters,inputObjId)</span>
    <span class="comment">/**
     *	build options list
     *	     
     *	<span class="attrib">@param</span> string letters  : input value
     *	<span class="attrib">@param</span> string inputObjId     
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxOptionListBuildList:<span class="reserved">function</span>(letters,inputObjId)
	{
		var ind = <span class="reserved">this</span>.objectIndex;
		
		<span class="comment">//alert(inputObjId);</span>
		
		<span class="reserved">this</span>.ajax_optionDiv.innerHTML = <span class="literal">''</span>;
		<span class="reserved">this</span>.ajax_list_activeItem = false;
		<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_cachedLists[inputObjId][letters.toLowerCase()].length&lt;=1){
			<span class="reserved">this</span>.__ajaxOptionsHide();
			<span class="reserved">return</span>;			
		}
		
		<span class="reserved">this</span>.ajax_list_optionDivFirstItem = false;
		var optionsAdded = false;
		<span class="reserved">for</span>(var no=0;no&lt;<span class="reserved">this</span>.ajax_list_cachedLists[inputObjId][letters.toLowerCase()].length;no++){
			<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_cachedLists[inputObjId][letters.toLowerCase()][no].length==0)continue;
			optionsAdded = true;
			var div = document.createElement(<span class="literal">'DIV'</span>);
			var items = <span class="reserved">this</span>.ajax_list_cachedLists[inputObjId][letters.toLowerCase()][no].split(/###/gi);
			
			<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_list_cachedLists[inputObjId][letters.toLowerCase()].length==1 &amp;&amp; <span class="reserved">this</span>.ajax_list_activeInput.value == items[0]){
				<span class="reserved">this</span>.__ajaxOptionsHide();
				<span class="reserved">return</span>;						
			}
			
			div.innerHTML = items[items.length-1];
			div.id = items[0];
			div.className=<span class="literal">'optionDiv'</span>;
			div.setAttribute(<span class="literal">'objectIndex'</span>,ind);
			div.onmouseover = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__ajaxOptionsRollOverActiveItem(<span class="reserved">this</span>,false) }			
			div.onclick = <span class="reserved">this</span>.__ajaxOptionSetValue;
			<span class="reserved">if</span>(!<span class="reserved">this</span>.ajax_list_optionDivFirstItem) <span class="reserved">this</span>.ajax_list_optionDivFirstItem = div;
			<span class="reserved">this</span>.ajax_optionDiv.appendChild(div);
		}	
		<span class="reserved">if</span>(optionsAdded){
			<span class="reserved">this</span>.ajax_optionDiv.style.display=<span class="literal">'block'</span>;
			<span class="reserved">if</span>(<span class="reserved">this</span>.ajax_optionDiv_iframe) <span class="reserved">this</span>.ajax_optionDiv_iframe.style.display=<span class="literal">''</span>;
			<span class="reserved">this</span>.__ajaxOptionsRollOverActiveItem(<span class="reserved">this</span>.ajax_list_optionDivFirstItem,true);
		}
					
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxOptionSetValue(e,inputObj)</span>
    <span class="comment">/**
     *	set selected option to input value
     *	     
     *	<span class="attrib">@param</span> object e  - error handling
     *	<span class="attrib">@param</span> object divOptionObj  - div object (for a option)
     *
    *<span class="attrib">@private</span>	
     */</span>	

	__ajaxOptionSetValue:<span class="reserved">function</span>(e,divOptionObj)
	{		
		<span class="comment">// this : div element</span>
		<span class="reserved">if</span>(!divOptionObj)divOptionObj=<span class="reserved">this</span>;
		var referenceToObject = DHTMLSuite.variableStorage.arrayDSObjects[divOptionObj.getAttribute(<span class="literal">'objectIndex'</span>)];		
		var tmpValue = divOptionObj.innerHTML;
		<span class="reserved">if</span> (referenceToObject.ajax_list_MSIE) tmpValue = divOptionObj.innerText; <span class="reserved">else</span> tmpValue = divOptionObj.textContent;
		<span class="reserved">if</span>(!tmpValue)tmpValue = divOptionObj.innerHTML;
		referenceToObject.ajax_list_activeInput.value = tmpValue;
		<span class="reserved">if</span>(document.getElementById(referenceToObject.ajax_list_activeInput.name + <span class="literal">'_hidden'</span>))document.getElementById(referenceToObject.ajax_list_activeInput.name + <span class="literal">'_hidden'</span>).value = divOptionObj.id; 
		referenceToObject.__ajaxOptionsHide();
							
	}
	<span class="comment">// }}}</span>
	,
	<span class="comment">// {{{ __ajaxListCancelEvent()</span>
    <span class="comment">/**
     *	cancel event function (just for IE)
     *	<span class="attrib">@return</span> false
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__ajaxListCancelEvent:<span class="reserved">function</span>()
	{
		<span class="reserved">return</span> false;
	}
	
	
}
<span class="comment">/*[FILE_START:dhtmlSuite-chainedSelect.js] */</span>
<span class="comment">/************************************************************************************************************
*	DHTML chained selects script
*
*	Created:			Jun, 02th, 2007
*	<span class="attrib">@module</span> coder: Batur Orkun (batur<span class="attrib">@bilkent</span>.edu.tr, http://www.xdhtml.com)
*	
*	<span class="attrib">@class</span> Purpose of class: This script uses Ajax to popuplate a select box based on other select box you choose.
*		
*	Css files used by this script:	no css file
*
*	Demos of this class:		demo-chained-selects.html
*
* 	Update log:
*
************************************************************************************************************/</span>


<span class="comment">/**
* <span class="attrib">@constructor</span>
* <span class="attrib">@class</span> Purpose of class:	Display a tooltip on screen with content from an external file(AJAX)(&lt;a href="../../demos/demo-dyn-tooltip-1.html" target="_blank"&gt;Demo&lt;/a&gt;)
* <span class="attrib">@version</span> 0.1
* <span class="attrib">@author</span>	Alf Magne Kalleland &amp; Batur Orkun 
* (www.dhtmlgoodies.com)
*/</span>

DHTMLSuite.chainedSelect=<span class="reserved">function</span>(){
	
	var targetSels;
	var sourceSels;
	var urls;
	
	var waitMessage;
	var layoutCss;
	var objectIndex;
	
	<span class="reserved">this</span>.targetSels = new Array();
	<span class="reserved">this</span>.sourceSels = new Array();
	<span class="reserved">this</span>.urls	    = new Array();

	
	try{
		<span class="reserved">if</span>(!standardObjectsCreated)DHTMLSuite.createStandardObjects();	
		<span class="comment">// This line starts all the init methods</span>
	}catch(e){
		alert(<span class="literal">'You need to include the dhtmlSuite-common.js file'</span>);
	}
	
	<span class="reserved">this</span>.objectIndex = DHTMLSuite.variableStorage.arrayDSObjects.length;;
	DHTMLSuite.variableStorage.arrayDSObjects[<span class="reserved">this</span>.objectIndex] = <span class="reserved">this</span>;	
}

DHTMLSuite.chainedSelect.<span class="reserved">prototype</span>={
	<span class="comment">// {{{ init()</span>
    <span class="comment">/**
     *	Initializes the script
     * 	
     *
     * <span class="attrib">@public</span>
     */</span>	
	init:<span class="reserved">function</span>()
  	{
    var ind = <span class="reserved">this</span>.objectIndex;
  	<span class="reserved">for</span>(index=0; index&lt;<span class="reserved">this</span>.sourceSels.length; index++) {
  		sourceObj = document.getElementById(<span class="reserved">this</span>.sourceSels[index]);
  		eval(<span class="literal">'sourceObj.onchange = function() { DHTMLSuite.variableStorage.arrayDSObjects['</span> + ind +<span class="literal">'].__callURL('</span> + index + <span class="literal">') }'</span>); 
  		<span class="comment">//sourceObj.onchange = function() { eval(onchangeJS) };</span>
  	}
  		 		
	}
	<span class="comment">// }}}</span>
	,
	
	<span class="comment">// {{{ addChain((sourceSelId, targetSelId, URLToCall)</span>
    <span class="comment">/**
    *	add chain
    *	
    *	<span class="attrib">@param</span> String sourceSelId - selected select box object id
    *	<span class="attrib">@param</span> String targetSelId - target (loading) select box id    
    *	<span class="attrib">@param</span> String URLToCall   - cgi url address to load options
     *
    *<span class="attrib">@public</span>	
     */</span>	
	addChain:<span class="reserved">function</span>(sourceSelId, targetSelId, URLToCall)
	{
	var index = <span class="reserved">this</span>.sourceSels.length;
	<span class="reserved">this</span>.sourceSels[index] = sourceSelId;		
	<span class="reserved">this</span>.targetSels[index] = targetSelId;

	<span class="reserved">if</span> (URLToCall.indexOf(<span class="literal">'?'</span>) == -1)
    	<span class="reserved">this</span>.urls[index] = URLToCall + <span class="literal">'?'</span>;
    <span class="reserved">else</span>
      	<span class="reserved">this</span>.urls[index] = URLToCall + <span class="literal">'&amp;'</span>;			
	}	
	
<span class="comment">// }}}	</span>
	,
	
	<span class="comment">// {{{ __callURL(index)</span>
    <span class="comment">/**
     *	ajax function for call cgi
     *	
     *	<span class="attrib">@param</span> number index - chained select box number
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__callURL:<span class="reserved">function</span>(index)
	{
	var ind 		= <span class="reserved">this</span>.objectIndex;
	var sourceObj 	= document.getElementById(<span class="reserved">this</span>.sourceSels[index]);
	var url 		= <span class="reserved">this</span>.urls[index];
	
	var ajaxIndex 	= DHTMLSuite.variableStorage.ajaxObjects.length;
  	
	try{
       	DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex] = new sack();
    }catch(e){   <span class="comment">// Unable to create ajax object - send alert message and return from sort method.</span>
       	alert(<span class="literal">'Unable to create ajax object. Please make sure that the sack js file is included on your page'</span>);   
    	<span class="reserved">return</span>;
    }
    
    DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].requestFile = url + <span class="literal">'dg_key='</span> + sourceObj.value;
    DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].onCompletion = <span class="reserved">function</span>(){ DHTMLSuite.variableStorage.arrayDSObjects[ind].__loadOptions(index,DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].response) };
    DHTMLSuite.variableStorage.ajaxObjects[ajaxIndex].runAJAX();      <span class="comment">// Execute AJAX function </span>

    }	
	
	<span class="comment">// }}}	</span>
	,
	
	<span class="comment">// {{{ __loadOptions(index,optionsData)</span>
    <span class="comment">/**
     *	add options to target select box 
     *	
     *	<span class="attrib">@param</span> number index - loading select box number
     *	<span class="attrib">@param</span> string optionsData - seperated data including options 
     *					(text1;va1 | text2;val2 | text3;val3)
     *
    *<span class="attrib">@private</span>	
     */</span>	
	__loadOptions:<span class="reserved">function</span>(index, optionsData) 
	{
		var targetObj 	= document.getElementById(<span class="reserved">this</span>.targetSels[index]);
		targetObj.options.length = 0;
		targetObj.options[targetObj.options.length] = new Option(<span class="literal">'select a item'</span>,<span class="literal">''</span>); 
		var options_array=optionsData.split(<span class="literal">"|"</span>);
		<span class="reserved">for</span>(i=0; i&lt;options_array.length;i++) {
			var option_array=options_array[i].split(<span class="literal">";"</span>);
			<span class="reserved">if</span>(option_array.length&gt;1)targetObj.options[targetObj.options.length] = new Option(option_array[0].trim(), option_array[1].trim());	
		}
	
	}
}
</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Mon Oct  8 10:17:27 2007</div>
</body>
</html>
